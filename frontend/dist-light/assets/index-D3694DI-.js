import{a as e,b as t,r as a,u as r,L as n,R as s,d as i,e as o,g as l,B as c,f as d,h as u}from"./vendor-iHBdY4HE.js";import{E as m,X as h,M as f,H as p,B as g,A as x,D as y,C as b,T as v,a as j,U as w,F as N,P as k,S as _,b as C,c as S,d as D,e as A,R as O,G as z,L as T,f as E,g as M,h as P,i as L,j as I,k as $,l as F,m as R,n as B,o as W,p as U,q as H,r as Y,s as V,t as K,u as G,Z as q,v as Z,w as Q,x as X,I as J,y as ee,z as te,J as ae,K as re,N as ne,O as se,Q as ie,V as oe,W as le}from"./icons-1zRW-tOF.js";import{m as ce,A as de}from"./animations-D55oYH3B.js";import{R as ue,A as me,C as he,X as fe,Y as pe,T as ge,a as xe,L as ye,b as be,c as ve,P as je,d as we,e as Ne,B as ke,f as _e,r as Ce,g as Se,h as De,i as Ae,j as Oe,k as ze,l as Te,m as Ee,n as Me,o as Pe,p as Le,q as Ie,s as $e,t as Fe,u as Re,v as Be,w as We,x as Ue,y as He,z as Ye,D as Ve,E as Ke,F as Ge,G as qe,H as Ze,I as Qe,J as Xe,K as Je,M as et,N as tt,O as at,Q as rt,S as nt,U as st,V as it,W as ot,Z as lt,_ as ct,$ as dt,a0 as ut,a1 as mt,a2 as ht,a3 as ft,a4 as pt,a5 as gt,a6 as xt,a7 as yt,a8 as bt,a9 as vt,aa as jt,ab as wt,ac as Nt,ad as kt,ae as _t,af as Ct,ag as St,ah as Dt,ai as At,aj as Ot,ak as zt,al as Tt,am as Et,an as Mt,ao as Pt,ap as Lt,aq as It,ar as $t,as as Ft,at as Rt,au as Bt,av as Wt,aw as Ut,ax as Ht,ay as Yt,az as Vt,aA as Kt,aB as Gt,aC as qt,aD as Zt,aE as Qt,aF as Xt,aG as Jt,aH as ea,aI as ta,aJ as aa,aK as ra,aL as na,aM as sa,aN as ia}from"./charts-BnE41MKe.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var oa,la,ca={exports:{}},da={};var ua,ma=(la||(la=1,ca.exports=function(){if(oa)return da;oa=1;var t=e(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var o,l={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,o)&&!i.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:s.current}}return da.Fragment=r,da.jsx=o,da.jsxs=o,da}()),ca.exports),ha={};var fa=function(){if(ua)return ha;ua=1;var e=t();return ha.createRoot=e.createRoot,ha.hydrateRoot=e.hydrateRoot,ha}(),pa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ga={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},xa=new class{#e=ga;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};var ya="undefined"==typeof window||"Deno"in globalThis;function ba(){}function va(e,t){return"function"==typeof e?e(t):e}function ja(e,t){const{type:a="all",exact:r,fetchStatus:n,predicate:s,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==Na(i,t.options))return!1}else if(!_a(t.queryKey,i))return!1;if("all"!==a){const e=t.isActive();if("active"===a&&!e)return!1;if("inactive"===a&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!n||n===t.state.fetchStatus)&&!(s&&!s(t)))}function wa(e,t){const{exact:a,status:r,predicate:n,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(a){if(ka(t.options.mutationKey)!==ka(s))return!1}else if(!_a(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(n&&!n(t))}function Na(e,t){return(t?.queryKeyHashFn||ka)(e)}function ka(e){return JSON.stringify(e,(e,t)=>Aa(t)?Object.keys(t).sort().reduce((e,a)=>(e[a]=t[a],e),{}):t)}function _a(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(a=>_a(e[a],t[a])))}var Ca=Object.prototype.hasOwnProperty;function Sa(e,t){if(e===t)return e;const a=Da(e)&&Da(t);if(!(a||Aa(e)&&Aa(t)))return t;const r=(a?e:Object.keys(e)).length,n=a?t:Object.keys(t),s=n.length,i=a?new Array(s):{};let o=0;for(let l=0;l<s;l++){const s=a?l:n[l],c=e[s],d=t[s];if(c===d){i[s]=c,(a?l<r:Ca.call(e,s))&&o++;continue}if(null===c||null===d||"object"!=typeof c||"object"!=typeof d){i[s]=d;continue}const u=Sa(c,d);i[s]=u,u===c&&o++}return r===s&&o===r?e:i}function Da(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Aa(e){if(!Oa(e))return!1;const t=e.constructor;if(void 0===t)return!0;const a=t.prototype;return!!Oa(a)&&(!!a.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Oa(e){return"[object Object]"===Object.prototype.toString.call(e)}function za(e,t,a){return"function"==typeof a.structuralSharing?a.structuralSharing(e,t):!1!==a.structuralSharing?Sa(e,t):t}function Ta(e,t,a=0){const r=[...e,t];return a&&r.length>a?r.slice(1):r}function Ea(e,t,a=0){const r=[t,...e];return a&&r.length>a?r.slice(0,-1):r}var Ma=Symbol();function Pa(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Ma?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var La=new class extends pa{#a;#r;#n;constructor(){super(),this.#n=e=>{if(!ya&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#n=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#a!==e&&(this.#a=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#a?this.#a:"hidden"!==globalThis.document?.visibilityState}};var Ia=function(e){setTimeout(e,0)};var $a=function(){let e=[],t=0,a=e=>{e()},r=e=>{e()},n=Ia;const s=r=>{t?e.push(r):n(()=>{a(r)})};return{batch:s=>{let i;t++;try{i=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&n(()=>{r(()=>{t.forEach(e=>{a(e)})})})})()}return i},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{a=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{n=e}}}(),Fa=new class extends pa{#s=!0;#r;#n;constructor(){super(),this.#n=e=>{if(!ya&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#r||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#n=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#s!==e&&(this.#s=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#s}};function Ra(e){return Math.min(1e3*2**e,3e4)}function Ba(e){return"online"!==(e??"online")||Fa.isOnline()}var Wa=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ua(e){let t,a=!1,r=0;const n=function(){let e,t;const a=new Promise((a,r)=>{e=a,t=r});function r(e){Object.assign(a,e),delete a.resolve,delete a.reject}return a.status="pending",a.catch(()=>{}),a.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},a.reject=e=>{r({status:"rejected",reason:e}),t(e)},a}(),s=()=>"pending"!==n.status,i=()=>La.isFocused()&&("always"===e.networkMode||Fa.isOnline())&&e.canRun(),o=()=>Ba(e.networkMode)&&e.canRun(),l=e=>{s()||(t?.(),n.resolve(e))},c=e=>{s()||(t?.(),n.reject(e))},d=()=>new Promise(a=>{t=e=>{(s()||i())&&a(e)},e.onPause?.()}).then(()=>{t=void 0,s()||e.onContinue?.()}),u=()=>{if(s())return;let t;const n=0===r?e.initialPromise:void 0;try{t=n??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{if(s())return;const n=e.retry??(ya?0:3),o=e.retryDelay??Ra,l="function"==typeof o?o(r,t):o,m=!0===n||"number"==typeof n&&r<n||"function"==typeof n&&n(r,t);var h;!a&&m?(r++,e.onFail?.(r,t),(h=l,new Promise(e=>{xa.setTimeout(e,h)})).then(()=>i()?void 0:d()).then(()=>{a?c(t):u()})):c(t)})};return{promise:n,status:()=>n.status,cancel:t=>{if(!s()){const a=new Wa(t);c(a),e.onCancel?.(a)}},continue:()=>(t?.(),n),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1},canStart:o,start:()=>(o()?u():d().then(u),n)}}var Ha=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#i=xa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ya?1/0:3e5))}clearGcTimeout(){this.#i&&(xa.clearTimeout(this.#i),this.#i=void 0)}},Ya=class extends Ha{#o;#l;#c;#d;#u;#m;#h;constructor(e){super(),this.#h=!1,this.#m=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#d=e.client,this.#c=this.#d.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Va(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){if(this.options={...this.#m,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Va(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const a=za(this.state.data,e,this.options);return this.#f({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(ba).catch(ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,a=this,"function"==typeof t?t(a):t);var t,a})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ma||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===va(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#u&&(this.#h?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#u?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,a.signal)})},n=()=>{const e=Pa(this.options,t),a=(()=>{const e={client:this.#d,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#h=!1,this.options.persister?this.options.persister(e,a,this):e(a)},s=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#d,state:this.state,fetchFn:n};return r(e),e})();this.options.behavior?.onFetch(s,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===s.fetchOptions?.meta||this.#f({type:"fetch",meta:s.fetchOptions?.meta}),this.#u=Ua({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:e=>{e instanceof Wa&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),a.abort()},onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const e=await this.#u.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(i){if(i instanceof Wa){if(i.silent)return this.#u.promise;if(i.revert){if(void 0===this.state.data)throw i;return this.state.data}}throw this.#f({type:"error",error:i}),this.#c.config.onError?.(i,this),this.#c.config.onSettled?.(this.state.data,i,this),i}finally{this.scheduleGc()}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(a=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ba(r.networkMode)?"fetching":"paused",...void 0===a&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const n={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?n:void 0,n;case"error":const s=e.error;return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var a,r})(this.state),$a.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function Va(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,a=void 0!==t,r=a?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function Ka(e){return{onFetch:(t,a)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let a=!1;const c=Pa(t.options,t.fetchOptions),d=async(e,r,n)=>{if(a)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:n?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?a=!0:t.signal.addEventListener("abort",()=>{a=!0}),t.signal)}),e})(),i=await c(s),{maxPages:o}=t.options,l=n?Ea:Ta;return{pages:l(e.pages,i,o),pageParams:l(e.pageParams,r,o)}};if(n&&s.length){const e="backward"===n,t={pages:s,pageParams:i},a=(e?qa:Ga)(r,t);o=await d(t,a,e)}else{const t=e??s.length;do{const e=0===l?i[0]??r.initialPageParam:Ga(r,o);if(l>0&&null==e)break;o=await d(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=c}}}function Ga(e,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,a[r],a):void 0}function qa(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}var Za=class extends Ha{#p;#g;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter(t=>t!==e),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#f({type:"continue"})};this.#u=Ua({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});const a="pending"===this.state.status,r=!this.#u.canStart();try{if(a)t();else{this.#f({type:"pending",variables:e,isPaused:r}),await(this.#g.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#f({type:"pending",context:t,variables:e,isPaused:r})}const n=await this.#u.start();return await(this.#g.config.onSuccess?.(n,e,this.state.context,this)),await(this.options.onSuccess?.(n,e,this.state.context)),await(this.#g.config.onSettled?.(n,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(n,null,e,this.state.context)),this.#f({type:"success",data:n}),n}catch(n){try{throw await(this.#g.config.onError?.(n,e,this.state.context,this)),await(this.options.onError?.(n,e,this.state.context)),await(this.#g.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,n,e,this.state.context)),n}finally{this.#f({type:"error",error:n})}}finally{this.#g.runNext(this)}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),$a.batch(()=>{this.#p.forEach(t=>{t.onMutationUpdate(e)}),this.#g.notify({mutation:this,type:"updated",action:e})})}};var Qa=class extends pa{constructor(e={}){super(),this.config=e,this.#x=new Set,this.#y=new Map,this.#b=0}#x;#y;#b;build(e,t,a){const r=new Za({mutationCache:this,mutationId:++this.#b,options:e.defaultMutationOptions(t),state:a});return this.add(r),r}add(e){this.#x.add(e);const t=Xa(e);if("string"==typeof t){const a=this.#y.get(t);a?a.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#x.delete(e)){const t=Xa(e);if("string"==typeof t){const a=this.#y.get(t);if(a)if(a.length>1){const t=a.indexOf(e);-1!==t&&a.splice(t,1)}else a[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xa(e);if("string"==typeof t){const a=this.#y.get(t),r=a?.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Xa(e);if("string"==typeof t){const a=this.#y.get(t)?.find(t=>t!==e&&t.state.isPaused);return a?.continue()??Promise.resolve()}return Promise.resolve()}clear(){$a.batch(()=>{this.#x.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#x.clear(),this.#y.clear()})}getAll(){return Array.from(this.#x)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>wa(t,e))}findAll(e={}){return this.getAll().filter(t=>wa(e,t))}notify(e){$a.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return $a.batch(()=>Promise.all(e.map(e=>e.continue().catch(ba))))}};function Xa(e){return e.options.scope?.id}var Ja=class extends pa{constructor(e={}){super(),this.config=e,this.#v=new Map}#v;build(e,t,a){const r=t.queryKey,n=t.queryHash??Na(r,t);let s=this.get(n);return s||(s=new Ya({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#v.has(e.queryHash)||(this.#v.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#v.get(e.queryHash);t&&(e.destroy(),t===e&&this.#v.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$a.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#v.get(e)}getAll(){return[...this.#v.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>ja(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>ja(e,t)):t}notify(e){$a.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){$a.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$a.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},er=a.createContext(void 0),tr=({client:e,children:t})=>(a.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),ma.jsx(er.Provider,{value:e,children:t}));const ar={},rr=function(e,t,a){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),n=a?.nonce||a?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in ar)return;ar[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,n&&r.setAttribute("nonce",n),document.head.appendChild(r),t?new Promise((t,a)=>{r.addEventListener("load",t),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};var nr=function(){return null};const sr=()=>{const[e,t]=a.useState(!0),[s,i]=a.useState(["main"]),o=r(),l=[{to:"/",label:"Inicio",icon:p,category:"main"},{to:"/dashboard",label:"Dashboard Principal",icon:g,category:"main"},{to:"/ultimate",label:"Vista Completa",icon:x,category:"main"},{to:"#",label:"Información Financiera",icon:y,category:"financial",children:[{to:"/budget",label:"Presupuesto",icon:y},{to:"/spending",label:"Gastos Públicos",icon:b},{to:"/treasury",label:"Tesorería",icon:v}]},{to:"#",label:"Contrataciones",icon:j,category:"procurement",children:[{to:"/contracts",label:"Contratos",icon:j}]},{to:"#",label:"Recursos Humanos",icon:w,category:"hr",children:[{to:"/salaries",label:"Sueldos",icon:w}]},{to:"#",label:"Documentos",icon:N,category:"documents",children:[{to:"/documents",label:"Documentos",icon:N}]},{to:"#",label:"Análisis y Reportes",icon:k,category:"reports",children:[{to:"/reports",label:"Reportes",icon:k},{to:"/audit",label:"Auditoría",icon:_}]},{to:"#",label:"Sistema",icon:C,category:"system",children:[{to:"/database",label:"Base de Datos",icon:C}]}],c=(e,t=0)=>{const a=e.children&&e.children.length>0,r=!!e.category&&s.includes(e.category),l=!a&&("/"===(d=e.to)?"/"===o.pathname:o.pathname.startsWith(d));var d;return ma.jsxs("div",{children:[a?ma.jsxs("button",{onClick:()=>{return t=e.category,void i(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-full flex items-center px-4 py-3 text-left hover:bg-blue-50 transition-colors "+(t>0?"pl-8":""),children:[ma.jsx(e.icon,{className:"h-5 w-5 text-gray-600 mr-3"}),ma.jsx("span",{className:`font-medium text-gray-700 ${!r&&"hidden"}`,children:e.label}),ma.jsx("div",{className:`ml-auto ${!r&&"hidden"}`,children:r?ma.jsx(S,{className:"h-4 w-4 text-gray-400"}):ma.jsx(D,{className:"h-4 w-4 text-gray-400"})})]}):ma.jsxs(n,{to:e.to,className:`flex items-center px-4 py-3 hover:bg-blue-50 transition-colors ${l?"bg-blue-100 border-r-4 border-blue-500":""} ${t>0?"pl-8":""}`,children:[ma.jsx(e.icon,{className:"h-5 w-5 mr-3 "+(l?"text-blue-600":"text-gray-600")}),ma.jsx("span",{className:`font-medium ${l?"text-blue-600":"text-gray-700"} ${!r&&"hidden"}`,children:e.label})]}),a&&r&&ma.jsx("div",{className:"bg-gray-50",children:e.children.map(e=>c(e,t+1))})]},e.to+e.label)};return ma.jsxs(ma.Fragment,{children:[ma.jsxs("div",{className:"fixed left-0 top-0 h-full bg-white shadow-lg border-r border-gray-200 transition-all duration-300 z-40 "+(e?"w-64":"w-16"),children:[ma.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[ma.jsxs("div",{className:`flex items-center ${!e&&"hidden"}`,children:[ma.jsx(m,{className:"h-6 w-6 text-blue-600 mr-2"}),ma.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Transparencia CDA"})]}),ma.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e?ma.jsx(h,{className:"h-5 w-5 text-gray-600"}):ma.jsx(f,{className:"h-5 w-5 text-gray-600"})})]}),ma.jsx("nav",{className:"mt-4 pb-4 overflow-y-auto h-full",children:ma.jsx("div",{className:"space-y-1",children:l.map(e=>c(e))})})]}),e&&ma.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>t(!1)})]})};class ir extends s.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({hasError:!0,error:e,errorInfo:t})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{window.open("https://github.com/flongstaff/cda-transparencia/issues","_blank")};render(){return this.state.hasError?ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:ma.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[ma.jsx("div",{className:"bg-red-50 border-b border-red-200 p-6",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(A,{className:"w-8 h-8 text-red-500 mr-3"}),ma.jsxs("div",{children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Algo salió mal"}),ma.jsx("p",{className:"text-red-700",children:"Se ha producido un error inesperado en la aplicación"})]})]})}),ma.jsxs("div",{className:"p-6",children:[ma.jsxs("div",{className:"mb-6",children:[ma.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Detalles del error:"}),ma.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[ma.jsx("p",{className:"text-sm text-gray-700 font-mono",children:this.state.error?.message||"Error desconocido"}),this.state.errorInfo?.componentStack&&ma.jsxs("details",{className:"mt-3",children:[ma.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"Pila de seguimiento"}),ma.jsx("pre",{className:"mt-2 text-xs text-gray-600 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]})]})]}),ma.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[ma.jsxs("button",{onClick:this.handleReload,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 inline-flex items-center justify-center",children:[ma.jsx(O,{className:"w-4 h-4 mr-2"}),"Recargar página"]}),ma.jsxs("button",{onClick:this.handleGoHome,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 inline-flex items-center justify-center",children:[ma.jsx(p,{className:"w-4 h-4 mr-2"}),"Ir a inicio"]}),ma.jsxs("button",{onClick:this.handleReportIssue,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 inline-flex items-center justify-center",children:[ma.jsx(z,{className:"w-4 h-4 mr-2"}),"Reportar problema"]})]}),ma.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:ma.jsx("p",{className:"text-sm text-blue-700",children:"Si el problema persiste, por favor reporte el error en nuestro repositorio de GitHub incluyendo los detalles mostrados arriba."})})]})]})}):this.props.children}}const or=[{title:"Master Dashboard",description:"Vista completa de TODOS los componentes y datos del sistema",path:"/master",icon:ma.jsx(T,{className:"w-6 h-6 text-purple-500"}),color:"bg-purple-50 border-purple-200",highlight:!0},{title:"Presupuesto Anual",description:"Ver el presupuesto municipal con análisis completo",path:"/budget",icon:ma.jsx(y,{className:"w-6 h-6 text-green-500"}),color:"bg-green-50 border-green-200"},{title:"Dashboard Principal",description:"Resumen ejecutivo y métricas principales",path:"/dashboard",icon:ma.jsx(b,{className:"w-6 h-6 text-blue-500"}),color:"bg-blue-50 border-blue-200"},{title:"Contratos y Licitaciones",description:"Acceder a contratos firmados y licitaciones públicas",path:"/contracts",icon:ma.jsx(j,{className:"w-6 h-6 text-orange-500"}),color:"bg-orange-50 border-orange-200"},{title:"Todos los Documentos",description:"Explorar todos los documentos disponibles en el portal",path:"/documents",icon:ma.jsx(N,{className:"w-6 h-6 text-gray-500"}),color:"bg-gray-50 border-gray-200"},{title:"Dashboard General",description:"Resumen general de datos financieros y de transparencia",path:"/dashboard",icon:ma.jsx(T,{className:"w-6 h-6 text-purple-500"}),color:"bg-purple-50 border-purple-200"},{title:"Datos por Año",description:"Análisis detallado de datos por año fiscal",path:"/dashboard",icon:ma.jsx(P,{className:"w-6 h-6 text-blue-500"}),color:"bg-blue-50 border-blue-200"}],lr=()=>{const[e,t]=a.useState("");return ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl shadow-xl overflow-hidden mb-12",children:ma.jsx("div",{className:"px-6 py-12 sm:px-12 sm:py-16 lg:px-16 lg:py-20",children:ma.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[ma.jsxs("div",{className:"md:w-2/3 mb-8 md:mb-0",children:[ma.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Portal de Transparencia Municipal"}),ma.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Acceso ciudadano a la información financiera y administrativa del Municipio de Carmen de Areco"}),ma.jsxs("div",{className:"flex flex-wrap gap-3",children:[ma.jsxs(n,{to:"/dashboard",className:"px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-flex items-center",children:[ma.jsx(T,{className:"w-5 h-5 mr-2"}),"Ver Resumen General"]}),ma.jsxs(n,{to:"/documents",className:"px-6 py-3 bg-blue-800 text-white rounded-lg font-semibold hover:bg-blue-900 transition-colors inline-flex items-center",children:[ma.jsx(N,{className:"w-5 h-5 mr-2"}),"Explorar Documentos"]})]})]}),ma.jsx("div",{className:"md:w-1/3 flex justify-center",children:ma.jsx("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-full p-6",children:ma.jsx(_,{className:"w-24 h-24 text-white"})})})]})})}),ma.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-12",children:ma.jsxs("div",{className:"max-w-3xl mx-auto",children:[ma.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Buscar información en el portal"}),ma.jsxs("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&alert(`Buscando: ${e}`)},className:"relative",children:[ma.jsx(E,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),ma.jsx("input",{type:"text",placeholder:"Buscar documentos, presupuestos, contratos, etc.",value:e,onChange:e=>t(e.target.value),className:"w-full pl-12 pr-24 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"}),ma.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:"Buscar"})]})]})}),ma.jsxs("div",{className:"mb-12",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Acceso Rápido a Información"}),ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:or.map((e,t)=>ma.jsx(n,{to:e.path,className:`${e.color} border rounded-xl p-6 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1`,children:ma.jsxs("div",{className:"flex items-start space-x-4",children:[ma.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-white shadow-sm",children:e.icon}),ma.jsxs("div",{children:[ma.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.title}),ma.jsx("p",{className:"text-gray-600 text-sm",children:e.description}),ma.jsxs("div",{className:"mt-3 flex items-center text-blue-600 text-sm font-medium",children:[ma.jsx("span",{children:"Acceder"}),ma.jsx(D,{className:"w-4 h-4 ml-1"})]})]})]})},t))})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-12",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Resumen del Portal"}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ma.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center mb-4",children:[ma.jsx(g,{className:"w-8 h-8 text-blue-500 mr-3"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Indicadores Financieros"})]}),ma.jsx("p",{className:"text-gray-600 mb-4",children:"Visualización de indicadores clave de la gestión financiera municipal"}),ma.jsxs(n,{to:"/dashboard",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Ver indicadores",ma.jsx(D,{className:"w-4 h-4 ml-1"})]})]}),ma.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center mb-4",children:[ma.jsx(k,{className:"w-8 h-8 text-green-500 mr-3"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución de Gastos"})]}),ma.jsx("p",{className:"text-gray-600 mb-4",children:"Análisis de cómo se distribuyen los gastos municipales por categoría"}),ma.jsxs(n,{to:"/spending",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Ver distribución",ma.jsx(D,{className:"w-4 h-4 ml-1"})]})]}),ma.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center mb-4",children:[ma.jsx(M,{className:"w-8 h-8 text-purple-500 mr-3"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Evolución Temporal"})]}),ma.jsx("p",{className:"text-gray-600 mb-4",children:"Seguimiento de la evolución de ingresos y gastos a lo largo del tiempo"}),ma.jsxs(n,{to:"/year/2025",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Ver evolución",ma.jsx(D,{className:"w-4 h-4 ml-1"})]})]})]})]}),ma.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-blue-50 border border-orange-200 rounded-xl p-6",children:ma.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[ma.jsxs("div",{className:"md:w-3/4 mb-6 md:mb-0",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sistema de Transparencia Activo"}),ma.jsx("p",{className:"text-gray-700",children:"Este portal proporciona acceso libre y gratuito a la información pública del Municipio de Carmen de Areco, cumpliendo con las normativas de transparencia activa."})]}),ma.jsx("div",{className:"md:w-1/4 flex justify-center",children:ma.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 px-4 py-2 rounded-full border border-green-200",children:[ma.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse"}),ma.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Sistema Activo"})]})})]})})]})},cr=(window.location.hostname,"https://cda-transparencia.org"),dr={AFIP_CONSTANCIA:"https://soa.afip.gob.ar/sr-padron/v2/persona",AFIP_ACTIVIDAD:"https://soa.afip.gob.ar/sr-padron/v2/actividad",BOLETIN_OFICIAL:"https://www.boletinoficial.gob.ar/normas/api/v1.0",CONTRATACIONES_AR:"https://contrataciones.argentina.gob.ar/api/v1",BUENOS_AIRES_GOV:"https://www.gba.gob.ar/api/transparencia",ARGENTINA_GOB:"https://www.argentina.gob.ar/api"};class ur{static instance;cache=new Map;CACHE_DURATION=6e4;constructor(){}static getInstance(){return ur.instance||(ur.instance=new ur),ur.instance}async loadCompleteSystemData(){const e={byYear:{},summary:{total_documents:0,years_covered:[],categories:[],external_sources_active:0,audit_completion_rate:0,last_updated:(new Date).toISOString()},external_systems:{}},t=[2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025].map(async e=>{const t={documents:[],budget:{},salaries:{},contracts:{},external_validations:[],audit_report:{}};try{const[a,r,n,s]=await Promise.all([this.loadAllDocumentsForYear(e),this.loadBudgetDataForYear(e),this.loadSalaryDataForYear(e),this.loadContractDataForYear(e)]);t.documents=a,t.budget=r,t.salaries=n,t.contracts=s,t.external_validations=await this.validateWithExternalSources(t),t.audit_report=this.generateAuditReport(t)}catch(a){}return{year:e,data:t}});return(await Promise.all(t)).forEach(({year:t,data:a})=>{e.byYear[t]=a}),e.external_systems=await this.checkExternalSystems(),e.external_systems=await this.checkExternalSystems(),e.summary=this.calculateSummaryStats(e),e}async loadAllDocumentsForYear(e){const t=["Contrataciones","Declaraciones_Patrimoniales","Documentos_Generales","Ejecución_de_Gastos","Ejecución_de_Recursos","Estados_Financieros","Recursos_Humanos","Salud_Pública","Presupuesto_Municipal"],a=[];for(const n of t){const t=await this.loadOrganizedCategoryDocuments(e,n);a.push(...t);const r=await this.loadFallbackDocuments(e,n);a.push(...r)}const r=await this.loadFromDataIndices(e);a.push(...r);return this.deduplicateDocuments(a)}async loadOrganizedCategoryDocuments(e,t){const a=[],r=`${cr}/data/organized_documents/${e}/${t}`,n=[{type:"json",subdir:"json",ext:".json"},{type:"markdown",subdir:"markdown",ext:".md"},{type:"pdf",subdir:"pdfs",ext:".pdf"}];for(const i of n)try{const n=`${r}/${i.subdir}/index.json`,s=await fetch(n);if(s.ok){const n=await s.json();n.files&&n.files.forEach(n=>{const s=`${e}-${t}-${n.name}`;let o=a.find(e=>e.id===s);o||(o={id:s,title:this.formatDocumentTitle(n.name,t),category:t,year:e,filename:n.name,size_mb:n.size_mb||0,verified:!0,processing_date:n.processing_date||(new Date).toISOString(),audit_status:"pending"},a.push(o));const l=`${r}/${i.subdir}/${n.name}`;"json"===i.type?o.json_url=l:"markdown"===i.type?o.markdown_url=l:"pdf"===i.type&&(o.pdf_url=l)})}}catch(s){}return a}async loadFallbackDocuments(e,t){const a=[],r=[`EJECUCION-DE-GASTOS-${e}`,`EJECUCION-DE-RECURSOS-${e}`,`ESTADO-DE-EJECUCION-DE-GASTOS-${e}`,`ESTADO-DE-EJECUCION-DE-RECURSOS-${e}`,`PRESUPUESTO-MUNICIPAL-${e}`,`CONTRATOS-${e}`,`LICITACIONES-${e}`,`SALARIOS-${e}`,`DECLARACIONES-PATRIMONIALES-${e}`];for(const s of r)if(this.patternMatchesCategory(s,t)){const r={id:`${e}-${t}-${s}`,title:this.formatDocumentTitle(s,t),category:t,year:e,filename:s,size_mb:0,verified:!0,processing_date:(new Date).toISOString(),audit_status:"pending"},i=[{ext:".pdf",urlKey:"pdf_url"},{ext:".json",urlKey:"json_url"},{ext:".md",urlKey:"markdown_url"}];for(const{ext:e,urlKey:t}of i){const a=`${cr}/data/organized_documents/json/${`${s}${e}`}`;try{(await fetch(a,{method:"HEAD"})).ok&&(r[t]=a)}catch(n){}}(r.pdf_url||r.json_url||r.markdown_url)&&a.push(r)}return a}async loadFromDataIndices(e){const t=[],a=[`data_index_${e}.json`,"data_index_Contrataciones.json","data_index_Presupuesto_Municipal.json","document_inventory.json"];for(const n of a)try{const a=`${cr}/data/organized_documents/json/${n}`,r=await fetch(a);if(r.ok){const a=await r.json();a.documents&&a.documents.filter(t=>t.year===e).forEach(a=>{t.push({id:a.id||`${e}-${a.filename}`,title:a.title||this.formatDocumentTitle(a.filename,a.category),category:a.category||"General",year:e,filename:a.filename,json_url:a.url||`${cr}${a.relative_path}`,size_mb:a.size_mb||0,verified:!1!==a.verified,processing_date:a.processing_date||(new Date).toISOString(),audit_status:"pending",content:a})})}}catch(r){}return t}async loadBudgetDataForYear(e){const t=[`${cr}/data/organized_analysis/financial_oversight/budget_analysis/budget_data_${e}.json`,`${cr}/data/organized_documents/json/EJECUCION-DE-GASTOS-${e}.json`,`${cr}/data/organized_documents/json/PRESUPUESTO-MUNICIPAL-${e}.json`];for(const r of t)try{const e=await fetch(r);if(e.ok)return await e.json()}catch(a){continue}return{}}async loadSalaryDataForYear(e){const t=[`${cr}/data/organized_analysis/financial_oversight/salary_oversight/salary_data_${e}.json`,`${cr}/data/organized_documents/json/SALARIOS-${e}.json`,`${cr}/data/organized_documents/json/RECURSOS-HUMANOS-${e}.json`];for(const r of t)try{const e=await fetch(r);if(e.ok)return await e.json()}catch(a){continue}return{}}async loadContractDataForYear(e){const t=[`${cr}/data/organized_documents/json/CONTRATOS-${e}.json`,`${cr}/data/organized_documents/json/LICITACIONES-${e}.json`,`${cr}/data/organized_documents/json/data_index_Contrataciones.json`];for(const r of t)try{const t=await fetch(r);if(t.ok){const a=await t.json();return a.documents?{...a,documents:a.documents.filter(t=>t.year===e)}:a}}catch(a){continue}return{}}async validateWithExternalSources(e){const t=[];if(e.contracts&&e.contracts.documents)try{const a=await this.validateWithAFIP(e.contracts);t.push(a)}catch(a){}try{const a=await this.validateWithProcurementSystem(e.contracts);t.push(a)}catch(a){}return t}async validateWithAFIP(e){return{source:"AFIP",validated:!1,last_check:(new Date).toISOString(),details:{message:"AFIP validation requires additional configuration"}}}async validateWithProcurementSystem(e){return{source:"Contrataciones Argentina",validated:!1,last_check:(new Date).toISOString(),details:{message:"Cross-reference with procurement system available"}}}async checkExternalSystems(){const e={};e["GitHub Pages"]={status:"active",last_check:(new Date).toISOString(),url:cr};for(const[a,r]of Object.entries(dr))try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),s=await fetch(r,{signal:t.signal,method:"HEAD"});clearTimeout(n),e[a]={status:s.ok?"active":"error",last_check:(new Date).toISOString(),description:"Fuente complementaria para validación"}}catch(t){e[a]={status:"inactive",last_check:(new Date).toISOString(),error:t instanceof Error?t.message:"Unknown error",description:"Fuente complementaria para validación"}}return e}generateAuditReport(e){return{total_documents:e.documents.length,verified_documents:e.documents.filter(e=>e.verified).length,external_validations:e.external_validations.length,audit_completion:e.documents.filter(e=>"verified"===e.audit_status).length,discrepancies:e.documents.filter(e=>"discrepancy"===e.audit_status).length,generated_at:(new Date).toISOString()}}calculateSummaryStats(e){const t=Object.values(e.byYear).reduce((e,t)=>e+t.documents.length,0),a=Object.keys(e.byYear).map(Number).sort(),r=new Set;Object.values(e.byYear).forEach(e=>{e.documents.forEach(e=>r.add(e.category))});const n=Object.values(e.external_systems).filter(e=>"active"===e.status).length,s=t,i=Object.values(e.byYear).reduce((e,t)=>e+t.documents.filter(e=>"verified"===e.audit_status).length,0);return{total_documents:t,years_covered:a,categories:Array.from(r),external_sources_active:n,audit_completion_rate:s>0?i/s*100:0,last_updated:(new Date).toISOString()}}formatDocumentTitle(e,t){return`${e.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase())} - ${t}`}patternMatchesCategory(e,t){const a=e.toLowerCase();return({contrataciones:["contrat","licitac"],"ejecución_de_gastos":["gasto","ejecucion"],"ejecución_de_recursos":["recurso","ejecucion"],presupuesto_municipal:["presupuesto"],recursos_humanos:["salario","recurso"],declaraciones_patrimoniales:["declaracion"],estados_financieros:["estado","financiero"]}[t.toLowerCase()]||[]).some(e=>a.includes(e))}deduplicateDocuments(e){const t=new Map;return e.forEach(e=>{const a=t.get(e.id);a?(e.pdf_url&&!a.pdf_url&&(a.pdf_url=e.pdf_url),e.json_url&&!a.json_url&&(a.json_url=e.json_url),e.markdown_url&&!a.markdown_url&&(a.markdown_url=e.markdown_url)):t.set(e.id,e)}),Array.from(t.values())}clearCache(){this.cache.clear()}}const mr=ur.getInstance();class hr extends Error{constructor(e,t,a){super(e),this.code=t,this.originalError=a,this.name="DocumentServiceError"}}const fr={enableLogging:!0,enableUserFeedback:!0,enableReporting:!1,maxErrorsPerSession:10,errorBlacklist:["AbortError","NetworkError"]};const pr=new class{config;errorCount=0;sessionErrors=[];constructor(e={}){this.config={...fr,...e}}handleError(e,t){if(this.errorCount>=this.config.maxErrorsPerSession)return;const a=e instanceof Error?{...e,context:t}:new Error(e.message);t&&(a.context=t),this.errorCount++,this.sessionErrors.push(a),this.config.enableLogging&&this.logError(a),this.config.enableReporting&&this.config.reportingEndpoint&&this.reportError(a),this.config.enableUserFeedback&&this.showUserFeedback(a)}logError(e){e.context,e.context,e.context,e.context,e.originalError}async reportError(e){if(this.config.reportingEndpoint)try{const t={message:e.message,stack:e.stack,context:e.context,severity:e.severity||"error",code:e.code,timestamp:(new Date).toISOString()};await fetch(this.config.reportingEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){}}showUserFeedback(e){if(e instanceof hr)return void this.showDocumentServiceError(e);const t={type:"error",title:"Error",message:e.message||"An unexpected error occurred",timestamp:new Date};this.displayFeedback(t)}showDocumentServiceError(e){let t;switch(e.code){case"NETWORK_ERROR":t={type:"error",title:"Connection Error",message:"Unable to connect to the server. Please check your internet connection and try again.",timestamp:new Date,action:{label:"Retry",handler:()=>window.location.reload()}};break;case"NOT_FOUND":t={type:"warning",title:"Not Found",message:"The requested resource could not be found.",timestamp:new Date};break;case"PERMISSION_ERROR":t={type:"error",title:"Access Denied",message:"You do not have permission to access this resource.",timestamp:new Date};break;case"PARSE_ERROR":t={type:"error",title:"Data Error",message:"There was an error processing the data. Please try again later.",timestamp:new Date};break;default:t={type:"error",title:"Error",message:e.message||"An unexpected error occurred",timestamp:new Date}}this.displayFeedback(t)}displayFeedback(e){e.action}showSuccess(e,t,a){const r={type:"success",title:e,message:t,timestamp:new Date,duration:a};this.displayFeedback(r)}showInfo(e,t,a){const r={type:"info",title:e,message:t,timestamp:new Date,duration:a};this.displayFeedback(r)}showWarning(e,t,a){const r={type:"warning",title:e,message:t,timestamp:new Date,duration:a};this.displayFeedback(r)}reset(){this.errorCount=0,this.sessionErrors=[]}getStats(){return{totalErrors:this.errorCount,sessionErrors:this.sessionErrors.length}}},gr={GITHUB_BASE_URL:"https://raw.githubusercontent.com",GITHUB_OWNER:"flongstaff",GITHUB_REPO:"cda-transparencia",GITHUB_BRANCH:"main",CACHE_DURATION:3e5,MAX_RETRIES:3};String.prototype.hashCode=function(){let e=0;for(let t=0;t<this.length;t++){e=(e<<5)-e+this.charCodeAt(t),e&=e}return e.toString()};const xr=new class{cache=new Map;loadingPromises=new Map;getGitHubRawUrl(e){return`${gr.GITHUB_BASE_URL}/${gr.GITHUB_OWNER}/${gr.GITHUB_REPO}/${gr.GITHUB_BRANCH}/${e}`}async fetchWithRetry(e,t=gr.MAX_RETRIES){let a;for(let n=0;n<=t;n++)try{const a=await fetch(e,{headers:{Accept:"application/json, text/plain, */*"}});if(a.ok)return a;if(n===t)throw new Error(`HTTP ${a.status}: ${a.statusText}`);await new Promise(e=>setTimeout(e,1e3*Math.pow(2,n)))}catch(r){if(a=r,n===t)throw a}throw a}async loadDocumentMetadata(e){try{const t=this.cache.get(e);if(t&&Date.now()-t.timestamp<t.ttl)return t.data;if(this.loadingPromises.has(e))return await this.loadingPromises.get(e);const a=this.fetchDocumentMetadata(e);this.loadingPromises.set(e,a);const r=await a;return this.loadingPromises.delete(e),r&&this.cache.set(e,{data:r,timestamp:Date.now(),ttl:gr.CACHE_DURATION}),r}catch(t){return pr.handleError(t,{component:"DocumentService",action:"loadDocumentMetadata",timestamp:new Date}),null}}async fetchDocumentMetadata(e){try{const t=this.getGitHubRawUrl(e),a=await this.fetchWithRetry(t);if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);const r=this.extractFileType(e);return{id:`${e.hashCode()}`,title:e.split("/").pop()?.replace(/\.[^/.]+$/,"")||"Documento sin nombre",filename:e.split("/").pop()||e,year:(new Date).getFullYear(),category:"unknown",size_mb:"0",url:t,official_url:t,verification_status:"verified",processing_date:(new Date).toISOString(),relative_path:e,content:"",file_type:r}}catch(t){return null}}async loadDocumentContent(e){try{const t=this.cache.get(`content_${e}`);if(t&&Date.now()-t.timestamp<t.ttl)return t.data.content;if(this.loadingPromises.has(`content_${e}`)){const t=await this.loadingPromises.get(`content_${e}`);return t?.content||""}const a=this.fetchDocumentContent(e);this.loadingPromises.set(`content_${e}`,a);const r=await a;return this.loadingPromises.delete(`content_${e}`),r&&this.cache.set(`content_${e}`,{data:{content:r},timestamp:Date.now(),ttl:gr.CACHE_DURATION}),r}catch(t){throw pr.handleError(t,{component:"DocumentService",action:"loadDocumentContent",timestamp:new Date}),t}}async fetchDocumentContent(e){try{const t=this.getGitHubRawUrl(e),a=await this.fetchWithRetry(t);if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);return await a.text()}catch(t){throw new Error(`Failed to fetch content for ${e}: ${t.message}`)}}extractFileType(e){return{pdf:"pdf",md:"md",markdown:"markdown",jpg:"jpg",jpeg:"jpeg",png:"png",gif:"gif",svg:"svg",json:"json",zip:"zip",rar:"rar","7z":"7z",doc:"doc",docx:"docx",xls:"xls",xlsx:"xlsx",ppt:"ppt",pptx:"pptx",txt:"txt",csv:"csv"}[e.toLowerCase().split(".").pop()||""]||"txt"}async searchDocuments(e,t){try{const a=[{id:"pdf-001",title:"Presupuesto Municipal 2024",filename:"presupuesto-2024.pdf",year:2024,category:"Presupuesto",size_mb:"2.5",url:"https://raw.githubusercontent.com/flongstaff/cda-transparencia/main/data/organized_documents/presupuesto-2024.pdf",official_url:"https://example.com/presupuesto-2024.pdf",verification_status:"verified",processing_date:(new Date).toISOString(),relative_path:"data/organized_documents/presupuesto-2024.pdf",content:"",file_type:"pdf"},{id:"md-001",title:"Informe de Ejecución Presupuestaria",filename:"informe-ejecucion.md",year:2024,category:"Finanzas",size_mb:"0.8",url:"https://raw.githubusercontent.com/flongstaff/cda-transparencia/main/data/organized_documents/informe-ejecucion.md",official_url:"https://example.com/informe-ejecucion.md",verification_status:"verified",processing_date:(new Date).toISOString(),relative_path:"data/organized_documents/informe-ejecucion.md",content:"# Informe de Ejecución Presupuestaria\n\nEste informe detalla la ejecución presupuestaria del municipio...",file_type:"md"},{id:"jpg-001",title:"Gráfico de Ingresos",filename:"grafico-ingresos.jpg",year:2024,category:"Finanzas",size_mb:"1.2",url:"https://raw.githubusercontent.com/flongstaff/cda-transparencia/main/data/organized_documents/grafico-ingresos.jpg",official_url:"https://example.com/grafico-ingresos.jpg",verification_status:"verified",processing_date:(new Date).toISOString(),relative_path:"data/organized_documents/grafico-ingresos.jpg",content:"",file_type:"jpg"},{id:"json-001",title:"Datos de Sueldos",filename:"sueldos-2024.json",year:2024,category:"Recursos Humanos",size_mb:"0.5",url:"https://raw.githubusercontent.com/flongstaff/cda-transparencia/main/data/organized_documents/sueldos-2024.json",official_url:"https://example.com/sueldos-2024.json",verification_status:"verified",processing_date:(new Date).toISOString(),relative_path:"data/organized_documents/sueldos-2024.json",content:'{"empleados": [{"nombre": "Juan Pérez", "sueldo": 50000}, {"nombre": "María García", "sueldo": 45000}]}',file_type:"json"}].filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.filename.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase()));return t?a.filter(e=>e.category.toLowerCase()===t.toLowerCase()):a}catch(a){return pr.handleError(a,{component:"DocumentService",action:"searchDocuments",timestamp:new Date}),[]}}async getAvailableCategories(){try{return["Presupuesto","Finanzas","Recursos Humanos","Contratos","Declaraciones"]}catch(e){return pr.handleError(e,{component:"DocumentService",action:"getAvailableCategories",timestamp:new Date}),[]}}async getAvailableYears(){try{return[2020,2021,2022,2023,2024,2025]}catch(e){return pr.handleError(e,{component:"DocumentService",action:"getAvailableYears",timestamp:new Date}),[]}}clearCache(){this.cache.clear(),this.loadingPromises.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}},yr="https://raw.githubusercontent.com",br="flongstaff",vr="cda-transparencia",jr="main",wr=parseInt("300000"),Nr=parseInt("3");class kr{cache=new Map;maxSize=100;get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):(t.accessed=Date.now(),t.data):null}set(e,t,a=wr){this.cache.size>=this.maxSize&&this.evictLRU(),this.cache.set(e,{data:t,timestamp:Date.now(),ttl:a,accessed:Date.now()})}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}evictLRU(){let e=null,t=1/0;for(const[a,r]of this.cache.entries())r.accessed<t&&(t=r.accessed,e=a);e&&this.cache.delete(e)}}const _r=new class{cache=new kr;async fetchWithRetry(e,t={}){let a;const r={...t};for(let s=0;s<=Nr;s++)try{const t=await fetch(e,r);if(t.ok)return t;if(s===Nr)throw new hr(`Failed after ${Nr} retries: ${t.status} ${t.statusText}`,404===t.status?"NOT_FOUND":403===t.status?"PERMISSION_ERROR":"NETWORK_ERROR");await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s)))}catch(n){if(a=n,s===Nr)throw new hr(`Network error: ${a.message}`,"NETWORK_ERROR",a)}throw a}getGitHubRawUrl(e){return`${yr}/${br}/${vr}/${jr}/${e}`}async fetchJSON(e,t=!0){const a=`json_${e}`;if(t){const e=this.cache.get(a);if(e)return e}try{const r=this.getGitHubRawUrl(e),n=await this.fetchWithRetry(r),s=await n.json();return t&&this.cache.set(a,s),s}catch(r){throw new hr(`Failed to fetch JSON from ${e}: ${r.message}`,"UNKNOWN_ERROR",r)}}async fetchText(e,t=!0){const a=`text_${e}`;if(t){const e=this.cache.get(a);if(e)return e}try{const r=this.getGitHubRawUrl(e),n=await this.fetchWithRetry(r),s=await n.text();return t&&this.cache.set(a,s),s}catch(r){throw new hr(`Failed to fetch text from ${e}: ${r.message}`,"UNKNOWN_ERROR",r)}}async fetchBlob(e,t=!0){const a=`blob_${e}`;if(t){const e=this.cache.get(a);if(e)return e}try{const r=this.getGitHubRawUrl(e),n=await this.fetchWithRetry(r),s=await n.blob();return t&&this.cache.set(a,s),s}catch(r){throw new hr(`Failed to fetch blob from ${e}: ${r.message}`,"UNKNOWN_ERROR",r)}}async fetchDocumentMetadata(e){const t=`doc_meta_${e}`,a=this.cache.get(t);if(a)return a;try{const a=(await this.fetchJSON("data/organized_documents/document_inventory.json")).find(t=>t.relative_path===e);if(a){const e={id:a.id||`${a.year}_${a.category}_${a.filename}`,title:a.title||a.filename.replace(/\.[^/.]+$/,""),filename:a.filename,year:a.year,category:a.category,size_mb:a.size_mb||a.file_size||"0",url:a.url||this.getGitHubRawUrl(a.relative_path),official_url:a.official_url||"",verification_status:a.verification_status||"verified",processing_date:a.processing_date||a.created_at||(new Date).toISOString(),relative_path:a.relative_path||"",content:a.content||"",file_type:this.determineFileType(a.filename,a.mime_type)};return this.cache.set(t,e),e}return null}catch(r){return null}}determineFileType(e,t){return{pdf:"pdf",md:"md",markdown:"markdown",jpg:"jpg",jpeg:"jpeg",png:"png",gif:"gif",svg:"svg",json:"json",zip:"zip",rar:"rar","7z":"7z",doc:"doc",docx:"docx",xls:"xls",xlsx:"xlsx",ppt:"ppt",pptx:"pptx",txt:"txt",csv:"csv"}[e.toLowerCase().split(".").pop()||""]||"other"}async searchResources(e,t){try{const a=await this.fetchJSON("data/organized_documents/document_inventory.json");return a.filter(a=>{const r=a.filename&&a.filename.toLowerCase().includes(e.toLowerCase())||a.title&&a.title.toLowerCase().includes(e.toLowerCase()),n=!t||this.determineFileType(a.filename)===t;return r&&n}).map(e=>({id:e.id||`${e.year}_${e.category}_${e.filename}`,title:e.title||e.filename.replace(/\.[^/.]+$/,""),filename:e.filename,year:e.year,category:e.category,size_mb:e.size_mb||e.file_size||"0",url:e.url||this.getGitHubRawUrl(e.relative_path),official_url:e.official_url||"",verification_status:e.verification_status||"verified",processing_date:e.processing_date||e.created_at||(new Date).toISOString(),relative_path:e.relative_path||"",content:e.content||"",file_type:this.determineFileType(e.filename,e.mime_type)}))}catch(a){throw new hr(`Failed to search resources: ${a.message}`,"UNKNOWN_ERROR",a)}}async getAvailableYears(){const e="available_years",t=this.cache.get(e);if(t)return t;try{const t=await this.fetchJSON("data/organized_documents/document_inventory.json"),a=[...new Set(t.map(e=>parseInt(e.year)))].sort((e,t)=>t-e);return this.cache.set(e,a,9e5),a}catch(a){throw new hr(`Failed to get available years: ${a.message}`,"UNKNOWN_ERROR",a)}}async getCategoriesForYear(e){const t=`categories_${e}`,a=this.cache.get(t);if(a)return a;try{const a=await this.fetchJSON("data/organized_documents/document_inventory.json"),r=[...new Set(a.filter(t=>parseInt(t.year)===e).map(e=>e.category.replace(/_/g," ")))].sort();return this.cache.set(t,r,6e5),r}catch(r){throw new hr(`Failed to get categories for year ${e}: ${r.message}`,"UNKNOWN_ERROR",r)}}clearCache(){this.cache.clear()}getCacheStats(){return this.cache.getStats()}};class Cr{static instance;cache=new Map;CACHE_DURATION=3e5;constructor(){}static getInstance(){return Cr.instance||(Cr.instance=new Cr),Cr.instance}async loadCompleteData(e){try{const t=await mr.loadCompleteSystemData(),a=e&&t.byYear[e]?t.byYear[e]:t.byYear[(new Date).getFullYear()]||null,r={totalDocuments:t.summary.total_documents,availableYears:t.summary.years_covered,categories:t.summary.categories,auditCompletionRate:t.summary.audit_completion_rate,totalBudget:t.summary.total_budget||0,totalExecuted:t.summary.total_executed||0,executionRate:t.summary.execution_rate||0,externalSourcesActive:t.summary.external_sources_active};return{completeData:t,currentYearData:a?{documents:a.documents,budget:a.budget,salaries:a.salaries,contracts:a.contracts}:null,loading:!1,error:null,metrics:r,refetch:async()=>(mr.clearCache(),this.loadCompleteData(e)),clearCache:()=>{mr.clearCache()}}}catch(t){return{completeData:null,currentYearData:null,loading:!1,error:t.message||"Failed to load transparency data",metrics:{totalDocuments:0,availableYears:[],categories:[],auditCompletionRate:0,totalBudget:0,totalExecuted:0,executionRate:0,externalSourcesActive:0},refetch:async()=>this.loadCompleteData(e),clearCache:()=>mr.clearCache()}}}async getDocumentContent(e){try{if(e.json_url){const t=await fetch(e.json_url);if(t.ok)return await t.json()}if(e.markdown_url){const t=await fetch(e.markdown_url);if(t.ok)return await t.text()}if(e.content)return e.content;throw new Error("No content available for this document")}catch(t){throw t}}}const Sr=Cr.getInstance();class Dr{static instance;services;constructor(){this.services={completeFinal:mr,unified:Sr,document:xr.getInstance(),resource:_r}}static getInstance(){return Dr.instance||(Dr.instance=new Dr),Dr.instance}async loadAllData(e){const t=e||(new Date).getFullYear();try{let e=null;const r="https://api.cda-transparencia.org/api/transparency";if(!0)try{const a=await fetch(`${r}/transparency/year/${t}`);a.ok&&(e=await a.json())}catch(a){}const[n,s,i,o,l,c]=await Promise.allSettled([this.services.completeFinal.loadCompleteSystemData(),this.services.unified.loadCompleteData(t),this.services.optimized.loadCompleteData(t),this.services.document.loadDocuments(t),this.services.consolidated.loadConsolidatedData(t),this.services.resource.loadResourceData(t)]),d="fulfilled"===n.status?n.value:null,u="fulfilled"===s.status?s.value:null,m="fulfilled"===i.status?i.value:null,h="fulfilled"===o.status?o.value:[],f="fulfilled"===l.status?l.value:null,p="fulfilled"===c.status?c.value:null,g=this.mergeYearData(e||d,u,m,f,p,t),x=this.extractMultiYearData(e||d),y=this.prepareChartsData(e||d,u,m,t);return{completeData:e||d,yearData:g,multiYearData:x,chartsData:y,metadata:this.extractMetadata(e||d,u,e?.documents||h)}}catch(a){throw a}}extractMultiYearData(e){if(!e?.byYear)return{};const t={};for(const[a,r]of Object.entries(e.byYear)){t[parseInt(a)]={budget:r.budget||{},contracts:r.contracts||[],salaries:r.salaries||[],documents:r.documents||[],treasury:r.treasury||{},debt:r.debt||{},external_validation:r.external_validations||[]}}return t}mergeYearData(e,t,a,r,n,s){const i=e?.year===s?e:null,o=i||e?.byYear?.[s]||{},l=t?.currentYearData||{},c=a?.yearData||{};return{budget:{...o.budget,...o.financialOverview,...o.budgetBreakdown,...l.budget,...c.budget,...r?.budget},contracts:[...o.contracts||[],...o.externalData?.procurement_data?.licitaciones||[],...l.contracts||[],...c.contracts||[],...r?.contracts||[]].filter((e,t,a)=>a.findIndex(t=>t.id===e.id)===t),salaries:[...o.salaries||[],...l.salaries||[],...c.salaries||[],...r?.salaries||[]].filter((e,t,a)=>a.findIndex(t=>t.id===e.id)===t),documents:[...o.documents||[],...i?.documents||[],...l.documents||[],...c.documents||[]].filter((e,t,a)=>a.findIndex(t=>t.id===e.id)===t),treasury:{...o.treasury,...o.financialOverview,...l.treasury,...r?.treasury},debt:{...o.debt,...o.externalData?.ba_municipal_data?.debt,...l.debt,...r?.debt},external_validation:[...e?.externalData||[],...e?.external_validation||[],...r?.external_sources||[]]}}prepareChartsData(e,t,a,r){const n=e?.byYear?.[r]||{};return{budget:this.prepareBudgetChartData(n.budget,t,a),contracts:this.prepareContractsChartData(n.contracts,t,a),salaries:this.prepareSalariesChartData(n.salaries,t,a),treasury:this.prepareTreasuryChartData(n.budget,t,a),debt:this.prepareDebtChartData(n.budget,t,a),documents:this.prepareDocumentsChartData(n.documents,t,a),comprehensive:this.prepareComprehensiveChartData(e,t,a,r),budgetHistorical:this.prepareBudgetHistoricalData(e?.byYear||{}),contractsHistorical:this.prepareContractsHistoricalData(e?.byYear||{}),salariesHistorical:this.prepareSalariesHistoricalData(e?.byYear||{}),treasuryHistorical:this.prepareTreasuryHistoricalData(e?.byYear||{}),debtHistorical:this.prepareDebtHistoricalData(e?.byYear||{}),documentsHistorical:this.prepareDocumentsHistoricalData(e?.byYear||{})}}prepareBudgetHistoricalData(e){return Object.keys(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(t=>{const a=e[t]?.budget||{};return{year:parseInt(t),budget_total:a.totalBudget||a.total_budget||0,executed_total:a.totalExecuted||a.total_executed||0,execution_rate:a.executionPercentage||a.execution_rate||0}})}prepareContractsHistoricalData(e){return Object.keys(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(t=>{const a=e[t]?.contracts||[];return{year:parseInt(t),total_contracts:a.length||0,by_status:this.groupBy(a,"status"),total_amount:a.reduce((e,t)=>e+(t.budget||0),0)}})}prepareSalariesHistoricalData(e){return Object.keys(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(t=>{const a=e[t]?.salaries||[];return{year:parseInt(t),total_employees:a.length||0,average_salary:a.length>0?a.reduce((e,t)=>e+(t.grossSalary||0),0)/a.length:0,total_payroll:a.reduce((e,t)=>e+(t.grossSalary||0),0)}})}prepareTreasuryHistoricalData(e){return Object.keys(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(t=>{const a=e[t]?.budget||{};return{year:parseInt(t),total_revenue:a.totalRevenue||a.total_revenue||0,total_expenses:a.totalExpenses||a.total_expenses||0,cash_flow:a.cashFlow||[],balance:a.balance||0}})}prepareDebtHistoricalData(e){return Object.keys(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(t=>{const a=e[t]?.budget||{};return{year:parseInt(t),total_debt:a.totalDebt||a.total_debt||0,debt_by_type:a.debtByType||[]}})}prepareDocumentsHistoricalData(e){return Object.keys(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(t=>{const a=e[t]?.documents||[];return{year:parseInt(t),total_documents:a.length||0,by_category:this.groupBy(a,"category"),verification_status:{verified:a.filter(e=>e.verified).length||0,pending:a.filter(e=>!e.verified).length||0}}})}prepareBudgetChartData(e,t,a){return{budget_total:e?.totalBudget||e?.total_budget||0,executed_total:e?.totalExecuted||e?.total_executed||0,execution_rate:e?.executionPercentage||e?.execution_rate||0,categories:e?.categories||[],monthly_execution:e?.monthly_execution||[],comparison_data:t?.metrics||{}}}prepareContractsChartData(e,t,a){return{total_contracts:e?.length||0,by_status:this.groupBy(e||[],"status"),by_type:this.groupBy(e||[],"type"),by_amount:e?.map(e=>({name:e.title,value:e.budget}))||[],timeline:e?.map(e=>({date:e.award_date,amount:e.budget}))||[]}}prepareSalariesChartData(e,t,a){return{total_employees:e?.length||0,average_salary:e?.length>0?e.reduce((e,t)=>e+(t.grossSalary||0),0)/e.length:0,by_department:this.groupBy(e||[],"department"),salary_distribution:e?.map(e=>e.grossSalary||0)||[]}}prepareTreasuryChartData(e,t,a){return{total_revenue:e?.totalRevenue||e?.total_revenue||0,total_expenses:e?.totalExpenses||e?.total_expenses||0,cash_flow:e?.cashFlow||[],balance:e?.balance||0}}prepareDebtChartData(e,t,a){return{total_debt:e?.totalDebt||e?.total_debt||0,debt_by_type:e?.debtByType||[],debt_evolution:e?.debtEvolution||[]}}prepareDocumentsChartData(e,t,a){return{total_documents:e?.length||0,by_category:this.groupBy(e||[],"category"),by_year:this.groupBy(e||[],"year"),verification_status:{verified:e?.filter(e=>e.verified).length||0,pending:e?.filter(e=>!e.verified).length||0}}}prepareComprehensiveChartData(e,t,a,r){return{years_data:e?.byYear||{},summary:e?.summary||{},trends:this.calculateTrends(e?.byYear||{}),year_comparison:this.prepareYearComparison(e?.byYear||{},r)}}extractMetadata(e,t,a){const r=void 0!==e?.year&&void 0!==e?.documents;return{totalDocuments:r?e?.documents?.length||e?.summary?.total_documents:e?.summary?.total_documents||a?.length||0,availableYears:r&&e?.data_sources?.local?[e.year]:e?.summary?.years_covered||[],categories:r?Array.from(new Set([...e?.documents?.map(e=>e.category)||[],...e?.summary?.categories||[]])):e?.summary?.categories||[],dataSourcesActive:r&&e?.data_sources?Object.values(e.data_sources).filter(e=>"active"===e||!!e).length:6,lastUpdated:r?e?.generated_at||e?.summary?.last_updated:e?.summary?.last_updated||(new Date).toISOString()}}groupBy(e,t){return e.reduce((e,a)=>{const r=a[t];return e[r]=e[r]||[],e[r].push(a),e},{})}calculateTrends(e){return Object.keys(e).sort().map(t=>({year:parseInt(t),budget:e[t]?.budget?.totalBudget||0,contracts:e[t]?.contracts?.length||0,employees:e[t]?.salaries?.length||0}))}prepareYearComparison(e,t){const a=t-1,r=e[t]||{},n=e[a]||{};return{budget_change:this.calculateChange(r.budget?.totalBudget||0,n.budget?.totalBudget||0),contracts_change:this.calculateChange(r.contracts?.length||0,n.contracts?.length||0),employees_change:this.calculateChange(r.salaries?.length||0,n.salaries?.length||0)}}calculateChange(e,t){return 0===t?e>0?100:0:(e-t)/t*100}}const Ar=Dr.getInstance(),Or=e=>{const[t,r]=a.useState(null),[n,s]=a.useState(!0),[i,o]=a.useState(null),[l,c]=a.useState(e||(new Date).getFullYear()),d=a.useCallback(async()=>{try{s(!0),o(null);const e=await Ar.loadAllData(l);r(e)}catch(e){o(e.message||"Failed to load master data")}finally{s(!1)}},[l]),u=a.useCallback(async e=>{c(e),await d()},[d]);a.useEffect(()=>{d()},[d]);return{masterData:t,currentBudget:t?.yearData.budget||{},currentContracts:t?.yearData.contracts||[],currentSalaries:t?.yearData.salaries||[],currentDocuments:t?.yearData.documents||[],currentTreasury:t?.yearData.treasury||{},currentDebt:t?.yearData.debt||{},multiYearData:t?.multiYearData||{},budgetChartData:t?.chartsData.budget||{},contractsChartData:t?.chartsData.contracts||{},salariesChartData:t?.chartsData.salaries||{},treasuryChartData:t?.chartsData.treasury||{},debtChartData:t?.chartsData.debt||{},documentsChartData:t?.chartsData.documents||{},comprehensiveChartData:t?.chartsData.comprehensive||{},budgetHistoricalData:t?.chartsData.budgetHistorical||[],contractsHistoricalData:t?.chartsData.contractsHistorical||[],salariesHistoricalData:t?.chartsData.salariesHistorical||[],treasuryHistoricalData:t?.chartsData.treasuryHistorical||[],debtHistoricalData:t?.chartsData.debtHistorical||[],documentsHistoricalData:t?.chartsData.documentsHistorical||[],loading:n,error:i,totalDocuments:t?.metadata.totalDocuments||0,availableYears:t?.metadata.availableYears||[],categories:t?.metadata.categories||[],dataSourcesActive:t?.metadata.dataSourcesActive||0,refetch:d,switchYear:u}},zr=[{year:2025,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2025.json",label:"2025 (Planificación)"},{year:2024,hasDetailedBudget:!0,hasSalaryData:!0,hasDebtData:!0,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2024.json",label:"2024 (Completo)"},{year:2023,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2023.json",label:"2023 (Histórico)"},{year:2022,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2022.json",label:"2022 (Histórico)"},{year:2021,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2021.json",label:"2021 (Histórico)"},{year:2020,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2020.json",label:"2020 (Histórico)"},{year:2019,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2019.json",label:"2019 (Histórico)"},{year:2018,hasDetailedBudget:!1,hasSalaryData:!1,hasDebtData:!1,hasDocuments:!0,dataIndex:"/frontend/src/data/data_index_2018.json",label:"2018 (Histórico)"}];function Tr(e){return zr.find(t=>t.year===e)||null}const Er=({selectedYear:e,onYearChange:t,availableYears:a,label:r="Año",showDataAvailability:n=!0})=>{const s=a||zr.map(e=>e.year);return ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r,":"]}),ma.jsx("select",{value:e,onChange:e=>t(Number(e.target.value)),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",title:n?"Seleccionar año - algunos años pueden tener datos limitados":void 0,children:s.map(e=>{const t=Tr(e),a=n&&t?t.label:e.toString();return ma.jsx("option",{value:e,children:a},e)})}),n&&ma.jsx("div",{className:"text-xs text-gray-500",children:(()=>{const t=Tr(e);if(!t)return null;const a=[];return t.hasDetailedBudget&&a.push("💰"),t.hasSalaryData&&a.push("👥"),t.hasDebtData&&a.push("📊"),t.hasDocuments&&a.push("📄"),a.length>0?ma.jsx("span",{title:"Datos disponibles: Presupuesto, Salarios, Deuda, Documentos",children:a.join("")}):null})()})]})},Mr=()=>{const[e,t]=a.useState((new Date).getFullYear()),{currentBudget:r,currentContracts:s,currentSalaries:i,currentDocuments:o,loading:l,error:c,totalDocuments:d,availableYears:u,categories:m,dataSourcesActive:h,switchYear:f}=Or(e),p=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),b=a.useMemo(()=>({totalBudget:r?.budget_total||0,totalExecuted:r?.executed_total||0,executionRate:r?.execution_rate||0,totalContracts:s.length,totalEmployees:i.length,verifiedDocuments:o.filter(e=>e.verified).length,dataSourcesActive:h}),[r,s,i,o,h]);return l?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center",children:[ma.jsx(L,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando datos completos del sistema municipal..."}),ma.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Cargando ",u.length," años de datos financieros y de auditoría"]})]})}):c?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 text-center",children:[ma.jsx(I,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error del Sistema"}),ma.jsx("p",{className:"text-gray-600 mb-4",children:c}),ma.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reintentar Carga"})]})}):ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsxs("div",{className:"mb-8",children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Portal de Transparencia Municipal"}),ma.jsxs("p",{className:"text-gray-600",children:["Datos de ",e," - ",d," documentos de ",h," fuentes (JSON/MD/PDF/Externos)"]}),ma.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[ma.jsxs("span",{children:["📊 ",m.length," categorías"]}),ma.jsxs("span",{children:["🔗 ",u.length," años disponibles"]}),ma.jsxs("span",{children:["✅ ",h," fuentes activas"]})]})]}),ma.jsx(Er,{availableYears:u,selectedYear:e,onYearChange:e=>{t(e),f(e)}}),ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm mb-8",children:[ma.jsxs("div",{className:"border-b border-gray-200 p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estado del Sistema de Transparencia"}),ma.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium "+(h>=5?"bg-green-100 text-green-800":h>=3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:h>=5?"✅ Sistema Completo":h>=3?"⚠️ En Desarrollo":"❌ Datos Limitados"})]}),ma.jsxs("p",{className:"text-gray-600 mt-1",children:["Sistema completo de transparencia con ",d," documentos procesados"]})]}),ma.jsx("div",{className:"p-6",children:ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[ma.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Documentos Totales"}),ma.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d})]}),ma.jsx(N,{className:"w-8 h-8 text-blue-500"})]})}),ma.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-green-900",children:"Años Disponibles"}),ma.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.length})]}),ma.jsx(P,{className:"w-8 h-8 text-green-500"})]})}),ma.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Categorías"}),ma.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.length})]}),ma.jsx(g,{className:"w-8 h-8 text-purple-500"})]})}),ma.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Años Cubiertos"}),ma.jsx("p",{className:"text-2xl font-bold text-orange-600",children:u.length})]}),ma.jsx(x,{className:"w-8 h-8 text-orange-500"})]})})]})})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Presupuesto ",e]}),ma.jsx(y,{className:"w-6 h-6 text-green-500"})]}),ma.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:p(b.totalBudget)}),ma.jsx("p",{className:"text-sm text-gray-500",children:"Presupuesto total municipal"})]}),ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ejecutado"}),ma.jsx(v,{className:"w-6 h-6 text-blue-500"})]}),ma.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:p(b.totalExecuted)}),ma.jsxs("div",{className:"flex items-center",children:[ma.jsxs("span",{className:"text-sm font-medium text-green-600",children:[b.executionRate.toFixed(1),"%"]}),ma.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"del presupuesto"})]})]}),ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completitud"}),ma.jsx(_,{className:"w-6 h-6 text-purple-500"})]}),ma.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:[(d/50*100).toFixed(1),"%"]}),ma.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:ma.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.min(d/50*100,100)}%`}})})]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contratos"}),ma.jsx($,{className:"w-6 h-6 text-orange-500"})]}),ma.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:b.totalContracts}),ma.jsx("p",{className:"text-sm text-gray-500",children:"Licitaciones y contratos"})]}),ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verificados"}),ma.jsx(F,{className:"w-6 h-6 text-green-500"})]}),ma.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:b.verifiedDocuments}),ma.jsx("p",{className:"text-sm text-gray-500",children:"Documentos verificados"})]}),ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Año Actual"}),ma.jsx(P,{className:"w-6 h-6 text-blue-500"})]}),ma.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.length}),ma.jsxs("p",{className:"text-sm text-gray-500",children:["Documentos ",e]})]}),ma.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categorías"}),ma.jsx(w,{className:"w-6 h-6 text-indigo-500"})]}),ma.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:m.length}),ma.jsx("p",{className:"text-sm text-gray-500",children:"Áreas municipales"})]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ma.jsxs(n,{to:"/budget",className:"block p-6 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[ma.jsxs("div",{className:"flex items-center mb-4",children:[ma.jsx(y,{className:"w-8 h-8 text-blue-600 mr-3"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Presupuesto"})]}),ma.jsx("p",{className:"text-gray-600",children:"Análisis completo del presupuesto municipal"}),ma.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Ver ",p(b.totalBudget)," presupuestado"]})]}),ma.jsxs(n,{to:"/contracts",className:"block p-6 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[ma.jsxs("div",{className:"flex items-center mb-4",children:[ma.jsx($,{className:"w-8 h-8 text-orange-600 mr-3"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contratos"})]}),ma.jsx("p",{className:"text-gray-600",children:"Licitaciones y contratos municipales"}),ma.jsxs("p",{className:"text-sm text-orange-600 mt-2",children:[b.totalContracts," contratos registrados"]})]}),ma.jsxs(n,{to:"/documents",className:"block p-6 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[ma.jsxs("div",{className:"flex items-center mb-4",children:[ma.jsx(N,{className:"w-8 h-8 text-green-600 mr-3"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos"})]}),ma.jsx("p",{className:"text-gray-600",children:"Acceso a todos los documentos municipales"}),ma.jsxs("p",{className:"text-sm text-green-600 mt-2",children:[d," documentos disponibles"]})]})]})]})},Pr=(e,t=!1)=>t&&Math.abs(e)>=1e6?new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0,notation:"compact",compactDisplay:"short"}).format(e):new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Lr=(e,t=1)=>new Intl.NumberFormat("es-AR",{style:"percent",minimumFractionDigits:t,maximumFractionDigits:t}).format(e/100),Ir=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(2))} ${["Bytes","KB","MB","GB"][t]}`},$r=e=>{const[t,r]=a.useState(null),[n,s]=a.useState(!0),[i,o]=a.useState(null),l=a.useCallback(async()=>{try{s(!0),o(null);const e=await mr.loadCompleteSystemData();r(e)}catch(e){o(e.message||"Failed to load complete system data")}finally{s(!1)}},[]);a.useEffect(()=>{l()},[l]);const c=a.useMemo(()=>{if(!t)return null;const a=e||(new Date).getFullYear(),r=t.byYear[a];return r?{documents:r.documents,budget:r.budget,salaries:r.salaries,contracts:r.contracts}:null},[t,e]),d=t?.summary.total_documents||0,u=t?.summary.years_covered||[],m=t?.summary.categories||[],h=t?.summary.external_sources_active||0,f=t?.summary.audit_completion_rate||0,p=a.useCallback(()=>{mr.clearCache(),l()},[l]),g=a.useCallback(async e=>{try{if(e.json_url){const t=await fetch(e.json_url);if(t.ok)return await t.json()}if(e.markdown_url){const t=await fetch(e.markdown_url);if(t.ok)return await t.text()}if(e.content)return e.content;throw new Error("No content available for this document")}catch(t){throw t}},[]);return{completeData:t,currentYearData:c,loading:n,error:i,totalDocuments:d,availableYears:u,categories:m,externalSourcesActive:h,auditCompletionRate:f,refetch:l,clearCache:p,getDocumentContent:g}},Fr=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#6B7280","#14B8A6"],Rr=({type:e,year:t,title:r,className:n="",variant:s="bar",showControls:i=!1,height:o=300})=>{const[l,c]=a.useState(s),{currentYearData:d,loading:u,error:m}=$r(t),h=a.useMemo(()=>{if(!d)return[];switch(e){case"budget":{const e=d.budget;return e?Array.isArray(e.categories)?e.categories.map((e,t)=>({name:e.name||e.descripcion||e.category||`Categoría ${t+1}`,budgeted:parseFloat(e.budgeted||e.presupuestado||e.budget||0),executed:parseFloat(e.executed||e.ejecutado||e.execution||0),execution_rate:parseFloat(e.execution_rate||e.porcentaje_ejecucion||0),fill:Fr[t%Fr.length]})):e.categories?Object.entries(e.categories).map(([e,t],a)=>({name:e,budgeted:parseFloat(t.budgeted||t.presupuestado||t.budget||0),executed:parseFloat(t.executed||t.ejecutado||t.execution||0),execution_rate:parseFloat(t.execution_rate||t.porcentaje_ejecucion||0),fill:Fr[a%Fr.length]})):[{name:e.name||e.descripcion||"Presupuesto Total",budgeted:parseFloat(e.total_budget||e.budget||0),executed:parseFloat(e.total_executed||e.executed||0),execution_rate:e.total_budget>0?parseFloat(e.total_executed/e.total_budget*100):0,fill:Fr[0]}]:[]}case"document":{const e=d.documents||[],t={};return e.forEach(e=>{const a=e.category||"General";t[a]=(t[a]||0)+1}),Object.entries(t).map(([e,t],a)=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:t,fill:Fr[a%Fr.length]}))}case"revenue":{const e=d.budget?.total_revenue||0;return e?[{name:"Ingresos",value:e,fill:Fr[0]}]:[]}case"debt":{const e=d.budget?.debt||d.debt;return e?Array.isArray(e)?e.map((e,t)=>({name:e.debt_type||e.descripcion||e.tipo||"Deuda",value:parseFloat(e.amount||e.monto||e.value||0),fill:Fr[t%Fr.length]})):[{name:e.debt_type||e.descripcion||"Deuda Total",value:parseFloat(e.amount||e.total||0),fill:Fr[0]}]:[]}case"salary":{const e=d.salaries;if(!e)return[];if(Array.isArray(e)){const t={};return e.forEach(e=>{const a=e.category||e.area||e.departamento||"General";t[a]||(t[a]={employees:0,totalSalary:0,count:0});const r=parseFloat(e.employeeCount||e.cantidad||1),n=parseFloat(e.grossSalary||e.sueldo_bruto||e.salario||0);t[a].employees+=r,t[a].totalSalary+=n*r,t[a].count+=r}),Object.entries(t).map(([e,t],a)=>({name:e,employees:t.employees,avgSalary:t.count>0?t.totalSalary/t.count:0,fill:Fr[a%Fr.length]}))}return e.categories?Object.entries(e.categories).map(([e,t],a)=>({name:e,avgSalary:parseFloat(t.avg_salary||t.promedio||0),employees:parseInt(t.employee_count||t.cantidad||0),fill:Fr[a%Fr.length]})):[{name:"Salarios",avgSalary:parseFloat(e.avg_salary||e.promedio||0),employees:parseInt(e.employee_count||e.total_employees||0),fill:Fr[0]}]}case"investment":{const e=d.budget?.investment||d.investment;return e?Array.isArray(e)?e.map((e,t)=>({name:e.description||e.name||"Inversión",value:parseFloat(e.net_value||e.value||0),fill:Fr[t%Fr.length]})):[{name:e.description||e.name||"Inversión Total",value:parseFloat(e.net_value||e.value||0),fill:Fr[0]}]:[]}case"contract":{const e=d.contracts;return e?Array.isArray(e)?e.map((e,t)=>({name:e.title||e.description||`Contrato ${t+1}`,value:parseFloat(e.amount||0),fill:Fr[t%Fr.length]})):e.documents?e.documents.map((e,t)=>({name:e.title||e.description||`Contrato ${t+1}`,value:parseFloat(e.amount||e.budget||0),fill:Fr[t%Fr.length]})):[{name:e.title||e.description||"Contratos",value:parseFloat(e.amount||e.total_amount||0),fill:Fr[0]}]:[]}case"treasury":{const e=d.budget?.treasury||d.treasury;if(!e)return[];if(e.movements){const t={};return e.movements.forEach(e=>{const a=e.category||e.tipo||"General";t[a]=(t[a]||0)+Math.abs(parseFloat(e.amount||e.monto||0))}),Object.entries(t).map(([e,t],a)=>({name:e,value:t,fill:Fr[a%Fr.length]}))}return[{name:"Tesorería",value:parseFloat(e.amount||e.total||0),fill:Fr[0]}]}case"property":{const e=d.contracts?.property_declarations||d.property_declarations;return e?Array.isArray(e)?e.map((e,t)=>({name:e.owner||`Declaración ${t+1}`,value:1,fill:Fr[t%Fr.length]})):[{name:"Declaraciones Patrimoniales",value:parseInt(e.count||e.total||0),fill:Fr[0]}]:[]}default:return[]}},[e,d]);return ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${n}`,children:[(r||i)&&ma.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[r&&ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),i&&ma.jsx("div",{className:"flex items-center space-x-2",children:["bar","pie","line","area"].map(e=>{const t={bar:ma.jsx(g,{size:16}),pie:ma.jsx(k,{size:16}),line:ma.jsx(x,{size:16}),area:ma.jsx(v,{size:16})};return ma.jsxs("button",{onClick:()=>c(e),className:"flex items-center px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+(l===e?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:`Vista ${e}`,children:[t[e],ma.jsx("span",{className:"ml-1 capitalize",children:e})]},e)})})]}),ma.jsx("div",{className:"p-4",children:(()=>{if(u)return ma.jsx("div",{className:"flex items-center justify-center h-64",children:ma.jsx(L,{className:"h-8 w-8 animate-spin text-blue-600"})});if(m||0===h.length)return ma.jsx("div",{className:"flex items-center justify-center h-64",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(R,{className:"h-8 w-8 text-amber-500 mx-auto mb-2"}),ma.jsx("p",{className:"text-sm text-gray-600",children:"No hay datos disponibles para mostrar"})]})});const t={data:h,margin:{top:20,right:30,left:20,bottom:5}};switch(l){case"bar":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(ke,{...t,children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280",angle:-45,textAnchor:"end",height:60}),ma.jsx(pe,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:t=>"salary"===e?t.toString():Pr(Number(t))}),ma.jsx(ge,{formatter:(t,a)=>"salary"===e?[t,a]:[Pr(Number(t)),a],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb"}}),ma.jsx(be,{}),"budget"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(_e,{dataKey:"budgeted",name:"Presupuestado",fill:"#3B82F6",radius:[4,4,0,0]}),ma.jsx(_e,{dataKey:"executed",name:"Ejecutado",fill:"#10B981",radius:[4,4,0,0]})]}):"salary"===e?ma.jsx(_e,{dataKey:"avgSalary",name:"Salario Promedio",fill:"#8B5CF6",radius:[4,4,0,0]}):"treasury"===e?ma.jsx(_e,{dataKey:"amount",name:"Monto",radius:[4,4,0,0]}):ma.jsx(_e,{dataKey:"value",name:"Valor",radius:[4,4,0,0]})]})});case"pie":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(je,{children:[ma.jsx(we,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((e,t)=>ma.jsx(Ne,{fill:e.fill||Fr[t%Fr.length]},`cell-${t}`))}),ma.jsx(ge,{formatter:e=>["number"==typeof e&&e>1e5?Pr(e):e,"Valor"]})]})});case"line":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(ye,{...t,children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(pe,{tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(ge,{formatter:e=>[Pr(Number(e)),"Valor"]}),ma.jsx(be,{}),ma.jsx(ve,{type:"monotone",dataKey:"value",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3B82F6",strokeWidth:2,fill:"#fff"}})]})});case"area":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(me,{...t,children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(pe,{tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(ge,{formatter:e=>[Pr(Number(e)),"Valor"]}),ma.jsx(xe,{type:"monotone",dataKey:"value",stroke:"#3B82F6",strokeWidth:2,fill:"rgba(59, 130, 246, 0.1)",fillOpacity:.6})]})});default:return null}})()}),!u&&!m&&h.length>0&&ma.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 rounded-b-lg",children:ma.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[ma.jsxs("span",{children:[h.length," elemento",1!==h.length?"s":""," • Año ",t]}),ma.jsxs("span",{className:"flex items-center",children:[ma.jsx(x,{className:"h-4 w-4 mr-1"}),"Datos actualizados"]})]})})]})},Br=({year:e,className:t})=>ma.jsx(Rr,{type:"contract",year:e,title:`Análisis de Contratos ${e}`,className:t,variant:"bar",showControls:!0});function Wr(e,t,a){function r(a,r){var n;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(n=a._zod).traits??(n.traits=new Set),a._zod.traits.add(e),t(a,r);for(const e in i.prototype)e in a||Object.defineProperty(a,e,{value:i.prototype[e].bind(a)});a._zod.constr=i,a._zod.def=r}const n=a?.Parent??Object;class s extends n{}function i(e){var t;const n=a?.Parent?new s:this;r(n,e),(t=n._zod).deferred??(t.deferred=[]);for(const a of n._zod.deferred)a();return n}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:t=>!!(a?.Parent&&t instanceof a.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class Ur extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Hr extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Yr={};function Vr(e){return Yr}function Kr(e,t){return"bigint"==typeof t?t.toString():t}function Gr(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function qr(e){return null==e}function Zr(e){const t=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(t,a)}const Qr=Symbol("evaluating");function Xr(e,t,a){let r;Object.defineProperty(e,t,{get(){if(r!==Qr)return void 0===r&&(r=Qr,r=a()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Jr(e,t,a){Object.defineProperty(e,t,{value:a,writable:!0,enumerable:!0,configurable:!0})}function en(...e){const t={};for(const a of e){const e=Object.getOwnPropertyDescriptors(a);Object.assign(t,e)}return Object.defineProperties({},t)}function tn(e){return JSON.stringify(e)}const an="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function rn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const nn=Gr(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function sn(e){if(!1===rn(e))return!1;const t=e.constructor;if(void 0===t)return!0;const a=t.prototype;return!1!==rn(a)&&!1!==Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")}function on(e){return sn(e)?{...e}:e}const ln=new Set(["string","number","symbol"]);function cn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dn(e,t,a){const r=new e._zod.constr(t??e._zod.def);return t&&!a?.parent||(r._zod.parent=e),r}function un(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}const mn={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function hn(e,t=0){if(!0===e.aborted)return!0;for(let a=t;a<e.issues.length;a++)if(!0!==e.issues[a]?.continue)return!0;return!1}function fn(e,t){return t.map(t=>{var a;return(a=t).path??(a.path=[]),t.path.unshift(e),t})}function pn(e){return"string"==typeof e?e:e?.message}function gn(e,t,a){const r={...e,path:e.path??[]};if(!e.message){const n=pn(e.inst?._zod.def?.error?.(e))??pn(t?.error?.(e))??pn(a.customError?.(e))??pn(a.localeError?.(e))??"Invalid input";r.message=n}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function xn(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function yn(...e){const[t,a,r]=e;return"string"==typeof t?{message:t,code:"custom",input:a,inst:r}:{...t}}const bn=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Kr,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vn=Wr("$ZodError",bn),jn=Wr("$ZodError",bn,{Parent:Error});const wn=e=>(t,a,r,n)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:a,issues:[]},s);if(i instanceof Promise)throw new Ur;if(i.issues.length){const t=new(n?.Err??e)(i.issues.map(e=>gn(e,s,Vr())));throw an(t,n?.callee),t}return i.value},Nn=e=>async(t,a,r,n)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:a,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const t=new(n?.Err??e)(i.issues.map(e=>gn(e,s,Vr())));throw an(t,n?.callee),t}return i.value},kn=e=>(t,a,r)=>{const n=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:a,issues:[]},n);if(s instanceof Promise)throw new Ur;return s.issues.length?{success:!1,error:new(e??vn)(s.issues.map(e=>gn(e,n,Vr())))}:{success:!0,data:s.value}},_n=kn(jn),Cn=e=>async(t,a,r)=>{const n=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:a,issues:[]},n);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>gn(e,n,Vr())))}:{success:!0,data:s.value}},Sn=Cn(jn),Dn=e=>(t,a,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wn(e)(t,a,n)},An=e=>(t,a,r)=>wn(e)(t,a,r),On=e=>async(t,a,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nn(e)(t,a,n)},zn=e=>async(t,a,r)=>Nn(e)(t,a,r),Tn=e=>(t,a,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kn(e)(t,a,n)},En=e=>(t,a,r)=>kn(e)(t,a,r),Mn=e=>async(t,a,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cn(e)(t,a,n)},Pn=e=>async(t,a,r)=>Cn(e)(t,a,r),Ln=/^[cC][^\s-]{8,}$/,In=/^[0-9a-z]+$/,$n=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Fn=/^[0-9a-vA-V]{20}$/,Rn=/^[A-Za-z0-9]{27}$/,Bn=/^[a-zA-Z0-9_-]{21}$/,Wn=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Un=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Hn=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Yn=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const Vn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Gn=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,qn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Zn=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Qn=/^[A-Za-z0-9_-]*$/,Xn=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Jn=/^\+(?:[0-9]){6,14}[0-9]$/,es="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ts=new RegExp(`^${es}$`);function as(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const rs=/^\d+$/,ns=/^-?\d+(?:\.\d+)?/i,ss=/^[^A-Z]*$/,is=/^[^a-z]*$/,os=Wr("$ZodCheck",(e,t)=>{var a;e._zod??(e._zod={}),e._zod.def=t,(a=e._zod).onattach??(a.onattach=[])}),ls={number:"number",bigint:"bigint",object:"date"},cs=Wr("$ZodCheckLessThan",(e,t)=>{os.init(e,t);const a=ls[typeof t.value];e._zod.onattach.push(e=>{const a=e._zod.bag,r=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:a,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ds=Wr("$ZodCheckGreaterThan",(e,t)=>{os.init(e,t);const a=ls[typeof t.value];e._zod.onattach.push(e=>{const a=e._zod.bag,r=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:a,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),us=Wr("$ZodCheckMultipleOf",(e,t)=>{os.init(e,t),e._zod.onattach.push(e=>{var a;(a=e._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=a=>{if(typeof a.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof a.value?a.value%t.value===BigInt(0):0===function(e,t){const a=(e.toString().split(".")[1]||"").length,r=t.toString();let n=(r.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(n=Number.parseInt(e[1]))}const s=a>n?a:n;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}(a.value,t.value))||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:t.value,input:a.value,inst:e,continue:!t.abort})}}),ms=Wr("$ZodCheckNumberFormat",(e,t)=>{os.init(e,t),t.format=t.format||"float64";const a=t.format?.includes("int"),r=a?"int":"number",[n,s]=mn[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=n,r.maximum=s,a&&(r.pattern=rs)}),e._zod.check=i=>{const o=i.value;if(a){if(!Number.isInteger(o))return void i.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?i.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}))}o<n&&i.issues.push({origin:"number",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>s&&i.issues.push({origin:"number",input:o,code:"too_big",maximum:s,inst:e})}}),hs=Wr("$ZodCheckMaxLength",(e,t)=>{var a;os.init(e,t),(a=e._zod.def).when??(a.when=e=>{const t=e.value;return!qr(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const a=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{const r=a.value;if(r.length<=t.maximum)return;const n=xn(r);a.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),fs=Wr("$ZodCheckMinLength",(e,t)=>{var a;os.init(e,t),(a=e._zod.def).when??(a.when=e=>{const t=e.value;return!qr(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const a=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{const r=a.value;if(r.length>=t.minimum)return;const n=xn(r);a.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),ps=Wr("$ZodCheckLengthEquals",(e,t)=>{var a;os.init(e,t),(a=e._zod.def).when??(a.when=e=>{const t=e.value;return!qr(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const a=e._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=a=>{const r=a.value,n=r.length;if(n===t.length)return;const s=xn(r),i=n>t.length;a.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),gs=Wr("$ZodCheckStringFormat",(e,t)=>{var a,r;os.init(e,t),e._zod.onattach.push(e=>{const a=e._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(a=e._zod).check??(a.check=a=>{t.pattern.lastIndex=0,t.pattern.test(a.value)||a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),xs=Wr("$ZodCheckRegex",(e,t)=>{gs.init(e,t),e._zod.check=a=>{t.pattern.lastIndex=0,t.pattern.test(a.value)||a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ys=Wr("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=ss),gs.init(e,t)}),bs=Wr("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=is),gs.init(e,t)}),vs=Wr("$ZodCheckIncludes",(e,t)=>{os.init(e,t);const a=cn(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${a}`:a);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),js=Wr("$ZodCheckStartsWith",(e,t)=>{os.init(e,t);const a=new RegExp(`^${cn(t.prefix)}.*`);t.pattern??(t.pattern=a),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(a)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),ws=Wr("$ZodCheckEndsWith",(e,t)=>{os.init(e,t);const a=new RegExp(`.*${cn(t.suffix)}$`);t.pattern??(t.pattern=a),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(a)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}}),Ns=Wr("$ZodCheckOverwrite",(e,t)=>{os.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class ks{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),a=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(a)).map(e=>" ".repeat(2*this.indent)+e);for(const n of r)this.content.push(n)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const _s={major:4,minor:1,patch:5},Cs=Wr("$ZodType",(e,t)=>{var a;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=_s;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const n of r)for(const t of n._zod.onattach)t(e);if(0===r.length)(a=e._zod).deferred??(a.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,a)=>{let r,n=hn(e);for(const s of t){if(s._zod.def.when){if(!s._zod.def.when(e))continue}else if(n)continue;const t=e.issues.length,i=s._zod.check(e);if(i instanceof Promise&&!1===a?.async)throw new Ur;if(r||i instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await i;e.issues.length!==t&&(n||(n=hn(e,t)))});else{if(e.issues.length===t)continue;n||(n=hn(e,t))}}return r?r.then(()=>e):e},a=(a,n,s)=>{if(hn(a))return a.aborted=!0,a;const i=t(n,r,s);if(i instanceof Promise){if(!1===s.async)throw new Ur;return i.then(t=>e._zod.parse(t,s))}return e._zod.parse(i,s)};e._zod.run=(n,s)=>{if(s.skipChecks)return e._zod.parse(n,s);if("backward"===s.direction){const t=e._zod.parse({value:n.value,issues:[]},{...s,skipChecks:!0});return t instanceof Promise?t.then(e=>a(e,n,s)):a(t,n,s)}const i=e._zod.parse(n,s);if(i instanceof Promise){if(!1===s.async)throw new Ur;return i.then(e=>t(e,r,s))}return t(i,r,s)}}e["~standard"]={validate:t=>{try{const a=_n(e,t);return a.success?{value:a.data}:{issues:a.error?.issues}}catch(a){return Sn(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),Ss=Wr("$ZodString",(e,t)=>{var a;Cs.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??(a=e._zod.bag,new RegExp(`^${a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*"}$`)),e._zod.parse=(a,r)=>{if(t.coerce)try{a.value=String(a.value)}catch(n){}return"string"==typeof a.value||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),Ds=Wr("$ZodStringFormat",(e,t)=>{gs.init(e,t),Ss.init(e,t)}),As=Wr("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Un),Ds.init(e,t)}),Os=Wr("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Hn(e))}else t.pattern??(t.pattern=Hn());Ds.init(e,t)}),zs=Wr("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Yn),Ds.init(e,t)}),Ts=Wr("$ZodURL",(e,t)=>{Ds.init(e,t),e._zod.check=a=>{try{const r=a.value.trim(),n=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Xn.source,input:a.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:a.value,inst:e,continue:!t.abort})),void(t.normalize?a.value=n.href:a.value=r)}catch(r){a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!t.abort})}}}),Es=Wr("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ds.init(e,t)}),Ms=Wr("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Bn),Ds.init(e,t)}),Ps=Wr("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ln),Ds.init(e,t)}),Ls=Wr("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=In),Ds.init(e,t)}),Is=Wr("$ZodULID",(e,t)=>{t.pattern??(t.pattern=$n),Ds.init(e,t)}),$s=Wr("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Fn),Ds.init(e,t)}),Fs=Wr("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Rn),Ds.init(e,t)}),Rs=Wr("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){const t=as({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${a.join("|")})`;return new RegExp(`^${es}T(?:${r})$`)}(t)),Ds.init(e,t)}),Bs=Wr("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=ts),Ds.init(e,t)}),Ws=Wr("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=new RegExp(`^${as(t)}$`)),Ds.init(e,t)}),Us=Wr("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Wn),Ds.init(e,t)}),Hs=Wr("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Vn),Ds.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),Ys=Wr("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Kn),Ds.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!t.abort})}}}),Vs=Wr("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Gn),Ds.init(e,t)}),Ks=Wr("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=qn),Ds.init(e,t),e._zod.check=a=>{const[r,n]=a.value.split("/");try{if(!n)throw new Error;const e=Number(n);if(`${e}`!==n)throw new Error;if(e<0||e>128)throw new Error;new URL(`http://[${r}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!t.abort})}}});function Gs(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const qs=Wr("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Zn),Ds.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=a=>{Gs(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!t.abort})}});const Zs=Wr("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Qn),Ds.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=a=>{(function(e){if(!Qn.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return Gs(t.padEnd(4*Math.ceil(t.length/4),"="))})(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!t.abort})}}),Qs=Wr("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Jn),Ds.init(e,t)});const Xs=Wr("$ZodJWT",(e,t)=>{Ds.init(e,t),e._zod.check=a=>{(function(e,t=null){try{const a=e.split(".");if(3!==a.length)return!1;const[r]=a;if(!r)return!1;const n=JSON.parse(atob(r));return!("typ"in n&&"JWT"!==n?.typ||!n.alg||t&&(!("alg"in n)||n.alg!==t))}catch{return!1}})(a.value,t.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!t.abort})}}),Js=Wr("$ZodNumber",(e,t)=>{Cs.init(e,t),e._zod.pattern=e._zod.bag.pattern??ns,e._zod.parse=(a,r)=>{if(t.coerce)try{a.value=Number(a.value)}catch(i){}const n=a.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return a;const s="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...s?{received:s}:{}}),a}}),ei=Wr("$ZodNumber",(e,t)=>{ms.init(e,t),Js.init(e,t)}),ti=Wr("$ZodUnknown",(e,t)=>{Cs.init(e,t),e._zod.parse=e=>e}),ai=Wr("$ZodNever",(e,t)=>{Cs.init(e,t),e._zod.parse=(t,a)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function ri(e,t,a){e.issues.length&&t.issues.push(...fn(a,e.issues)),t.value[a]=e.value}const ni=Wr("$ZodArray",(e,t)=>{Cs.init(e,t),e._zod.parse=(a,r)=>{const n=a.value;if(!Array.isArray(n))return a.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),a;a.value=Array(n.length);const s=[];for(let e=0;e<n.length;e++){const i=n[e],o=t.element._zod.run({value:i,issues:[]},r);o instanceof Promise?s.push(o.then(t=>ri(t,a,e))):ri(o,a,e)}return s.length?Promise.all(s).then(()=>a):a}});function si(e,t,a,r){e.issues.length&&t.issues.push(...fn(a,e.issues)),void 0===e.value?a in r&&(t.value[a]=void 0):t.value[a]=e.value}function ii(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape[n]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const a=(r=e.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(a)}}function oi(e,t,a,r,n,s){const i=[],o=n.keySet,l=n.catchall._zod,c=l.def.type;for(const d of Object.keys(t)){if(o.has(d))continue;if("never"===c){i.push(d);continue}const n=l.run({value:t[d],issues:[]},r);n instanceof Promise?e.push(n.then(e=>si(e,a,d,t))):si(n,a,d,t)}return i.length&&a.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:s}),e.length?Promise.all(e).then(()=>a):a}const li=Wr("$ZodObject",(e,t)=>{Cs.init(e,t);const a=Gr(()=>ii(t));Xr(e._zod,"propValues",()=>{const e=t.shape,a={};for(const t in e){const r=e[t]._zod;if(r.values){a[t]??(a[t]=new Set);for(const e of r.values)a[t].add(e)}}return a});const r=rn,n=t.catchall;let s;e._zod.parse=(t,i)=>{s??(s=a.value);const o=t.value;if(!r(o))return t.issues.push({expected:"object",code:"invalid_type",input:o,inst:e}),t;t.value={};const l=[],c=s.shape;for(const e of s.keys){const a=c[e]._zod.run({value:o[e],issues:[]},i);a instanceof Promise?l.push(a.then(a=>si(a,t,e,o))):si(a,t,e,o)}return n?oi(l,o,t,i,a.value,e):l.length?Promise.all(l).then(()=>t):t}}),ci=Wr("$ZodObjectJIT",(e,t)=>{li.init(e,t);const a=e._zod.parse,r=Gr(()=>ii(t));let n;const s=rn,i=!Yr.jitless,o=i&&nn.value,l=t.catchall;let c;e._zod.parse=(d,u)=>{c??(c=r.value);const m=d.value;return s(m)?i&&o&&!1===u?.async&&!0!==u.jitless?(n||(n=(e=>{const t=new ks(["shape","payload","ctx"]),a=r.value,n=e=>{const t=tn(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const s=Object.create(null);let i=0;for(const r of a.keys)s[r]="key_"+i++;t.write("const newResult = {}");for(const r of a.keys){const e=s[r],a=tn(r);t.write(`const ${e} = ${n(r)};`),t.write(`\n        if (${e}.issues.length) {\n          payload.issues = payload.issues.concat(${e}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${a}, ...iss.path] : [${a}]\n          })));\n        }\n        \n        if (${e}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${e}.value;\n        }\n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const o=t.compile();return(t,a)=>o(e,t,a)})(t.shape)),d=n(d,u),l?oi([],m,d,u,c,e):d):a(d,u):(d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d)}});function di(e,t,a,r){for(const s of e)if(0===s.issues.length)return t.value=s.value,t;const n=e.filter(e=>!hn(e));return 1===n.length?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:a,errors:e.map(e=>e.issues.map(e=>gn(e,r,Vr())))}),t)}const ui=Wr("$ZodUnion",(e,t)=>{Cs.init(e,t),Xr(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),Xr(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),Xr(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Xr(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>Zr(e.source)).join("|")})$`)}});const a=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(n,s)=>{if(a)return r(n,s);let i=!1;const o=[];for(const e of t.options){const t=e._zod.run({value:n.value,issues:[]},s);if(t instanceof Promise)o.push(t),i=!0;else{if(0===t.issues.length)return t;o.push(t)}}return i?Promise.all(o).then(t=>di(t,n,e,s)):di(o,n,e,s)}}),mi=Wr("$ZodIntersection",(e,t)=>{Cs.init(e,t),e._zod.parse=(e,a)=>{const r=e.value,n=t.left._zod.run({value:r,issues:[]},a),s=t.right._zod.run({value:r,issues:[]},a);return n instanceof Promise||s instanceof Promise?Promise.all([n,s]).then(([t,a])=>fi(e,t,a)):fi(e,n,s)}});function hi(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(sn(e)&&sn(t)){const a=Object.keys(t),r=Object.keys(e).filter(e=>-1!==a.indexOf(e)),n={...e,...t};for(const s of r){const a=hi(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};n[s]=a.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let r=0;r<e.length;r++){const n=hi(e[r],t[r]);if(!n.valid)return{valid:!1,mergeErrorPath:[r,...n.mergeErrorPath]};a.push(n.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function fi(e,t,a){if(t.issues.length&&e.issues.push(...t.issues),a.issues.length&&e.issues.push(...a.issues),hn(e))return e;const r=hi(t.value,a.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const pi=Wr("$ZodEnum",(e,t)=>{Cs.init(e,t);const a=function(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,a])=>-1===t.indexOf(+e)).map(([e,t])=>t)}(t.entries),r=new Set(a);e._zod.values=r,e._zod.pattern=new RegExp(`^(${a.filter(e=>ln.has(typeof e)).map(e=>"string"==typeof e?cn(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{const s=t.value;return r.has(s)||t.issues.push({code:"invalid_value",values:a,input:s,inst:e}),t}}),gi=Wr("$ZodTransform",(e,t)=>{Cs.init(e,t),e._zod.parse=(a,r)=>{if("backward"===r.direction)throw new Hr(e.constructor.name);const n=t.transform(a.value,a);if(r.async){return(n instanceof Promise?n:Promise.resolve(n)).then(e=>(a.value=e,a))}if(n instanceof Promise)throw new Ur;return a.value=n,a}});function xi(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const yi=Wr("$ZodOptional",(e,t)=>{Cs.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Xr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Xr(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Zr(e.source)})?$`):void 0}),e._zod.parse=(e,a)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,a);return r instanceof Promise?r.then(t=>xi(t,e.value)):xi(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,a)}}),bi=Wr("$ZodNullable",(e,t)=>{Cs.init(e,t),Xr(e._zod,"optin",()=>t.innerType._zod.optin),Xr(e._zod,"optout",()=>t.innerType._zod.optout),Xr(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Zr(e.source)}|null)$`):void 0}),Xr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,a)=>null===e.value?e:t.innerType._zod.run(e,a)}),vi=Wr("$ZodDefault",(e,t)=>{Cs.init(e,t),e._zod.optin="optional",Xr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,a)=>{if("backward"===a.direction)return t.innerType._zod.run(e,a);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,a);return r instanceof Promise?r.then(e=>ji(e,t)):ji(r,t)}});function ji(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const wi=Wr("$ZodPrefault",(e,t)=>{Cs.init(e,t),e._zod.optin="optional",Xr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,a)=>("backward"===a.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,a))}),Ni=Wr("$ZodNonOptional",(e,t)=>{Cs.init(e,t),Xr(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(a,r)=>{const n=t.innerType._zod.run(a,r);return n instanceof Promise?n.then(t=>ki(t,e)):ki(n,e)}});function ki(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const _i=Wr("$ZodCatch",(e,t)=>{Cs.init(e,t),Xr(e._zod,"optin",()=>t.innerType._zod.optin),Xr(e._zod,"optout",()=>t.innerType._zod.optout),Xr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,a)=>{if("backward"===a.direction)return t.innerType._zod.run(e,a);const r=t.innerType._zod.run(e,a);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>gn(e,a,Vr()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>gn(e,a,Vr()))},input:e.value}),e.issues=[]),e)}}),Ci=Wr("$ZodPipe",(e,t)=>{Cs.init(e,t),Xr(e._zod,"values",()=>t.in._zod.values),Xr(e._zod,"optin",()=>t.in._zod.optin),Xr(e._zod,"optout",()=>t.out._zod.optout),Xr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,a)=>{if("backward"===a.direction){const r=t.out._zod.run(e,a);return r instanceof Promise?r.then(e=>Si(e,t.in,a)):Si(r,t.in,a)}const r=t.in._zod.run(e,a);return r instanceof Promise?r.then(e=>Si(e,t.out,a)):Si(r,t.out,a)}});function Si(e,t,a){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},a)}const Di=Wr("$ZodReadonly",(e,t)=>{Cs.init(e,t),Xr(e._zod,"propValues",()=>t.innerType._zod.propValues),Xr(e._zod,"values",()=>t.innerType._zod.values),Xr(e._zod,"optin",()=>t.innerType._zod.optin),Xr(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,a)=>{if("backward"===a.direction)return t.innerType._zod.run(e,a);const r=t.innerType._zod.run(e,a);return r instanceof Promise?r.then(Ai):Ai(r)}});function Ai(e){return e.value=Object.freeze(e.value),e}const Oi=Wr("$ZodCustom",(e,t)=>{os.init(e,t),Cs.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=a=>{const r=a.value,n=t.fn(r);if(n instanceof Promise)return n.then(t=>zi(t,a,r,e));zi(n,a,r,e)}});function zi(e,t,a,r){if(!e){const e={code:"custom",input:a,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(yn(e))}}class Ti{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const a=t[0];if(this._map.set(e,a),a&&"object"==typeof a&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const a={...this.get(t)??{}};delete a.id;const r={...a,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Ei(){return new Ti}const Mi=Ei();function Pi(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...un(t)})}function Li(e,t){return new cs({check:"less_than",...un(t),value:e,inclusive:!1})}function Ii(e,t){return new cs({check:"less_than",...un(t),value:e,inclusive:!0})}function $i(e,t){return new ds({check:"greater_than",...un(t),value:e,inclusive:!1})}function Fi(e,t){return new ds({check:"greater_than",...un(t),value:e,inclusive:!0})}function Ri(e,t){return new us({check:"multiple_of",...un(t),value:e})}function Bi(e,t){return new hs({check:"max_length",...un(t),maximum:e})}function Wi(e,t){return new fs({check:"min_length",...un(t),minimum:e})}function Ui(e,t){return new ps({check:"length_equals",...un(t),length:e})}function Hi(e){return new Ns({check:"overwrite",tx:e})}function Yi(e){const t=function(e,t){const a=new os({check:"custom",...un(t)});return a._zod.check=e,a}(a=>(a.addIssue=e=>{if("string"==typeof e)a.issues.push(yn(e,a.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=a.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),a.issues.push(yn(r))}},e(a.value,a)));return t}const Vi=Wr("ZodISODateTime",(e,t)=>{Rs.init(e,t),xo.init(e,t)});function Ki(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...un(t)})}(Vi,e)}const Gi=Wr("ZodISODate",(e,t)=>{Bs.init(e,t),xo.init(e,t)});function qi(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...un(t)})}(Gi,e)}const Zi=Wr("ZodISOTime",(e,t)=>{Ws.init(e,t),xo.init(e,t)});function Qi(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...un(t)})}(Zi,e)}const Xi=Wr("ZodISODuration",(e,t)=>{Us.init(e,t),xo.init(e,t)});function Ji(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...un(t)})}(Xi,e)}const eo=Wr("ZodError",(e,t)=>{vn.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const a=t||function(e){return e.message},r={_errors:[]},n=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>n({issues:e}));else if("invalid_key"===t.code)n({issues:t.issues});else if("invalid_element"===t.code)n({issues:t.issues});else if(0===t.path.length)r._errors.push(a(t));else{let e=r,n=0;for(;n<t.path.length;){const r=t.path[n];n===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(a(t))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(e),r}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const a={},r=[];for(const n of e.issues)n.path.length>0?(a[n.path[0]]=a[n.path[0]]||[],a[n.path[0]].push(t(n))):r.push(t(n));return{formErrors:r,fieldErrors:a}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Kr,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Kr,2)}},isEmpty:{get:()=>0===e.issues.length}})},{Parent:Error}),to=wn(eo),ao=Nn(eo),ro=kn(eo),no=Cn(eo),so=Dn(eo),io=An(eo),oo=On(eo),lo=zn(eo),co=Tn(eo),uo=En(eo),mo=Mn(eo),ho=Pn(eo),fo=Wr("ZodType",(e,t)=>(Cs.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...a)=>e.clone({...t,checks:[...t.checks??[],...a.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,a)=>dn(e,t,a),e.brand=()=>e,e.register=(t,a)=>(t.add(e,a),e),e.parse=(t,a)=>to(e,t,a,{callee:e.parse}),e.safeParse=(t,a)=>ro(e,t,a),e.parseAsync=async(t,a)=>ao(e,t,a,{callee:e.parseAsync}),e.safeParseAsync=async(t,a)=>no(e,t,a),e.spa=e.safeParseAsync,e.encode=(t,a)=>so(e,t,a),e.decode=(t,a)=>io(e,t,a),e.encodeAsync=async(t,a)=>oo(e,t,a),e.decodeAsync=async(t,a)=>lo(e,t,a),e.safeEncode=(t,a)=>co(e,t,a),e.safeDecode=(t,a)=>uo(e,t,a),e.safeEncodeAsync=async(t,a)=>mo(e,t,a),e.safeDecodeAsync=async(t,a)=>ho(e,t,a),e.refine=(t,a)=>e.check(function(e,t={}){return function(e,t,a){return new e({type:"custom",check:"custom",fn:t,...un(a)})}(ll,e,t)}(t,a)),e.superRefine=t=>e.check(Yi(t)),e.overwrite=t=>e.check(Hi(t)),e.optional=()=>Xo(e),e.nullable=()=>el(e),e.nullish=()=>Xo(el(e)),e.nonoptional=t=>function(e,t){return new rl({type:"nonoptional",innerType:e,...un(t)})}(e,t),e.array=()=>{return function(e,t,a){return new e({type:"array",element:t,...un(a)})}(Ho,e,t);var t},e.or=t=>{return new Vo({type:"union",options:[e,t],...un(a)});var a},e.and=t=>new Ko({type:"intersection",left:e,right:t}),e.transform=t=>il(e,new Zo({type:"transform",transform:t})),e.default=t=>{return a=t,new tl({type:"default",innerType:e,get defaultValue(){return"function"==typeof a?a():on(a)}});var a},e.prefault=t=>{return a=t,new al({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof a?a():on(a)}});var a},e.catch=t=>{return new nl({type:"catch",innerType:e,catchValue:"function"==typeof(a=t)?a:()=>a});var a},e.pipe=t=>il(e,t),e.readonly=()=>new ol({type:"readonly",innerType:e}),e.describe=t=>{const a=e.clone();return Mi.add(a,{description:t}),a},Object.defineProperty(e,"description",{get:()=>Mi.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Mi.get(e);const a=e.clone();return Mi.add(a,t[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),po=Wr("_ZodString",(e,t)=>{Ss.init(e,t),fo.init(e,t);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new xs({check:"string_format",format:"regex",...un(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new vs({check:"string_format",format:"includes",...un(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new js({check:"string_format",format:"starts_with",...un(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new ws({check:"string_format",format:"ends_with",...un(t),suffix:e})}(...t)),e.min=(...t)=>e.check(Wi(...t)),e.max=(...t)=>e.check(Bi(...t)),e.length=(...t)=>e.check(Ui(...t)),e.nonempty=(...t)=>e.check(Wi(1,...t)),e.lowercase=t=>e.check(function(e){return new ys({check:"string_format",format:"lowercase",...un(e)})}(t)),e.uppercase=t=>e.check(function(e){return new bs({check:"string_format",format:"uppercase",...un(e)})}(t)),e.trim=()=>e.check(Hi(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return Hi(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(Hi(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(Hi(e=>e.toUpperCase()))}),go=Wr("ZodString",(e,t)=>{Ss.init(e,t),po.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...un(t)})}(yo,t)),e.url=t=>e.check(function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...un(t)})}(jo,t)),e.jwt=t=>e.check(function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...un(t)})}(Lo,t)),e.emoji=t=>e.check(function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...un(t)})}(wo,t)),e.guid=t=>e.check(Pi(bo,t)),e.uuid=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...un(t)})}(vo,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...un(t)})}(vo,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...un(t)})}(vo,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...un(t)})}(vo,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...un(t)})}(No,t)),e.guid=t=>e.check(Pi(bo,t)),e.cuid=t=>e.check(function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...un(t)})}(ko,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...un(t)})}(_o,t)),e.ulid=t=>e.check(function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...un(t)})}(Co,t)),e.base64=t=>e.check(function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...un(t)})}(Eo,t)),e.base64url=t=>e.check(function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...un(t)})}(Mo,t)),e.xid=t=>e.check(function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...un(t)})}(So,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...un(t)})}(Do,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...un(t)})}(Ao,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...un(t)})}(Oo,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...un(t)})}(zo,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...un(t)})}(To,t)),e.e164=t=>e.check(function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...un(t)})}(Po,t)),e.datetime=t=>e.check(Ki(t)),e.date=t=>e.check(qi(t)),e.time=t=>e.check(Qi(t)),e.duration=t=>e.check(Ji(t))});const xo=Wr("ZodStringFormat",(e,t)=>{Ds.init(e,t),po.init(e,t)}),yo=Wr("ZodEmail",(e,t)=>{zs.init(e,t),xo.init(e,t)}),bo=Wr("ZodGUID",(e,t)=>{As.init(e,t),xo.init(e,t)}),vo=Wr("ZodUUID",(e,t)=>{Os.init(e,t),xo.init(e,t)}),jo=Wr("ZodURL",(e,t)=>{Ts.init(e,t),xo.init(e,t)}),wo=Wr("ZodEmoji",(e,t)=>{Es.init(e,t),xo.init(e,t)}),No=Wr("ZodNanoID",(e,t)=>{Ms.init(e,t),xo.init(e,t)}),ko=Wr("ZodCUID",(e,t)=>{Ps.init(e,t),xo.init(e,t)}),_o=Wr("ZodCUID2",(e,t)=>{Ls.init(e,t),xo.init(e,t)}),Co=Wr("ZodULID",(e,t)=>{Is.init(e,t),xo.init(e,t)}),So=Wr("ZodXID",(e,t)=>{$s.init(e,t),xo.init(e,t)}),Do=Wr("ZodKSUID",(e,t)=>{Fs.init(e,t),xo.init(e,t)}),Ao=Wr("ZodIPv4",(e,t)=>{Hs.init(e,t),xo.init(e,t)}),Oo=Wr("ZodIPv6",(e,t)=>{Ys.init(e,t),xo.init(e,t)}),zo=Wr("ZodCIDRv4",(e,t)=>{Vs.init(e,t),xo.init(e,t)}),To=Wr("ZodCIDRv6",(e,t)=>{Ks.init(e,t),xo.init(e,t)}),Eo=Wr("ZodBase64",(e,t)=>{qs.init(e,t),xo.init(e,t)}),Mo=Wr("ZodBase64URL",(e,t)=>{Zs.init(e,t),xo.init(e,t)}),Po=Wr("ZodE164",(e,t)=>{Qs.init(e,t),xo.init(e,t)}),Lo=Wr("ZodJWT",(e,t)=>{Xs.init(e,t),xo.init(e,t)}),Io=Wr("ZodNumber",(e,t)=>{Js.init(e,t),fo.init(e,t),e.gt=(t,a)=>e.check($i(t,a)),e.gte=(t,a)=>e.check(Fi(t,a)),e.min=(t,a)=>e.check(Fi(t,a)),e.lt=(t,a)=>e.check(Li(t,a)),e.lte=(t,a)=>e.check(Ii(t,a)),e.max=(t,a)=>e.check(Ii(t,a)),e.int=t=>e.check(Fo(t)),e.safe=t=>e.check(Fo(t)),e.positive=t=>e.check($i(0,t)),e.nonnegative=t=>e.check(Fi(0,t)),e.negative=t=>e.check(Li(0,t)),e.nonpositive=t=>e.check(Ii(0,t)),e.multipleOf=(t,a)=>e.check(Ri(t,a)),e.step=(t,a)=>e.check(Ri(t,a)),e.finite=()=>e;const a=e._zod.bag;e.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),e.isFinite=!0,e.format=a.format??null});const $o=Wr("ZodNumberFormat",(e,t)=>{ei.init(e,t),Io.init(e,t)});function Fo(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...un(t)})}($o,e)}const Ro=Wr("ZodUnknown",(e,t)=>{ti.init(e,t),fo.init(e,t)});function Bo(){return new Ro({type:"unknown"})}const Wo=Wr("ZodNever",(e,t)=>{ai.init(e,t),fo.init(e,t)});function Uo(e){return function(e,t){return new e({type:"never",...un(t)})}(Wo,e)}const Ho=Wr("ZodArray",(e,t)=>{ni.init(e,t),fo.init(e,t),e.element=t.element,e.min=(t,a)=>e.check(Wi(t,a)),e.nonempty=t=>e.check(Wi(1,t)),e.max=(t,a)=>e.check(Bi(t,a)),e.length=(t,a)=>e.check(Ui(t,a)),e.unwrap=()=>e.element});const Yo=Wr("ZodObject",(e,t)=>{ci.init(e,t),fo.init(e,t),Xr(e,"shape",()=>t.shape),e.keyof=()=>qo(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Bo()}),e.loose=()=>e.clone({...e._zod.def,catchall:Bo()}),e.strict=()=>e.clone({...e._zod.def,catchall:Uo()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!sn(t))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=en(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Jr(this,"shape",a),a},checks:[]});return dn(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!sn(t))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...e._zod.def,get shape(){const a={...e._zod.def.shape,...t};return Jr(this,"shape",a),a},checks:e._zod.def.checks};return dn(e,a)}(e,t),e.merge=t=>function(e,t){const a=en(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t._zod.def.shape};return Jr(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return dn(e,a)}(e,t),e.pick=t=>function(e,t){const a=e._zod.def;return dn(e,en(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in a.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=a.shape[r])}return Jr(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const a=e._zod.def,r=en(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in a.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return Jr(this,"shape",r),r},checks:[]});return dn(e,r)}(e,t),e.partial=(...t)=>function(e,t,a){const r=en(t._zod.def,{get shape(){const r=t._zod.def.shape,n={...r};if(a)for(const t in a){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);a[t]&&(n[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)n[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Jr(this,"shape",n),n},checks:[]});return dn(t,r)}(Qo,e,t[0]),e.required=(...t)=>function(e,t,a){const r=en(t._zod.def,{get shape(){const r=t._zod.def.shape,n={...r};if(a)for(const t in a){if(!(t in n))throw new Error(`Unrecognized key: "${t}"`);a[t]&&(n[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)n[t]=new e({type:"nonoptional",innerType:r[t]});return Jr(this,"shape",n),n},checks:[]});return dn(t,r)}(rl,e,t[0])});const Vo=Wr("ZodUnion",(e,t)=>{ui.init(e,t),fo.init(e,t),e.options=t.options});const Ko=Wr("ZodIntersection",(e,t)=>{mi.init(e,t),fo.init(e,t)});const Go=Wr("ZodEnum",(e,t)=>{pi.init(e,t),fo.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const a=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const n={};for(const s of e){if(!a.has(s))throw new Error(`Key ${s} not found in enum`);n[s]=t.entries[s]}return new Go({...t,checks:[],...un(r),entries:n})},e.exclude=(e,r)=>{const n={...t.entries};for(const t of e){if(!a.has(t))throw new Error(`Key ${t} not found in enum`);delete n[t]}return new Go({...t,checks:[],...un(r),entries:n})}});function qo(e,t){const a=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new Go({type:"enum",entries:a,...un(t)})}const Zo=Wr("ZodTransform",(e,t)=>{gi.init(e,t),fo.init(e,t),e._zod.parse=(a,r)=>{if("backward"===r.direction)throw new Hr(e.constructor.name);a.addIssue=r=>{if("string"==typeof r)a.issues.push(yn(r,a.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=a.value),t.inst??(t.inst=e),a.issues.push(yn(t))}};const n=t.transform(a.value,a);return n instanceof Promise?n.then(e=>(a.value=e,a)):(a.value=n,a)}});const Qo=Wr("ZodOptional",(e,t)=>{yi.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xo(e){return new Qo({type:"optional",innerType:e})}const Jo=Wr("ZodNullable",(e,t)=>{bi.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType});function el(e){return new Jo({type:"nullable",innerType:e})}const tl=Wr("ZodDefault",(e,t)=>{vi.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const al=Wr("ZodPrefault",(e,t)=>{wi.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType});const rl=Wr("ZodNonOptional",(e,t)=>{Ni.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType});const nl=Wr("ZodCatch",(e,t)=>{_i.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const sl=Wr("ZodPipe",(e,t)=>{Ci.init(e,t),fo.init(e,t),e.in=t.in,e.out=t.out});function il(e,t){return new sl({type:"pipe",in:e,out:t})}const ol=Wr("ZodReadonly",(e,t)=>{Di.init(e,t),fo.init(e,t),e.unwrap=()=>e._zod.def.innerType});const ll=Wr("ZodCustom",(e,t)=>{Oi.init(e,t),fo.init(e,t)});class cl{static instance;metrics=[];errors=[];initialized=!1;constructor(){}static getInstance(){return cl.instance||(cl.instance=new cl),cl.instance}initialize(){if(!this.initialized)try{this.initializePerformanceMonitoring(),this.initializeErrorTracking(),this.initializeUserInteractionTracking(),this.initialized=!0}catch(e){}}initializePerformanceMonitoring(){if(window.performance){const e=performance.getEntriesByType("navigation")[0];e&&this.captureMetric({name:"navigation_timing",value:e.loadEventEnd-e.startTime,unit:"ms"})}if(window.performance){performance.getEntriesByType("resource").forEach(e=>{e.duration>0&&this.captureMetric({name:"resource_timing",value:e.duration,unit:"ms",tags:{name:e.name,type:e.entryType}})})}}initializeErrorTracking(){window.addEventListener("error",e=>{this.captureError(e.error,{filename:e.filename,lineno:e.lineno,colno:e.colno,message:e.message})}),window.addEventListener("unhandledrejection",e=>{this.captureError(e.reason instanceof Error?e.reason:new Error(String(e.reason)),{type:"unhandledrejection",promise:e.promise})})}initializeUserInteractionTracking(){document.addEventListener("click",e=>{const t=e.target;this.captureMetric({name:"user_interaction",value:1,tags:{type:"click",element:t.tagName.toLowerCase(),class:t.className}})}),document.addEventListener("visibilitychange",()=>{this.captureMetric({name:"page_visibility",value:"visible"===document.visibilityState?1:0,tags:{state:document.visibilityState}})})}initializeWebVitals(){if("undefined"!=typeof window&&window.performance)try{rr(async()=>{const{getCLS:e,getFID:t,getLCP:a,getTTFB:r,getINP:n}=await Promise.resolve().then(()=>WA);return{getCLS:e,getFID:t,getLCP:a,getTTFB:r,getINP:n}},void 0).then(({getCLS:e,getFID:t,getLCP:a,getTTFB:r,getINP:n})=>{e&&e(e=>{this.captureMetric({name:"web_vitals_cls",value:e.value,unit:"score"})}),t&&t(e=>{this.captureMetric({name:"web_vitals_fid",value:e.value,unit:"ms"})}),a&&a(e=>{this.captureMetric({name:"web_vitals_lcp",value:e.value,unit:"ms"})}),r&&r(e=>{this.captureMetric({name:"web_vitals_ttfb",value:e.value,unit:"ms"})}),n&&n(e=>{this.captureMetric({name:"web_vitals_inp",value:e.value,unit:"ms"})})}).catch(e=>{})}catch(e){}}captureMetric(e){const t={...e,timestamp:(new Date).toISOString()};this.metrics.push(t)}captureError(e,t){const a={error:e,context:t,timestamp:(new Date).toISOString()};this.errors.push(a)}getMetrics(){return[...this.metrics]}getErrors(){return[...this.errors]}clearMetrics(){this.metrics=[]}clearErrors(){this.errors=[]}generateReport(){return{metrics:this.metrics,errors:this.errors,summary:{totalMetrics:this.metrics.length,totalErrors:this.errors.length,timeRange:{start:this.metrics.length>0?this.metrics[0].timestamp:null,end:this.metrics.length>0?this.metrics[this.metrics.length-1].timestamp:null}}}}}const dl=cl.getInstance();"undefined"!=typeof window&&(dl.initialize(),dl.initializeWebVitals());const ul=function(e,t){const a={type:"object",get shape(){var t;return Jr(this,"shape",e?(t=e,Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))):{}),this.shape},...un(t)};return new Yo(a)}({year:function(e,t){return new e({type:"number",checks:[],...un(t)})}(Io,ml).min(2e3).max(2030),type:qo(["budget","debt","treasury","salary","contract","property","document","investment","revenue"]),className:function(e){return function(e,t){return new e({type:"string",...un(t)})}(go,e)}().optional()});var ml;const hl=e=>{try{const t=ul.parse(e);return ma.jsx(Rr,{type:t.type,year:t.year,title:`Análisis Validado ${t.year}`,className:t.className,variant:"bar",showControls:!0})}catch(t){return dl.captureError(t,{component:"ValidatedChart",props:JSON.stringify(e)}),ma.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[ma.jsx("h3",{className:"text-red-800 dark:text-red-200 font-semibold mb-2",children:"Error de Validación"}),ma.jsx("p",{className:"text-red-600 dark:text-red-300 text-sm",children:"Los parámetros del gráfico no son válidos. Por favor, verifica la configuración."})]})}},fl=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState(null),[s,i]=a.useState("overview"),[o,l]=a.useState("budget"),[c,d]=a.useState("all"),[u,h]=a.useState(""),{currentContracts:f,loading:p,error:x}=Or(e),b=a.useMemo(()=>{const t=[];if(f&&f.length>0){const a=currentYearData.contracts;Array.isArray(a)?a.forEach((a,r)=>{t.push({id:a.id||`contract-${r}`,year:e,title:a.title||a.description||`Contrato ${r+1}`,description:a.description||`Contrato de ${e}`,budget:a.amount||a.budget||0,awarded_to:a.contractor||a.awarded_to||"Información en archivo",award_date:a.date||a.award_date||new Date(e,0,1).toISOString(),execution_status:w(a),delay_analysis:a.delay_analysis,status:k(a),type:j(a.category||a.type),category:a.category||"Contrataciones",url:a.url,filename:a.filename})}):a.documents&&Array.isArray(a.documents)&&a.documents.forEach((a,r)=>{t.push({id:a.id||`contract-doc-${r}`,year:e,title:a.title||a.filename||`Contrato ${r+1}`,description:a.description||`Documento de contratación ${e}`,budget:a.amount||a.budget||0,awarded_to:a.contractor||"Detalle en documento",award_date:a.date||a.award_date||new Date(e,0,1).toISOString(),execution_status:w(a),delay_analysis:a.delay_analysis,status:k(a),type:j(a.category),category:a.category||"Contrataciones",url:a.url,filename:a.filename})})}return currentYearData?.documents&&currentYearData.documents.filter(e=>e.category?.toLowerCase().includes("contrat")||e.category?.toLowerCase().includes("licitaci")||e.title?.toLowerCase().includes("contrat")||e.filename?.toLowerCase().includes("contrat")||e.category?.toLowerCase().includes("compra")||e.category?.toLowerCase().includes("adjudicaci")).forEach((a,r)=>{t.push({id:a.id||`doc-contract-${r}`,year:a.year||e,title:a.title||a.filename||`Contrato ${r+1}`,description:`Documento contractual - ${a.category||"Contrataciones"}`,budget:a.metadata?.amount||a.budget||0,awarded_to:a.metadata?.contractor||a.contractor||"Ver documento para detalles",award_date:a.processing_date||a.date||new Date(e,0,1).toISOString(),execution_status:w(a),delay_analysis:a.metadata?.delay_analysis,status:k(a),type:j(a.category),category:a.category||"Contrataciones",url:a.url,filename:a.filename})}),t.slice(0,25)},[currentYearData,e]),j=e=>{if(!e)return"services";const t=e.toLowerCase();return t.includes("obra")||t.includes("construcción")||t.includes("infraestructura")?"public_works":t.includes("consultor")||t.includes("asesor")||t.includes("técnico")?"consulting":t.includes("suministro")||t.includes("equipamiento")||t.includes("material")?"supplies":"services"},w=e=>"completed"===e.status||"completed"===e.execution_status?"completed":"delayed"===e.status||"delayed"===e.execution_status?"delayed":"in_progress",k=e=>"closed"===e.status||"completed"===e.status?"closed":"awarded"===e.status||e.winner||e.awarded_to?"awarded":"bidding"===e.status||"open"===e.status?"bidding":"active",_=e=>{switch(e){case"completed":return"Completado";case"in_progress":return"En Progreso";case"delayed":return"Demorado";default:return"Desconocido"}},C=e=>new Date(e).toLocaleDateString("es-AR"),S=e=>{switch(e){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"awarded":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"closed":default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"bidding":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}},D=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"delayed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},A=a.useMemo(()=>{let e=b;return"all"!==c&&(e=e.filter(e=>e.status===c)),u&&(e=e.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase())||e.awarded_to.toLowerCase().includes(u.toLowerCase()))),e.sort((e,t)=>{switch(o){case"budget":return t.budget-e.budget;case"date":return new Date(t.award_date).getTime()-new Date(e.award_date).getTime();case"title":return e.title.localeCompare(t.title);default:return 0}}),e},[b,c,u,o]),O=b.length,z=b.reduce((e,t)=>e+t.budget,0),T=b.filter(e=>"active"===e.status).length,M=b.filter(e=>"completed"===e.execution_status).length;return p?ma.jsx("div",{className:"max-w-7xl mx-auto p-6",children:ma.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(L,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando contratos y licitaciones..."})]})})}):x?ma.jsx("div",{className:"max-w-7xl mx-auto p-6",children:ma.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[ma.jsx(R,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error al cargar los datos"}),ma.jsx("p",{className:"text-gray-600",children:x.message})]})}):ma.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:ma.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[ma.jsxs("div",{children:[ma.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[ma.jsx($,{className:"w-8 h-8 text-blue-600 mr-3"}),"Contratos y Licitaciones"]}),ma.jsx("p",{className:"text-gray-600 mt-2",children:"Gestión transparente de contrataciones públicas del municipio"})]}),ma.jsxs("div",{className:"flex items-center gap-4",children:[ma.jsx(Er,{selectedYear:e,onYearChange:t,availableYears:allAvailableYears}),ma.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[ma.jsx(B,{className:"w-4 h-4 text-green-500"}),"Datos verificados"]})]})]})}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[ma.jsx("div",{className:"border-b border-gray-200",children:ma.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"overview",name:"Resumen",icon:g},{id:"analytics",name:"Análisis",icon:v},{id:"contracts",name:"Contratos",icon:N},{id:"performance",name:"Rendimiento",icon:W}].map(e=>ma.jsxs("button",{onClick:()=>i(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 "+(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[ma.jsx(e.icon,{className:"w-4 h-4"}),e.name]},e.id))})}),ma.jsxs("div",{className:"p-6",children:["overview"===s&&ma.jsxs("div",{className:"space-y-6",children:[ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ma.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-blue-100",children:"Total Contratos"}),ma.jsx("p",{className:"text-3xl font-bold",children:O})]}),ma.jsx(N,{className:"w-8 h-8 text-blue-200"})]})}),ma.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-green-100",children:"Presupuesto Total"}),ma.jsx("p",{className:"text-3xl font-bold",children:Pr(z)})]}),ma.jsx(y,{className:"w-8 h-8 text-green-200"})]})}),ma.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-6 text-white",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-yellow-100",children:"Contratos Activos"}),ma.jsx("p",{className:"text-3xl font-bold",children:T})]}),ma.jsx(W,{className:"w-8 h-8 text-yellow-200"})]})}),ma.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-purple-100",children:"Completados"}),ma.jsx("p",{className:"text-3xl font-bold",children:M})]}),ma.jsx(F,{className:"w-8 h-8 text-purple-200"})]})})]}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ma.jsx(hl,{data:[{name:"Obras Públicas",value:b.filter(e=>"public_works"===e.type).length},{name:"Servicios",value:b.filter(e=>"services"===e.type).length},{name:"Suministros",value:b.filter(e=>"supplies"===e.type).length},{name:"Consultoría",value:b.filter(e=>"consulting"===e.type).length}],title:"Distribución por Tipo de Contrato",chartType:"pie",dataKey:"value",nameKey:"name",sources:["Datos estructurados","Análisis documental"]}),ma.jsx(hl,{data:[{name:"Activos",value:b.filter(e=>"active"===e.status).length},{name:"Adjudicados",value:b.filter(e=>"awarded"===e.status).length},{name:"Cerrados",value:b.filter(e=>"closed"===e.status).length},{name:"Licitación",value:b.filter(e=>"bidding"===e.status).length}],title:"Estado de Contratos",chartType:"bar",dataKey:"value",nameKey:"name",sources:["Datos estructurados","Análisis documental"]})]})]}),"contracts"===s&&ma.jsxs("div",{className:"space-y-6",children:[ma.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[ma.jsx("div",{className:"flex-1",children:ma.jsxs("div",{className:"relative",children:[ma.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),ma.jsx("input",{type:"text",placeholder:"Buscar contratos...",value:u,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),ma.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ma.jsx("option",{value:"all",children:"Todos los estados"}),ma.jsx("option",{value:"active",children:"Activos"}),ma.jsx("option",{value:"awarded",children:"Adjudicados"}),ma.jsx("option",{value:"closed",children:"Cerrados"}),ma.jsx("option",{value:"bidding",children:"En licitación"})]}),ma.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ma.jsx("option",{value:"budget",children:"Ordenar por presupuesto"}),ma.jsx("option",{value:"date",children:"Ordenar por fecha"}),ma.jsx("option",{value:"title",children:"Ordenar por título"})]})]}),ma.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:ma.jsx("div",{className:"overflow-x-auto",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ma.jsx("thead",{className:"bg-gray-50",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contrato"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adjudicado a"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Presupuesto"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ejecución"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),ma.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(e=>ma.jsxs("tr",{className:"hover:bg-gray-50",children:[ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsxs("div",{children:[ma.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title}),ma.jsxs("div",{className:"text-sm text-gray-500",children:[e.category," • ",C(e.award_date)]})]})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-900",children:e.awarded_to})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.budget>0?Pr(e.budget):"No especificado"})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(e.status)}`,children:e.status})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(e.execution_status)}`,children:_(e.execution_status)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx("button",{onClick:()=>n(e),className:"text-blue-600 hover:text-blue-900",title:"Ver detalles",children:ma.jsx(m,{className:"w-4 h-4"})}),e.url&&ma.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-900",title:"Descargar documento",children:ma.jsx(U,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),0===A.length&&ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(N,{className:"mx-auto h-12 w-12 text-gray-400"}),ma.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron contratos"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||"all"!==c?"Intente ajustar los filtros de búsqueda":"No hay contratos disponibles para el año seleccionado"})]})]}),"analytics"===s&&ma.jsx("div",{className:"space-y-6",children:ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ma.jsx(Br,{contracts:b,year:e}),ma.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[ma.jsx(g,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Análisis Avanzado"}),ma.jsx("p",{className:"text-gray-600",children:"Funcionalidades de análisis adicionales en desarrollo"})]})]})}),"performance"===s&&ma.jsx("div",{className:"space-y-6",children:ma.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[ma.jsx(W,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Análisis de Rendimiento"}),ma.jsx("p",{className:"text-gray-600",children:"Métricas de rendimiento y cumplimiento de contratos en desarrollo"})]})})]})]}),r&&ma.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:ma.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:ma.jsxs("div",{className:"p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalles del Contrato"}),ma.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),ma.jsxs("div",{className:"space-y-4",children:[ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Título"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.title})]}),ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.description})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Adjudicado a"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.awarded_to})]}),ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Presupuesto"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.budget>0?Pr(r.budget):"No especificado"})]}),ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Adjudicación"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:C(r.award_date)})]}),ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(e=>{switch(e){case"public_works":return"Obras Públicas";case"services":return"Servicios";case"supplies":return"Suministros";case"consulting":return"Consultoría";default:return"Otros"}})(r.type)})]})]}),ma.jsxs("div",{className:"flex items-center gap-4",children:[ma.jsx("div",{children:ma.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(r.status)}`,children:r.status})}),ma.jsx("div",{children:ma.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(r.execution_status)}`,children:_(r.execution_status)})})]}),r.delay_analysis&&ma.jsxs("div",{children:[ma.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Análisis de Demoras"}),ma.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.delay_analysis})]}),r.url&&ma.jsx("div",{className:"pt-4 border-t border-gray-200",children:ma.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[ma.jsx(U,{className:"w-4 h-4 mr-2"}),"Ver Documento"]})})]})]})})})]})};function pl(e,...t){const a=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(e=>a.searchParams.append("args[]",e)),`Minified MUI error #${e}; visit ${a} for the full message.`}var gl=function(){function e(e){var t=this;this._insertTag=function(e){var a;a=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,a),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{a.insertRule(e,a.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),xl="-ms-",yl="-moz-",bl="-webkit-",vl="comm",jl="rule",wl="decl",Nl="@keyframes",kl=Math.abs,_l=String.fromCharCode,Cl=Object.assign;function Sl(e){return e.trim()}function Dl(e,t,a){return e.replace(t,a)}function Al(e,t){return e.indexOf(t)}function Ol(e,t){return 0|e.charCodeAt(t)}function zl(e,t,a){return e.slice(t,a)}function Tl(e){return e.length}function El(e){return e.length}function Ml(e,t){return t.push(e),e}var Pl=1,Ll=1,Il=0,$l=0,Fl=0,Rl="";function Bl(e,t,a,r,n,s,i){return{value:e,root:t,parent:a,type:r,props:n,children:s,line:Pl,column:Ll,length:i,return:""}}function Wl(e,t){return Cl(Bl("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ul(){return Fl=$l>0?Ol(Rl,--$l):0,Ll--,10===Fl&&(Ll=1,Pl--),Fl}function Hl(){return Fl=$l<Il?Ol(Rl,$l++):0,Ll++,10===Fl&&(Ll=1,Pl++),Fl}function Yl(){return Ol(Rl,$l)}function Vl(){return $l}function Kl(e,t){return zl(Rl,e,t)}function Gl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ql(e){return Pl=Ll=1,Il=Tl(Rl=e),$l=0,[]}function Zl(e){return Rl="",e}function Ql(e){return Sl(Kl($l-1,ec(91===e?e+2:40===e?e+1:e)))}function Xl(e){for(;(Fl=Yl())&&Fl<33;)Hl();return Gl(e)>2||Gl(Fl)>3?"":" "}function Jl(e,t){for(;--t&&Hl()&&!(Fl<48||Fl>102||Fl>57&&Fl<65||Fl>70&&Fl<97););return Kl(e,Vl()+(t<6&&32==Yl()&&32==Hl()))}function ec(e){for(;Hl();)switch(Fl){case e:return $l;case 34:case 39:34!==e&&39!==e&&ec(Fl);break;case 40:41===e&&ec(e);break;case 92:Hl()}return $l}function tc(e,t){for(;Hl()&&e+Fl!==57&&(e+Fl!==84||47!==Yl()););return"/*"+Kl(t,$l-1)+"*"+_l(47===e?e:Hl())}function ac(e){for(;!Gl(Yl());)Hl();return Kl(e,$l)}function rc(e){return Zl(nc("",null,null,null,[""],e=ql(e),0,[0],e))}function nc(e,t,a,r,n,s,i,o,l){for(var c=0,d=0,u=i,m=0,h=0,f=0,p=1,g=1,x=1,y=0,b="",v=n,j=s,w=r,N=b;g;)switch(f=y,y=Hl()){case 40:if(108!=f&&58==Ol(N,u-1)){-1!=Al(N+=Dl(Ql(y),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:N+=Ql(y);break;case 9:case 10:case 13:case 32:N+=Xl(f);break;case 92:N+=Jl(Vl()-1,7);continue;case 47:switch(Yl()){case 42:case 47:Ml(ic(tc(Hl(),Vl()),t,a),l);break;default:N+="/"}break;case 123*p:o[c++]=Tl(N)*x;case 125*p:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==x&&(N=Dl(N,/\f/g,"")),h>0&&Tl(N)-u&&Ml(h>32?oc(N+";",r,a,u-1):oc(Dl(N," ","")+";",r,a,u-2),l);break;case 59:N+=";";default:if(Ml(w=sc(N,t,a,c,d,n,o,b,v=[],j=[],u),s),123===y)if(0===d)nc(N,t,w,w,v,s,u,o,j);else switch(99===m&&110===Ol(N,3)?100:m){case 100:case 108:case 109:case 115:nc(e,w,w,r&&Ml(sc(e,w,w,0,0,n,o,b,n,v=[],u),j),n,j,u,o,r?v:j);break;default:nc(N,w,w,w,[""],j,0,o,j)}}c=d=h=0,p=x=1,b=N="",u=i;break;case 58:u=1+Tl(N),h=f;default:if(p<1)if(123==y)--p;else if(125==y&&0==p++&&125==Ul())continue;switch(N+=_l(y),y*p){case 38:x=d>0?1:(N+="\f",-1);break;case 44:o[c++]=(Tl(N)-1)*x,x=1;break;case 64:45===Yl()&&(N+=Ql(Hl())),m=Yl(),d=u=Tl(b=N+=ac(Vl())),y++;break;case 45:45===f&&2==Tl(N)&&(p=0)}}return s}function sc(e,t,a,r,n,s,i,o,l,c,d){for(var u=n-1,m=0===n?s:[""],h=El(m),f=0,p=0,g=0;f<r;++f)for(var x=0,y=zl(e,u+1,u=kl(p=i[f])),b=e;x<h;++x)(b=Sl(p>0?m[x]+" "+y:Dl(y,/&\f/g,m[x])))&&(l[g++]=b);return Bl(e,t,a,0===n?jl:o,l,c,d)}function ic(e,t,a){return Bl(e,t,a,vl,_l(Fl),zl(e,2,-2),0)}function oc(e,t,a,r){return Bl(e,t,a,wl,zl(e,0,r),zl(e,r+1,-1),r)}function lc(e,t){for(var a="",r=El(e),n=0;n<r;n++)a+=t(e[n],n,e,t)||"";return a}function cc(e,t,a,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case wl:return e.return=e.return||e.value;case vl:return"";case Nl:return e.return=e.value+"{"+lc(e.children,r)+"}";case jl:e.value=e.props.join(",")}return Tl(a=lc(e.children,r))?e.return=e.value+"{"+a+"}":""}var dc=function(e,t,a){for(var r=0,n=0;r=n,n=Yl(),38===r&&12===n&&(t[a]=1),!Gl(n);)Hl();return Kl(e,$l)},uc=function(e,t){return Zl(function(e,t){var a=-1,r=44;do{switch(Gl(r)){case 0:38===r&&12===Yl()&&(t[a]=1),e[a]+=dc($l-1,t,a);break;case 2:e[a]+=Ql(r);break;case 4:if(44===r){e[++a]=58===Yl()?"&\f":"",t[a]=e[a].length;break}default:e[a]+=_l(r)}}while(r=Hl());return e}(ql(e),t))},mc=new WeakMap,hc=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,a=e.parent,r=e.column===a.column&&e.line===a.line;"rule"!==a.type;)if(!(a=a.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||mc.get(a))&&!r){mc.set(e,!0);for(var n=[],s=uc(t,n),i=a.props,o=0,l=0;o<s.length;o++)for(var c=0;c<i.length;c++,l++)e.props[l]=n[o]?s[o].replace(/&\f/g,i[c]):i[c]+" "+s[o]}}},fc=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function pc(e,t){switch(function(e,t){return 45^Ol(e,0)?(((t<<2^Ol(e,0))<<2^Ol(e,1))<<2^Ol(e,2))<<2^Ol(e,3):0}(e,t)){case 5103:return bl+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bl+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bl+e+yl+e+xl+e+e;case 6828:case 4268:return bl+e+xl+e+e;case 6165:return bl+e+xl+"flex-"+e+e;case 5187:return bl+e+Dl(e,/(\w+).+(:[^]+)/,bl+"box-$1$2"+xl+"flex-$1$2")+e;case 5443:return bl+e+xl+"flex-item-"+Dl(e,/flex-|-self/,"")+e;case 4675:return bl+e+xl+"flex-line-pack"+Dl(e,/align-content|flex-|-self/,"")+e;case 5548:return bl+e+xl+Dl(e,"shrink","negative")+e;case 5292:return bl+e+xl+Dl(e,"basis","preferred-size")+e;case 6060:return bl+"box-"+Dl(e,"-grow","")+bl+e+xl+Dl(e,"grow","positive")+e;case 4554:return bl+Dl(e,/([^-])(transform)/g,"$1"+bl+"$2")+e;case 6187:return Dl(Dl(Dl(e,/(zoom-|grab)/,bl+"$1"),/(image-set)/,bl+"$1"),e,"")+e;case 5495:case 3959:return Dl(e,/(image-set\([^]*)/,bl+"$1$`$1");case 4968:return Dl(Dl(e,/(.+:)(flex-)?(.*)/,bl+"box-pack:$3"+xl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bl+e+e;case 4095:case 3583:case 4068:case 2532:return Dl(e,/(.+)-inline(.+)/,bl+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tl(e)-1-t>6)switch(Ol(e,t+1)){case 109:if(45!==Ol(e,t+4))break;case 102:return Dl(e,/(.+:)(.+)-([^]+)/,"$1"+bl+"$2-$3$1"+yl+(108==Ol(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Al(e,"stretch")?pc(Dl(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ol(e,t+1))break;case 6444:switch(Ol(e,Tl(e)-3-(~Al(e,"!important")&&10))){case 107:return Dl(e,":",":"+bl)+e;case 101:return Dl(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bl+(45===Ol(e,14)?"inline-":"")+"box$3$1"+bl+"$2$3$1"+xl+"$2box$3")+e}break;case 5936:switch(Ol(e,t+11)){case 114:return bl+e+xl+Dl(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bl+e+xl+Dl(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bl+e+xl+Dl(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return bl+e+xl+e+e}return e}var gc=[function(e,t,a,r){if(e.length>-1&&!e.return)switch(e.type){case wl:e.return=pc(e.value,e.length);break;case Nl:return lc([Wl(e,{value:Dl(e.value,"@","@"+bl)})],r);case jl:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lc([Wl(e,{props:[Dl(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return lc([Wl(e,{props:[Dl(t,/:(plac\w+)/,":"+bl+"input-$1")]}),Wl(e,{props:[Dl(t,/:(plac\w+)/,":-moz-$1")]}),Wl(e,{props:[Dl(t,/:(plac\w+)/,xl+"input-$1")]})],r)}return""})}}],xc=function(e){var t=e.key;if("css"===t){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,n,s=e.stylisPlugins||gc,i={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),a=1;a<t.length;a++)i[t[a]]=!0;o.push(e)});var l,c,d,u,m=[cc,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=(c=[hc,fc].concat(s,m),d=El(c),function(e,t,a,r){for(var n="",s=0;s<d;s++)n+=c[s](e,t,a,r)||"";return n});n=function(e,t,a,r){l=a,lc(rc(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new gl({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:n};return f.sheet.hydrate(o),f};a.createContext("undefined"!=typeof HTMLElement?xc({key:"css"}):null).Provider;var yc,bc,vc=a.createContext({}),jc={exports:{}},wc={};function Nc(){if(yc)return wc;yc=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function f(h){if("object"==typeof h&&null!==h){var f=h.$$typeof;switch(f){case e:switch(h=h.type){case a:case n:case r:case l:case c:case m:return h;default:switch(h=h&&h.$$typeof){case i:case o:case u:case d:case s:return h;default:return f}}case t:return f}}}return wc.ContextConsumer=s,wc.ContextProvider=i,wc.Element=e,wc.ForwardRef=o,wc.Fragment=a,wc.Lazy=u,wc.Memo=d,wc.Portal=t,wc.Profiler=n,wc.StrictMode=r,wc.Suspense=l,wc.SuspenseList=c,wc.isContextConsumer=function(e){return f(e)===s},wc.isContextProvider=function(e){return f(e)===i},wc.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},wc.isForwardRef=function(e){return f(e)===o},wc.isFragment=function(e){return f(e)===a},wc.isLazy=function(e){return f(e)===u},wc.isMemo=function(e){return f(e)===d},wc.isPortal=function(e){return f(e)===t},wc.isProfiler=function(e){return f(e)===n},wc.isStrictMode=function(e){return f(e)===r},wc.isSuspense=function(e){return f(e)===l},wc.isSuspenseList=function(e){return f(e)===c},wc.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===n||e===r||e===l||e===c||"object"==typeof e&&null!==e&&(e.$$typeof===u||e.$$typeof===d||e.$$typeof===i||e.$$typeof===s||e.$$typeof===o||e.$$typeof===h||void 0!==e.getModuleId)},wc.typeOf=f,wc}function kc(){return bc||(bc=1,jc.exports=Nc()),jc.exports}var _c=kc();function Cc(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function Sc(e){if(a.isValidElement(e)||_c.isValidElementType(e)||!Cc(e))return e;const t={};return Object.keys(e).forEach(a=>{t[a]=Sc(e[a])}),t}function Dc(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return Cc(e)&&Cc(t)&&Object.keys(t).forEach(s=>{a.isValidElement(t[s])||_c.isValidElementType(t[s])?n[s]=t[s]:Cc(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Cc(e[s])?n[s]=Dc(e[s],t[s],r):r.clone?n[s]=Cc(t[s])?Sc(t[s]):t[s]:n[s]=t[s]}),n}function Ac(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:r=5,...n}=e,s=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})})(t),i=Object.keys(s);function o(e){return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${a})`}function l(e){return`@media (max-width:${("number"==typeof t[e]?t[e]:e)-r/100}${a})`}function c(e,n){const s=i.indexOf(n);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${a}) and (max-width:${(-1!==s&&"number"==typeof t[i[s]]?t[i[s]]:n)-r/100}${a})`}return{keys:i,values:s,up:o,down:l,between:c,only:function(e){return i.indexOf(e)+1<i.length?c(e,i[i.indexOf(e)+1]):o(e)},not:function(e){const t=i.indexOf(e);return 0===t?o(i[1]):t===i.length-1?l(i[t]):c(e,i[i.indexOf(e)+1]).replace("@media","@media not all and")},unit:a,...n}}function Oc(e,t){if(!e.containerQueries)return t;const a=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{const a=/min-width:\s*([0-9.]+)/;return+(e.match(a)?.[1]||0)-+(t.match(a)?.[1]||0)});return a.length?a.reduce((e,a)=>{const r=t[a];return delete e[a],e[a]=r,e},{...t}):t}const zc={borderRadius:4};function Tc(e,t){return t?Dc(e,t,{clone:!1}):e}const Ec={xs:0,sm:600,md:900,lg:1200,xl:1536},Mc={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Ec[e]}px)`},Pc={containerQueries:e=>({up:t=>{let a="number"==typeof t?t:Ec[t]||t;return"number"==typeof a&&(a=`${a}px`),e?`@container ${e} (min-width:${a})`:`@container (min-width:${a})`}})};function Lc(e,t,a){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Mc;return t.reduce((r,n,s)=>(r[e.up(e.keys[s])]=a(t[s]),r),{})}if("object"==typeof t){const e=r.breakpoints||Mc;return Object.keys(t).reduce((n,s)=>{if(i=e.keys,"@"===(o=s)||o.startsWith("@")&&(i.some(e=>o.startsWith(`@${e}`))||o.match(/^@\d/))){const e=function(e,t){const a=t.match(/^@([^/]+)?\/?(.+)?$/);if(!a)return null;const[,r,n]=a,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(n).up(s)}(r.containerQueries?r:Pc,s);e&&(n[e]=a(t[s],s))}else if(Object.keys(e.values||Ec).includes(s)){n[e.up(s)]=a(t[s],s)}else{const e=s;n[e]=t[e]}var i,o;return n},{})}return a(t)}function Ic(e,t){return e.reduce((e,t)=>{const a=e[t];return(!a||0===Object.keys(a).length)&&delete e[t],e},t)}function $c(e){if("string"!=typeof e)throw new Error(pl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Fc(e,t,a=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&a){const a=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=a)return a}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function Rc(e,t,a,r=a){let n;return n="function"==typeof e?e(a):Array.isArray(e)?e[a]||r:Fc(e,a)||r,t&&(n=t(n,r,e)),n}function Bc(e){const{prop:t,cssProperty:a=e.prop,themeKey:r,transform:n}=e,s=e=>{if(null==e[t])return null;const s=e[t],i=Fc(e.theme,r)||{};return Lc(e,s,e=>{let r=Rc(i,n,e);return e===r&&"string"==typeof e&&(r=Rc(i,n,`${t}${"default"===e?"":$c(e)}`,e)),!1===a?r:{[a]:r}})};return s.propTypes={},s.filterProps=[t],s}const Wc={m:"margin",p:"padding"},Uc={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Hc={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yc=function(e){const t={};return a=>(void 0===t[a]&&(t[a]=e(a)),t[a])}(e=>{if(e.length>2){if(!Hc[e])return[e];e=Hc[e]}const[t,a]=e.split(""),r=Wc[t],n=Uc[a]||"";return Array.isArray(n)?n.map(e=>r+e):[r+n]}),Vc=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Kc=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];function Gc(e,t,a,r){const n=Fc(e,t,!0)??a;return"number"==typeof n||"string"==typeof n?e=>"string"==typeof e?e:"string"==typeof n?n.startsWith("var(")&&0===e?0:n.startsWith("var(")&&1===e?n:`calc(${e} * ${n})`:n*e:Array.isArray(n)?e=>{if("string"==typeof e)return e;const t=Math.abs(e),a=n[t];return e>=0?a:"number"==typeof a?-a:"string"==typeof a&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:"function"==typeof n?n:()=>{}}function qc(e){return Gc(e,"spacing",8)}function Zc(e,t){return"string"==typeof t||null==t?t:e(t)}function Qc(e,t,a,r){if(!t.includes(a))return null;const n=function(e,t){return a=>e.reduce((e,r)=>(e[r]=Zc(t,a),e),{})}(Yc(a),r);return Lc(e,e[a],n)}function Xc(e,t){const a=qc(e.theme);return Object.keys(e).map(r=>Qc(e,t,r,a)).reduce(Tc,{})}function Jc(e){return Xc(e,Vc)}function ed(e){return Xc(e,Kc)}function td(e=8,t=qc({spacing:e})){if(e.mui)return e;const a=(...e)=>(0===e.length?[1]:e).map(e=>{const a=t(e);return"number"==typeof a?`${a}px`:a}).join(" ");return a.mui=!0,a}function ad(...e){const t=e.reduce((e,t)=>(t.filterProps.forEach(a=>{e[a]=t}),e),{}),a=e=>Object.keys(e).reduce((a,r)=>t[r]?Tc(a,t[r](e)):a,{});return a.propTypes={},a.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),a}function rd(e){return"number"!=typeof e?e:`${e}px solid`}function nd(e,t){return Bc({prop:e,themeKey:"borders",transform:t})}Jc.propTypes={},Jc.filterProps=Vc,ed.propTypes={},ed.filterProps=Kc;const sd=nd("border",rd),id=nd("borderTop",rd),od=nd("borderRight",rd),ld=nd("borderBottom",rd),cd=nd("borderLeft",rd),dd=nd("borderColor"),ud=nd("borderTopColor"),md=nd("borderRightColor"),hd=nd("borderBottomColor"),fd=nd("borderLeftColor"),pd=nd("outline",rd),gd=nd("outlineColor"),xd=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Gc(e.theme,"shape.borderRadius",4),a=e=>({borderRadius:Zc(t,e)});return Lc(e,e.borderRadius,a)}return null};xd.propTypes={},xd.filterProps=["borderRadius"],ad(sd,id,od,ld,cd,dd,ud,md,hd,fd,xd,pd,gd);const yd=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Gc(e.theme,"spacing",8),a=e=>({gap:Zc(t,e)});return Lc(e,e.gap,a)}return null};yd.propTypes={},yd.filterProps=["gap"];const bd=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Gc(e.theme,"spacing",8),a=e=>({columnGap:Zc(t,e)});return Lc(e,e.columnGap,a)}return null};bd.propTypes={},bd.filterProps=["columnGap"];const vd=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Gc(e.theme,"spacing",8),a=e=>({rowGap:Zc(t,e)});return Lc(e,e.rowGap,a)}return null};vd.propTypes={},vd.filterProps=["rowGap"];function jd(e,t){return"grey"===t?t:e}ad(yd,bd,vd,Bc({prop:"gridColumn"}),Bc({prop:"gridRow"}),Bc({prop:"gridAutoFlow"}),Bc({prop:"gridAutoColumns"}),Bc({prop:"gridAutoRows"}),Bc({prop:"gridTemplateColumns"}),Bc({prop:"gridTemplateRows"}),Bc({prop:"gridTemplateAreas"}),Bc({prop:"gridArea"}));function wd(e){return e<=1&&0!==e?100*e+"%":e}ad(Bc({prop:"color",themeKey:"palette",transform:jd}),Bc({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jd}),Bc({prop:"backgroundColor",themeKey:"palette",transform:jd}));const Nd=Bc({prop:"width",transform:wd}),kd=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const a=e.theme?.breakpoints?.values?.[t]||Ec[t];return a?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:wd(t)}};return Lc(e,e.maxWidth,t)}return null};kd.filterProps=["maxWidth"];const _d=Bc({prop:"minWidth",transform:wd}),Cd=Bc({prop:"height",transform:wd}),Sd=Bc({prop:"maxHeight",transform:wd}),Dd=Bc({prop:"minHeight",transform:wd});Bc({prop:"size",cssProperty:"width",transform:wd}),Bc({prop:"size",cssProperty:"height",transform:wd});ad(Nd,kd,_d,Cd,Sd,Dd,Bc({prop:"boxSizing"}));const Ad={border:{themeKey:"borders",transform:rd},borderTop:{themeKey:"borders",transform:rd},borderRight:{themeKey:"borders",transform:rd},borderBottom:{themeKey:"borders",transform:rd},borderLeft:{themeKey:"borders",transform:rd},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:rd},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xd},color:{themeKey:"palette",transform:jd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jd},backgroundColor:{themeKey:"palette",transform:jd},p:{style:ed},pt:{style:ed},pr:{style:ed},pb:{style:ed},pl:{style:ed},px:{style:ed},py:{style:ed},padding:{style:ed},paddingTop:{style:ed},paddingRight:{style:ed},paddingBottom:{style:ed},paddingLeft:{style:ed},paddingX:{style:ed},paddingY:{style:ed},paddingInline:{style:ed},paddingInlineStart:{style:ed},paddingInlineEnd:{style:ed},paddingBlock:{style:ed},paddingBlockStart:{style:ed},paddingBlockEnd:{style:ed},m:{style:Jc},mt:{style:Jc},mr:{style:Jc},mb:{style:Jc},ml:{style:Jc},mx:{style:Jc},my:{style:Jc},margin:{style:Jc},marginTop:{style:Jc},marginRight:{style:Jc},marginBottom:{style:Jc},marginLeft:{style:Jc},marginX:{style:Jc},marginY:{style:Jc},marginInline:{style:Jc},marginInlineStart:{style:Jc},marginInlineEnd:{style:Jc},marginBlock:{style:Jc},marginBlockStart:{style:Jc},marginBlockEnd:{style:Jc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:yd},rowGap:{style:vd},columnGap:{style:bd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wd},maxWidth:{style:kd},minWidth:{transform:wd},height:{transform:wd},maxHeight:{transform:wd},minHeight:{transform:wd},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};const Od=function(){function e(e,t,a,r){const n={[e]:t,theme:a},s=r[e];if(!s)return{[e]:t};const{cssProperty:i=e,themeKey:o,transform:l,style:c}=s;if(null==t)return null;if("typography"===o&&"inherit"===t)return{[e]:t};const d=Fc(a,o)||{};if(c)return c(n);return Lc(n,t,t=>{let a=Rc(d,l,t);return t===a&&"string"==typeof t&&(a=Rc(d,l,`${e}${"default"===t?"":$c(t)}`,t)),!1===i?a:{[i]:a}})}return function t(a){const{sx:r,theme:n={},nested:s}=a||{};if(!r)return null;const i=n.unstable_sxConfig??Ad;function o(a){let r=a;if("function"==typeof a)r=a(n);else if("object"!=typeof a)return a;if(!r)return null;const o=function(e={}){const t=e.keys?.reduce((t,a)=>(t[e.up(a)]={},t),{});return t||{}}(n.breakpoints),l=Object.keys(o);let c=o;return Object.keys(r).forEach(a=>{const s=(o=r[a],l=n,"function"==typeof o?o(l):o);var o,l;if(null!=s)if("object"==typeof s)if(i[a])c=Tc(c,e(a,s,n,i));else{const e=Lc({theme:n},s,e=>({[a]:e}));!function(...e){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]),a=new Set(t);return e.every(e=>a.size===Object.keys(e).length)}(e,s)?c=Tc(c,e):c[a]=t({sx:s,theme:n,nested:!0})}else c=Tc(c,e(a,s,n,i))}),!s&&n.modularCssLayers?{"@layer sx":Oc(n,Ic(l,c))}:Oc(n,Ic(l,c))}return Array.isArray(r)?r.map(o):o(r)}}();function zd(e,t){const a=this;if(a.vars){if(!a.colorSchemes?.[e]||"function"!=typeof a.getColorSchemeSelector)return{};let r=a.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return a.palette.mode===e?t:{}}function Td(e={},...t){const{breakpoints:a={},palette:r={},spacing:n,shape:s={},...i}=e;let o=Dc({breakpoints:Ac(a),direction:"ltr",components:{},palette:{mode:"light",...r},spacing:td(n),shape:{...zc,...s}},i);return o=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function a(a,r){a.up=(...a)=>t(e.breakpoints.up(...a),r),a.down=(...a)=>t(e.breakpoints.down(...a),r),a.between=(...a)=>t(e.breakpoints.between(...a),r),a.only=(...a)=>t(e.breakpoints.only(...a),r),a.not=(...a)=>{const n=t(e.breakpoints.not(...a),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},n=e=>(a(r,e),r);return a(n),{...e,containerQueries:n}}(o),o.applyStyles=zd,o=t.reduce((e,t)=>Dc(e,t),o),o.unstable_sxConfig={...Ad,...i?.unstable_sxConfig},o.unstable_sx=function(e){return Od({sx:e,theme:this})},o}function Ed(e=null){const t=a.useContext(vc);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r}Od.filterProps=["sx"];const Md=Td();function Pd(e,t=0,a=1){return function(e,t=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,a))}(e,t,a)}function Ld(e){if(e.type)return e;if("#"===e.charAt(0))return Ld(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let a=e.match(t);return a&&1===a[0].length&&(a=a.map(e=>e+e)),a?`rgb${4===a.length?"a":""}(${a.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));const t=e.indexOf("("),a=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(a))throw new Error(pl(9,e));let r,n=e.substring(t+1,e.length-1);if("color"===a){if(n=n.split(" "),r=n.shift(),4===n.length&&"/"===n[3].charAt(0)&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(pl(10,r))}else n=n.split(",");return n=n.map(e=>parseFloat(e)),{type:a,values:n,colorSpace:r}}const Id=(e,t)=>{try{return(e=>{const t=Ld(e);return t.values.slice(0,3).map((e,a)=>t.type.includes("hsl")&&0!==a?`${e}%`:e).join(" ")})(e)}catch(a){return e}};function $d(e){const{type:t,colorSpace:a}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${a} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function Fd(e){e=Ld(e);const{values:t}=e,a=t[0],r=t[1]/100,n=t[2]/100,s=r*Math.min(n,1-n),i=(e,t=(e+a/30)%12)=>n-s*Math.max(Math.min(t-3,9-t,1),-1);let o="rgb";const l=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(o+="a",l.push(t[3])),$d({type:o,values:l})}function Rd(e){let t="hsl"===(e=Ld(e)).type||"hsla"===e.type?Ld(Fd(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Bd(e,t){return e=Ld(e),t=Pd(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,$d(e)}function Wd(e,t,a){try{return Bd(e,t)}catch(r){return e}}function Ud(e,t){if(e=Ld(e),t=Pd(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let a=0;a<3;a+=1)e.values[a]*=1-t;return $d(e)}function Hd(e,t,a){try{return Ud(e,t)}catch(r){return e}}function Yd(e,t){if(e=Ld(e),t=Pd(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let a=0;a<3;a+=1)e.values[a]+=(255-e.values[a])*t;else if(e.type.includes("color"))for(let a=0;a<3;a+=1)e.values[a]+=(1-e.values[a])*t;return $d(e)}function Vd(e,t,a){try{return Yd(e,t)}catch(r){return e}}function Kd(e,t,a){try{return function(e,t=.15){return Rd(e)>.5?Ud(e,t):Yd(e,t)}(e,t)}catch(r){return e}}function Gd(e=""){function t(...a){if(!a.length)return"";const r=a[0];return"string"!=typeof r||r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${r}`:`, var(--${e?`${e}-`:""}${r}${t(...a.slice(1))})`}return(a,...r)=>`var(--${e?`${e}-`:""}${a}${t(...r)})`}const qd=(e,t,a,r=[])=>{let n=e;t.forEach((e,s)=>{s===t.length-1?Array.isArray(n)?n[Number(e)]=a:n&&"object"==typeof n&&(n[e]=a):n&&"object"==typeof n&&(n[e]||(n[e]=r.includes(e)?[]:{}),n=n[e])})};function Zd(e,t){const{prefix:a,shouldSkipGeneratingVar:r}=t||{},n={},s={},i={};var o,l;return o=(e,t,o)=>{if(!("string"!=typeof t&&"number"!=typeof t||r&&r(e,t))){const r=`--${a?`${a}-`:""}${e.join("-")}`,l=((e,t)=>"number"==typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t)(e,t);Object.assign(n,{[r]:l}),qd(s,e,`var(${r})`,o),qd(i,e,`var(${r}, ${l})`,o)}},l=e=>"vars"===e[0],function e(t,a=[],r=[]){Object.entries(t).forEach(([t,n])=>{(!l||l&&!l([...a,t]))&&null!=n&&("object"==typeof n&&Object.keys(n).length>0?e(n,[...a,t],Array.isArray(n)?[...r,t]:r):o([...a,t],n,r))})}(e),{css:n,vars:s,varsWithDefaults:i}}const Qd={black:"#000",white:"#fff"},Xd={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jd="#f3e5f5",eu="#ce93d8",tu="#ba68c8",au="#ab47bc",ru="#9c27b0",nu="#7b1fa2",su="#e57373",iu="#ef5350",ou="#f44336",lu="#d32f2f",cu="#c62828",du="#ffb74d",uu="#ffa726",mu="#ff9800",hu="#f57c00",fu="#e65100",pu="#e3f2fd",gu="#90caf9",xu="#42a5f5",yu="#1976d2",bu="#1565c0",vu="#4fc3f7",ju="#29b6f6",wu="#03a9f4",Nu="#0288d1",ku="#01579b",_u="#81c784",Cu="#66bb6a",Su="#4caf50",Du="#388e3c",Au="#2e7d32",Ou="#1b5e20";function zu(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qd.white,default:Qd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Tu=zu();function Eu(){return{text:{primary:Qd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Mu=Eu();function Pu(e,t,a,r){const n=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(a)?e[t]=e[a]:"light"===t?e.light=Yd(e.main,n):"dark"===t&&(e.dark=Ud(e.main,s)))}function Lu(e,t,a,r,n){const s=n.light||n,i=n.dark||1.5*n;t[a]||(t.hasOwnProperty(r)?t[a]=t[r]:"light"===a?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(100*s).toFixed(0)}%)`:"dark"===a&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(100*i).toFixed(0)}%)`))}function Iu(e){const{mode:t="light",contrastThreshold:a=3,tonalOffset:r=.2,colorSpace:n,...s}=e,i=e.primary||function(e="light"){return"dark"===e?{main:gu,light:pu,dark:xu}:{main:yu,light:xu,dark:bu}}(t),o=e.secondary||function(e="light"){return"dark"===e?{main:eu,light:Jd,dark:au}:{main:ru,light:tu,dark:nu}}(t),l=e.error||function(e="light"){return"dark"===e?{main:ou,light:su,dark:lu}:{main:lu,light:iu,dark:cu}}(t),c=e.info||function(e="light"){return"dark"===e?{main:ju,light:vu,dark:Nu}:{main:Nu,light:wu,dark:ku}}(t),d=e.success||function(e="light"){return"dark"===e?{main:Cu,light:_u,dark:Du}:{main:Au,light:Su,dark:Ou}}(t),u=e.warning||function(e="light"){return"dark"===e?{main:uu,light:du,dark:hu}:{main:"#ed6c02",light:mu,dark:fu}}(t);function m(e){if(n)return function(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}(e);const t=function(e,t){const a=Rd(e),r=Rd(t);return(Math.max(a,r)+.05)/(Math.min(a,r)+.05)}(e,Mu.text.primary)>=a?Mu.text.primary:Tu.text.primary;return t}const h=({color:e,name:t,mainShade:a=500,lightShade:s=300,darkShade:i=700})=>{if(!(e={...e}).main&&e[a]&&(e.main=e[a]),!e.hasOwnProperty("main"))throw new Error(pl(11,t?` (${t})`:"",a));if("string"!=typeof e.main)throw new Error(pl(12,t?` (${t})`:"",JSON.stringify(e.main)));return n?(Lu(n,e,"light",s,r),Lu(n,e,"dark",i,r)):(Pu(e,"light",s,r),Pu(e,"dark",i,r)),e.contrastText||(e.contrastText=m(e.main)),e};let f;"light"===t?f=zu():"dark"===t&&(f=Eu());return Dc({common:{...Qd},mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:l,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:d,name:"success"}),grey:Xd,contrastThreshold:a,getContrastText:m,augmentColor:h,tonalOffset:r,...f},s)}function $u(e){const t={};return Object.entries(e).forEach(e=>{const[a,r]=e;"object"==typeof r&&(t[a]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),t}const Fu={textTransform:"uppercase"},Ru='"Roboto", "Helvetica", "Arial", sans-serif';function Bu(e,t){const{fontFamily:a=Ru,fontSize:r=14,fontWeightLight:n=300,fontWeightRegular:s=400,fontWeightMedium:i=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...u}="function"==typeof t?t(e):t,m=r/14,h=d||(e=>e/l*m+"rem"),f=(e,t,r,n,s)=>{return{fontFamily:a,fontWeight:e,fontSize:h(t),lineHeight:r,...a===Ru?{letterSpacing:(i=n/t,Math.round(1e5*i)/1e5)+"em"}:{},...s,...c};var i},p={h1:f(n,96,1.167,-1.5),h2:f(n,60,1.2,-.5),h3:f(s,48,1.167,0),h4:f(s,34,1.235,.25),h5:f(s,24,1.334,0),h6:f(i,20,1.6,.15),subtitle1:f(s,16,1.75,.15),subtitle2:f(i,14,1.57,.1),body1:f(s,16,1.5,.15),body2:f(s,14,1.43,.15),button:f(i,14,1.75,.4,Fu),caption:f(s,12,1.66,.4),overline:f(s,12,2.66,1,Fu),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Dc({htmlFontSize:l,pxToRem:h,fontFamily:a,fontSize:r,fontWeightLight:n,fontWeightRegular:s,fontWeightMedium:i,fontWeightBold:o,...p},u,{clone:!1})}function Wu(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}const Uu=["none",Wu(0,2,1,-1,0,1,1,0,0,1,3,0),Wu(0,3,1,-2,0,2,2,0,0,1,5,0),Wu(0,3,3,-2,0,3,4,0,0,1,8,0),Wu(0,2,4,-1,0,4,5,0,0,1,10,0),Wu(0,3,5,-1,0,5,8,0,0,1,14,0),Wu(0,3,5,-1,0,6,10,0,0,1,18,0),Wu(0,4,5,-2,0,7,10,1,0,2,16,1),Wu(0,5,5,-3,0,8,10,1,0,3,14,2),Wu(0,5,6,-3,0,9,12,1,0,3,16,2),Wu(0,6,6,-3,0,10,14,1,0,4,18,3),Wu(0,6,7,-4,0,11,15,1,0,4,20,3),Wu(0,7,8,-4,0,12,17,2,0,5,22,4),Wu(0,7,8,-4,0,13,19,2,0,5,24,4),Wu(0,7,9,-4,0,14,21,2,0,5,26,4),Wu(0,8,9,-5,0,15,22,2,0,6,28,5),Wu(0,8,10,-5,0,16,24,2,0,6,30,5),Wu(0,8,11,-5,0,17,26,2,0,6,32,5),Wu(0,9,11,-5,0,18,28,2,0,7,34,6),Wu(0,9,12,-6,0,19,29,2,0,7,36,6),Wu(0,10,13,-6,0,20,31,3,0,8,38,7),Wu(0,10,13,-6,0,21,33,3,0,8,40,7),Wu(0,10,14,-6,0,22,35,3,0,8,42,7),Wu(0,11,14,-7,0,23,36,3,0,9,44,8),Wu(0,11,15,-7,0,24,38,3,0,9,46,8)],Hu={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yu={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Vu(e){return`${Math.round(e)}ms`}function Ku(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Gu(e){const t={...Hu,...e.easing},a={...Yu,...e.duration};return{getAutoHeightDuration:Ku,create:(e=["all"],r={})=>{const{duration:n=a.standard,easing:s=t.easeInOut,delay:i=0,...o}=r;return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof n?n:Vu(n)} ${s} ${"string"==typeof i?i:Vu(i)}`).join(",")},...e,easing:t,duration:a}}const qu={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Zu(e){return Cc(e)||void 0===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||Array.isArray(e)}function Qu(e={}){const t={...e};return function e(t){const a=Object.entries(t);for(let r=0;r<a.length;r++){const[n,s]=a[r];!Zu(s)||n.startsWith("unstable_")?delete t[n]:Cc(s)&&(t[n]={...s},e(t[n]))}}(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(t,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}function Xu(e){return"number"==typeof e?`${(100*e).toFixed(0)}%`:`calc((${e}) * 100%)`}function Ju(e){Object.assign(e,{alpha(t,a){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${"string"==typeof a?`calc(${a})`:a})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${"string"==typeof a?`calc(${a})`:a})`:Bd(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let a=0;for(let r=0;r<t.length;r+=1)a+=+t[r];return a})(a))},lighten(t,a){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${Xu(a)})`:Yd(t,a)},darken(t,a){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${Xu(a)})`:Ud(t,a)}})}function em(e={},...t){const{breakpoints:a,mixins:r={},spacing:n,palette:s={},transitions:i={},typography:o={},shape:l,colorSpace:c,...d}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(pl(20));const u=Iu({...s,colorSpace:c}),m=Td(e);let h=Dc(m,{mixins:(f=m.breakpoints,p=r,{toolbar:{minHeight:56,[f.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[f.up("sm")]:{minHeight:64}},...p}),palette:u,shadows:Uu.slice(),typography:Bu(u,o),transitions:Gu(i),zIndex:{...qu}});var f,p;return h=Dc(h,d),h=t.reduce((e,t)=>Dc(e,t),h),h.unstable_sxConfig={...Ad,...d?.unstable_sxConfig},h.unstable_sx=function(e){return Od({sx:e,theme:this})},h.toRuntimeSource=Qu,Ju(h),h}const tm=[...Array(25)].map((e,t)=>{if(0===t)return"none";const a=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return`linear-gradient(rgba(255 255 255 / ${a}), rgba(255 255 255 / ${a}))`});function am(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function rm(e){return"dark"===e?tm:[]}function nm(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const sm=e=>(t,a)=>{const r=e.rootSelector||":root",n=e.colorSchemeSelector;let s=n;if("class"===n&&(s=".%s"),"data"===n&&(s="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(s=`[${n}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const n={};return(i=e.cssVarPrefix,[...[...Array(25)].map((e,t)=>`--${i?`${i}-`:""}overlays-${t}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`]).forEach(e=>{n[e]=a[e],delete a[e]}),"media"===s?{[r]:a,"@media (prefers-color-scheme: dark)":{[r]:n}}:s?{[s.replace("%s",t)]:n,[`${r}, ${s.replace("%s",t)}`]:a}:{[r]:{...a,...n}}}if(s&&"media"!==s)return`${r}, ${s.replace("%s",String(t))}`}else if(t){if("media"===s)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:a}};if(s)return s.replace("%s",String(t))}var i;return r};function im(e,t,a){!e[t]&&a&&(e[t]=a)}function om(e){return"string"==typeof e&&e.startsWith("hsl")?Fd(e):e}function lm(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Id(om(e[t])))}const cm=e=>{try{return e()}catch(t){}};function dm(e,t,a,r,n){if(!a)return;a=!0===a?{}:a;const s="dark"===n?"dark":"light";if(!r)return void(t[n]=function(e){const{palette:t={mode:"light"},opacity:a,overlays:r,colorSpace:n,...s}=e,i=Iu({...t,colorSpace:n});return{palette:i,opacity:{...am(i.mode),...a},overlays:r||rm(i.mode),...s}}({...a,palette:{mode:s,...a?.palette},colorSpace:e}));const{palette:i,...o}=em({...r,palette:{mode:s,...a?.palette},colorSpace:e});return t[n]={...a,palette:i,opacity:{...am(s),...a?.opacity},overlays:a?.overlays||rm(s)},o}function um(e={},...t){const{colorSchemes:a={light:!0},defaultColorScheme:r,disableCssColorScheme:n=!1,cssVarPrefix:s="mui",nativeColor:i=!1,shouldSkipGeneratingVar:o=nm,colorSchemeSelector:l=(a.light&&a.dark?"media":void 0),rootSelector:c=":root",...d}=e,u=Object.keys(a)[0],m=r||(a.light&&"light"!==u?"light":u),h=((e="mui")=>Gd(e))(s),{[m]:f,light:p,dark:g,...x}=a,y={...x};let b,v=f;if(("dark"===m&&!("dark"in a)||"light"===m&&!("light"in a))&&(v=!0),!v)throw new Error(pl(21,m));i&&(b="oklch");const j=dm(b,y,v,d,m);p&&!y.light&&dm(b,y,p,void 0,"light"),g&&!y.dark&&dm(b,y,g,void 0,"dark");let w={defaultColorScheme:m,...j,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:c,getCssVar:h,colorSchemes:y,font:{...$u(j.typography),...j.font},spacing:(N=d.spacing,"number"==typeof N?`${N}px`:"string"==typeof N||"function"==typeof N||Array.isArray(N)?N:"8px")};var N;Object.keys(w.colorSchemes).forEach(e=>{const t=w.colorSchemes[e].palette,a=e=>{const a=e.split("-"),r=a[1],n=a[2];return h(e,t[r][n])};function r(e,t,a){if(b){let r;return e===Wd&&(r=`transparent ${(100*(1-a)).toFixed(0)}%`),e===Hd&&(r=`#000 ${(100*a).toFixed(0)}%`),e===Vd&&(r=`#fff ${(100*a).toFixed(0)}%`),`color-mix(in ${b}, ${t}, ${r})`}return e(t,a)}var n;if("light"===t.mode&&(im(t.common,"background","#fff"),im(t.common,"onBackground","#000")),"dark"===t.mode&&(im(t.common,"background","#000"),im(t.common,"onBackground","#fff")),n=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{n[e]||(n[e]={})}),"light"===t.mode){im(t.Alert,"errorColor",r(Hd,t.error.light,.6)),im(t.Alert,"infoColor",r(Hd,t.info.light,.6)),im(t.Alert,"successColor",r(Hd,t.success.light,.6)),im(t.Alert,"warningColor",r(Hd,t.warning.light,.6)),im(t.Alert,"errorFilledBg",a("palette-error-main")),im(t.Alert,"infoFilledBg",a("palette-info-main")),im(t.Alert,"successFilledBg",a("palette-success-main")),im(t.Alert,"warningFilledBg",a("palette-warning-main")),im(t.Alert,"errorFilledColor",cm(()=>t.getContrastText(t.error.main))),im(t.Alert,"infoFilledColor",cm(()=>t.getContrastText(t.info.main))),im(t.Alert,"successFilledColor",cm(()=>t.getContrastText(t.success.main))),im(t.Alert,"warningFilledColor",cm(()=>t.getContrastText(t.warning.main))),im(t.Alert,"errorStandardBg",r(Vd,t.error.light,.9)),im(t.Alert,"infoStandardBg",r(Vd,t.info.light,.9)),im(t.Alert,"successStandardBg",r(Vd,t.success.light,.9)),im(t.Alert,"warningStandardBg",r(Vd,t.warning.light,.9)),im(t.Alert,"errorIconColor",a("palette-error-main")),im(t.Alert,"infoIconColor",a("palette-info-main")),im(t.Alert,"successIconColor",a("palette-success-main")),im(t.Alert,"warningIconColor",a("palette-warning-main")),im(t.AppBar,"defaultBg",a("palette-grey-100")),im(t.Avatar,"defaultBg",a("palette-grey-400")),im(t.Button,"inheritContainedBg",a("palette-grey-300")),im(t.Button,"inheritContainedHoverBg",a("palette-grey-A100")),im(t.Chip,"defaultBorder",a("palette-grey-400")),im(t.Chip,"defaultAvatarColor",a("palette-grey-700")),im(t.Chip,"defaultIconColor",a("palette-grey-700")),im(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),im(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),im(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),im(t.LinearProgress,"primaryBg",r(Vd,t.primary.main,.62)),im(t.LinearProgress,"secondaryBg",r(Vd,t.secondary.main,.62)),im(t.LinearProgress,"errorBg",r(Vd,t.error.main,.62)),im(t.LinearProgress,"infoBg",r(Vd,t.info.main,.62)),im(t.LinearProgress,"successBg",r(Vd,t.success.main,.62)),im(t.LinearProgress,"warningBg",r(Vd,t.warning.main,.62)),im(t.Skeleton,"bg",b?r(Wd,t.text.primary,.11):`rgba(${a("palette-text-primaryChannel")} / 0.11)`),im(t.Slider,"primaryTrack",r(Vd,t.primary.main,.62)),im(t.Slider,"secondaryTrack",r(Vd,t.secondary.main,.62)),im(t.Slider,"errorTrack",r(Vd,t.error.main,.62)),im(t.Slider,"infoTrack",r(Vd,t.info.main,.62)),im(t.Slider,"successTrack",r(Vd,t.success.main,.62)),im(t.Slider,"warningTrack",r(Vd,t.warning.main,.62));const e=b?r(Hd,t.background.default,.6825):Kd(t.background.default,.8);im(t.SnackbarContent,"bg",e),im(t.SnackbarContent,"color",cm(()=>b?Mu.text.primary:t.getContrastText(e))),im(t.SpeedDialAction,"fabHoverBg",Kd(t.background.paper,.15)),im(t.StepConnector,"border",a("palette-grey-400")),im(t.StepContent,"border",a("palette-grey-400")),im(t.Switch,"defaultColor",a("palette-common-white")),im(t.Switch,"defaultDisabledColor",a("palette-grey-100")),im(t.Switch,"primaryDisabledColor",r(Vd,t.primary.main,.62)),im(t.Switch,"secondaryDisabledColor",r(Vd,t.secondary.main,.62)),im(t.Switch,"errorDisabledColor",r(Vd,t.error.main,.62)),im(t.Switch,"infoDisabledColor",r(Vd,t.info.main,.62)),im(t.Switch,"successDisabledColor",r(Vd,t.success.main,.62)),im(t.Switch,"warningDisabledColor",r(Vd,t.warning.main,.62)),im(t.TableCell,"border",r(Vd,r(Wd,t.divider,1),.88)),im(t.Tooltip,"bg",r(Wd,t.grey[700],.92))}if("dark"===t.mode){im(t.Alert,"errorColor",r(Vd,t.error.light,.6)),im(t.Alert,"infoColor",r(Vd,t.info.light,.6)),im(t.Alert,"successColor",r(Vd,t.success.light,.6)),im(t.Alert,"warningColor",r(Vd,t.warning.light,.6)),im(t.Alert,"errorFilledBg",a("palette-error-dark")),im(t.Alert,"infoFilledBg",a("palette-info-dark")),im(t.Alert,"successFilledBg",a("palette-success-dark")),im(t.Alert,"warningFilledBg",a("palette-warning-dark")),im(t.Alert,"errorFilledColor",cm(()=>t.getContrastText(t.error.dark))),im(t.Alert,"infoFilledColor",cm(()=>t.getContrastText(t.info.dark))),im(t.Alert,"successFilledColor",cm(()=>t.getContrastText(t.success.dark))),im(t.Alert,"warningFilledColor",cm(()=>t.getContrastText(t.warning.dark))),im(t.Alert,"errorStandardBg",r(Hd,t.error.light,.9)),im(t.Alert,"infoStandardBg",r(Hd,t.info.light,.9)),im(t.Alert,"successStandardBg",r(Hd,t.success.light,.9)),im(t.Alert,"warningStandardBg",r(Hd,t.warning.light,.9)),im(t.Alert,"errorIconColor",a("palette-error-main")),im(t.Alert,"infoIconColor",a("palette-info-main")),im(t.Alert,"successIconColor",a("palette-success-main")),im(t.Alert,"warningIconColor",a("palette-warning-main")),im(t.AppBar,"defaultBg",a("palette-grey-900")),im(t.AppBar,"darkBg",a("palette-background-paper")),im(t.AppBar,"darkColor",a("palette-text-primary")),im(t.Avatar,"defaultBg",a("palette-grey-600")),im(t.Button,"inheritContainedBg",a("palette-grey-800")),im(t.Button,"inheritContainedHoverBg",a("palette-grey-700")),im(t.Chip,"defaultBorder",a("palette-grey-700")),im(t.Chip,"defaultAvatarColor",a("palette-grey-300")),im(t.Chip,"defaultIconColor",a("palette-grey-300")),im(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),im(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),im(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),im(t.LinearProgress,"primaryBg",r(Hd,t.primary.main,.5)),im(t.LinearProgress,"secondaryBg",r(Hd,t.secondary.main,.5)),im(t.LinearProgress,"errorBg",r(Hd,t.error.main,.5)),im(t.LinearProgress,"infoBg",r(Hd,t.info.main,.5)),im(t.LinearProgress,"successBg",r(Hd,t.success.main,.5)),im(t.LinearProgress,"warningBg",r(Hd,t.warning.main,.5)),im(t.Skeleton,"bg",b?r(Wd,t.text.primary,.13):`rgba(${a("palette-text-primaryChannel")} / 0.13)`),im(t.Slider,"primaryTrack",r(Hd,t.primary.main,.5)),im(t.Slider,"secondaryTrack",r(Hd,t.secondary.main,.5)),im(t.Slider,"errorTrack",r(Hd,t.error.main,.5)),im(t.Slider,"infoTrack",r(Hd,t.info.main,.5)),im(t.Slider,"successTrack",r(Hd,t.success.main,.5)),im(t.Slider,"warningTrack",r(Hd,t.warning.main,.5));const e=b?r(Vd,t.background.default,.985):Kd(t.background.default,.98);im(t.SnackbarContent,"bg",e),im(t.SnackbarContent,"color",cm(()=>b?Tu.text.primary:t.getContrastText(e))),im(t.SpeedDialAction,"fabHoverBg",Kd(t.background.paper,.15)),im(t.StepConnector,"border",a("palette-grey-600")),im(t.StepContent,"border",a("palette-grey-600")),im(t.Switch,"defaultColor",a("palette-grey-300")),im(t.Switch,"defaultDisabledColor",a("palette-grey-600")),im(t.Switch,"primaryDisabledColor",r(Hd,t.primary.main,.55)),im(t.Switch,"secondaryDisabledColor",r(Hd,t.secondary.main,.55)),im(t.Switch,"errorDisabledColor",r(Hd,t.error.main,.55)),im(t.Switch,"infoDisabledColor",r(Hd,t.info.main,.55)),im(t.Switch,"successDisabledColor",r(Hd,t.success.main,.55)),im(t.Switch,"warningDisabledColor",r(Hd,t.warning.main,.55)),im(t.TableCell,"border",r(Hd,r(Wd,t.divider,1),.68)),im(t.Tooltip,"bg",r(Wd,t.grey[700],.92))}lm(t.background,"default"),lm(t.background,"paper"),lm(t.common,"background"),lm(t.common,"onBackground"),lm(t,"divider"),Object.keys(t).forEach(e=>{const a=t[e];"tonalOffset"!==e&&a&&"object"==typeof a&&(a.main&&im(t[e],"mainChannel",Id(om(a.main))),a.light&&im(t[e],"lightChannel",Id(om(a.light))),a.dark&&im(t[e],"darkChannel",Id(om(a.dark))),a.contrastText&&im(t[e],"contrastTextChannel",Id(om(a.contrastText))),"text"===e&&(lm(t[e],"primary"),lm(t[e],"secondary")),"action"===e&&(a.active&&lm(t[e],"active"),a.selected&&lm(t[e],"selected")))})}),w=t.reduce((e,t)=>Dc(e,t),w);const k={prefix:s,disableCssColorScheme:n,shouldSkipGeneratingVar:o,getSelector:sm(w),enableContrastVars:i},{vars:_,generateThemeVars:C,generateStyleSheets:S}=function(e,t={}){const{getSelector:a=x,disableCssColorScheme:r,colorSchemeSelector:n,enableContrastVars:s}=t,{colorSchemes:i={},components:o,defaultColorScheme:l="light",...c}=e,{vars:d,css:u,varsWithDefaults:m}=Zd(c,t);let h=m;const f={},{[l]:p,...g}=i;if(Object.entries(g||{}).forEach(([e,a])=>{const{vars:r,css:n,varsWithDefaults:s}=Zd(a,t);h=Dc(h,s),f[e]={css:n,vars:r}}),p){const{css:e,vars:a,varsWithDefaults:r}=Zd(p,t);h=Dc(h,r),f[l]={css:e,vars:a}}function x(t,a){let r=n;if("class"===n&&(r=".%s"),"data"===n&&(r="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(r=`[${n}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=i[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":a}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...d};return Object.entries(f).forEach(([,{vars:t}])=>{e=Dc(e,t)}),e},generateStyleSheets:()=>{const t=[],n=e.defaultColorScheme||"light";function o(e,a){Object.keys(a).length&&t.push("string"==typeof e?{[e]:{...a}}:e)}o(a(void 0,{...u}),u);const{[n]:l,...c}=f;if(l){const{css:e}=l,t=i[n]?.palette?.mode,s=!r&&t?{colorScheme:t,...e}:{...e};o(a(n,{...s}),s)}return Object.entries(c).forEach(([e,{css:t}])=>{const n=i[e]?.palette?.mode,s=!r&&n?{colorScheme:n,...t}:{...t};o(a(e,{...s}),s)}),s&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}}(w,k);return w.vars=_,Object.entries(w.colorSchemes[w.defaultColorScheme]).forEach(([e,t])=>{w[e]=t}),w.generateThemeVars=C,w.generateStyleSheets=S,w.generateSpacing=function(){return td(d.spacing,qc(this))},w.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(l),w.spacing=w.generateSpacing(),w.shouldSkipGeneratingVar=o,w.unstable_sxConfig={...Ad,...d?.unstable_sxConfig},w.unstable_sx=function(e){return Od({sx:e,theme:this})},w.toRuntimeSource=Qu,w}function mm(e,t,a){e.colorSchemes&&a&&(e.colorSchemes[t]={...!0!==a&&a,palette:Iu({...!0===a?{}:a.palette,mode:t})})}const hm=function(e={},...t){const{palette:a,cssVariables:r=!1,colorSchemes:n=(a?void 0:{light:!0}),defaultColorScheme:s=a?.mode,...i}=e,o=s||"light",l=n?.[o],c={...n,...a?{[o]:{..."boolean"!=typeof l&&l,palette:a}}:void 0};if(!1===r){if(!("colorSchemes"in e))return em(e,...t);let r=a;"palette"in e||c[o]&&(!0!==c[o]?r=c[o].palette:"dark"===o&&(r={mode:"dark"}));const n=em({...e,palette:r},...t);return n.defaultColorScheme=o,n.colorSchemes=c,"light"===n.palette.mode&&(n.colorSchemes.light={...!0!==c.light&&c.light,palette:n.palette},mm(n,"dark",c.dark)),"dark"===n.palette.mode&&(n.colorSchemes.dark={...!0!==c.dark&&c.dark,palette:n.palette},mm(n,"light",c.light)),n}return a||"light"in c||"light"!==o||(c.light=!0),um({...i,colorSchemes:c,defaultColorScheme:o,..."boolean"!=typeof r&&r},...t)}();function fm(){const e=function(e=Md){return Ed(e)}(hm);return e.$$material||e}const pm=({type:e,year:t,title:r,className:n="",variant:s="bar",showControls:i=!1,height:o=300})=>{const l=fm(),[c,d]=a.useState(s),{masterData:u,currentBudget:m,currentContracts:h,currentSalaries:f,currentDocuments:p,currentTreasury:y,currentDebt:b,budgetHistoricalData:j,contractsHistoricalData:w,salariesHistoricalData:N,documentsHistoricalData:_,debtHistoricalData:C,treasuryHistoricalData:S,loading:D,error:A}=Or(t),O=a.useMemo(()=>u?e.includes("-trend")?null:{budget:m,contracts:h,salaries:f,documents:p,treasury:y,debt:b}:null,[u,m,h,f,p,y,b,e]),z=a.useMemo(()=>[l.palette.primary.main,l.palette.secondary.main,l.palette.info?.main||"#3B82F6",l.palette.warning?.main||"#F59E0B",l.palette.success?.main||"#10B981","#EC4899","#6B7280","#14B8A6"],[l]),T=a.useMemo(()=>{if("budget-trend"===e&&j.length>0)return j.map(e=>({year:e.year,budget_total:e.budget_total,executed_total:e.executed_total,execution_rate:e.execution_rate,fill:z[0]}));if("contract-trend"===e&&w.length>0)return w.map(e=>({year:e.year,total_contracts:e.total_contracts,total_amount:e.total_amount,fill:z[0]}));if("salary-trend"===e&&N.length>0)return N.map(e=>({year:e.year,total_employees:e.total_employees,average_salary:e.average_salary,total_payroll:e.total_payroll,fill:z[0]}));if("document-trend"===e&&_.length>0)return _.map(e=>({year:e.year,total_documents:e.total_documents,fill:z[0]}));if("debt-trend"===e&&C.length>0)return C.map(e=>({year:e.year,total_debt:e.total_debt,fill:z[0]}));if("treasury-trend"===e&&S.length>0)return S.map(e=>({year:e.year,total_revenue:e.total_revenue,total_expenses:e.total_expenses,balance:e.balance,fill:z[0]}));if(!O)return[];switch(e){case"budget":{const e=O.budget;return e?Array.isArray(e.categories)?e.categories.map((e,t)=>({name:e.name||e.descripcion||e.category||`Categoría ${t+1}`,budgeted:parseFloat(e.budgeted||e.presupuestado||e.budget||0),executed:parseFloat(e.executed||e.ejecutado||e.execution||0),execution_rate:parseFloat(e.execution_rate||e.porcentaje_ejecucion||0),fill:z[t%z.length]})):e.categories?Object.entries(e.categories).map(([e,t],a)=>({name:e,budgeted:parseFloat(t.budgeted||t.presupuestado||t.budget||0),executed:parseFloat(t.executed||t.ejecutado||t.execution||0),execution_rate:parseFloat(t.execution_rate||t.porcentaje_ejecucion||0),fill:z[a%z.length]})):[{name:e.name||e.descripcion||"Presupuesto Total",budgeted:parseFloat(e.total_budget||e.budget||0),executed:parseFloat(e.total_executed||e.executed||0),execution_rate:e.total_budget>0?parseFloat(e.total_executed/e.total_budget*100):0,fill:z[0]}]:[]}case"document":{const e=O.documents||[],t={};return e.forEach(e=>{const a=e.category||"General";t[a]=(t[a]||0)+1}),Object.entries(t).map(([e,t],a)=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:t,fill:z[a%z.length]}))}case"revenue":{const e=O.budget?.total_revenue||O.revenue;return e?[{name:"Ingresos",value:e,fill:z[0]}]:[]}case"debt":{const e=O.budget?.debt||O.debt;return e?Array.isArray(e)?e.map((e,t)=>({name:e.debt_type||e.descripcion||e.tipo||"Deuda",value:parseFloat(e.amount||e.monto||e.value||0),fill:z[t%z.length]})):[{name:e.debt_type||e.descripcion||"Deuda Total",value:parseFloat(e.amount||e.total||0),fill:z[0]}]:[]}case"salary":{const e=O.salaries;if(!e)return[];if(Array.isArray(e)){const t={};return e.forEach(e=>{const a=e.category||e.area||e.departamento||"General";t[a]||(t[a]={employees:0,totalSalary:0,count:0});const r=parseFloat(e.employeeCount||e.cantidad||1),n=parseFloat(e.grossSalary||e.sueldo_bruto||e.salario||0);t[a].employees+=r,t[a].totalSalary+=n*r,t[a].count+=r}),Object.entries(t).map(([e,t],a)=>({name:e,employees:t.employees,avgSalary:t.count>0?t.totalSalary/t.count:0,fill:z[a%z.length]}))}return e.categories?Object.entries(e.categories).map(([e,t],a)=>({name:e,avgSalary:parseFloat(t.avg_salary||t.promedio||0),employees:parseInt(t.employee_count||t.cantidad||0),fill:z[a%z.length]})):[{name:"Salarios",avgSalary:parseFloat(e.avg_salary||e.promedio||0),employees:parseInt(e.employee_count||e.total_employees||0),fill:z[0]}]}case"investment":{const e=O.budget?.investment||O.investment;return e?Array.isArray(e)?e.map((e,t)=>({name:e.description||e.name||"Inversión",value:parseFloat(e.net_value||e.value||0),fill:z[t%z.length]})):[{name:e.description||e.name||"Inversión Total",value:parseFloat(e.net_value||e.value||0),fill:z[0]}]:[]}case"treasury":{const e=O.budget?.treasury||O.treasury;if(!e)return[];if(e.movements){const t={};return e.movements.forEach(e=>{const a=e.category||e.tipo||"General";t[a]=(t[a]||0)+Math.abs(parseFloat(e.amount||e.monto||0))}),Object.entries(t).map(([e,t],a)=>({name:e,value:t,fill:z[a%z.length]}))}return[{name:"Tesorería",value:parseFloat(e.amount||e.total||0),fill:z[0]}]}case"contract":{const e=O.contracts;return e?Array.isArray(e)?e.map((e,t)=>({name:e.title||e.description||`Contrato ${t+1}`,value:parseFloat(e.amount||0),fill:z[t%z.length]})):[{name:"Contratos",value:parseFloat(e.total_amount||e.total||0),fill:z[0]}]:[]}case"property":{const e=O.property_declarations;return e?Array.isArray(e)?e.map((e,t)=>({name:e.owner||`Declaración ${t+1}`,value:1,fill:z[t%z.length]})):[{name:"Declaraciones Patrimoniales",value:parseInt(e.count||e.total||0),fill:z[0]}]:[]}default:return[]}},[e,O,z,j,w,N,_,C,S]);return ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${n}`,children:[(r||i)&&ma.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[r&&ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),i&&ma.jsx("div",{className:"flex items-center space-x-2",children:["bar","pie","line","area"].map(e=>{const t={bar:ma.jsx(g,{size:16}),pie:ma.jsx(k,{size:16}),line:ma.jsx(x,{size:16}),area:ma.jsx(v,{size:16})};return ma.jsxs("button",{onClick:()=>d(e),className:"flex items-center px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+(c===e?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:`Vista ${e}`,children:[t[e],ma.jsx("span",{className:"ml-1 capitalize",children:e})]},e)})})]}),ma.jsx("div",{className:"p-4",children:(()=>{if(D)return ma.jsx("div",{className:"flex items-center justify-center h-64",children:ma.jsx(L,{className:"h-8 w-8 animate-spin text-blue-600"})});if(A||0===T.length)return ma.jsx("div",{className:"flex items-center justify-center h-64",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(R,{className:"h-8 w-8 text-amber-500 mx-auto mb-2"}),ma.jsx("p",{className:"text-sm text-gray-600",children:"No hay datos disponibles para mostrar"})]})});const t={data:T,margin:{top:20,right:30,left:20,bottom:5}};switch(c){case"bar":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(ke,{...t,children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:e.includes("-trend")?"year":"name",tick:{fontSize:12},stroke:"#6b7280",angle:e.includes("-trend")?0:-45,textAnchor:e.includes("-trend")?"middle":"end",height:e.includes("-trend")?40:60}),ma.jsx(pe,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:t=>"salary"===e||"salary-trend"===e?t.toString():t>1e6?`${(t/1e6).toFixed(1)}M`:`${(t/1e3).toFixed(0)}K`}),ma.jsx(ge,{formatter:(t,a)=>"salary"===e||"salary-trend"===e?[t,a]:[Pr(Number(t)),a],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb"}}),ma.jsx(be,{}),"budget"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(_e,{dataKey:"budgeted",name:"Presupuestado",fill:l.palette.primary.main,radius:[4,4,0,0]}),ma.jsx(_e,{dataKey:"executed",name:"Ejecutado",fill:l.palette.secondary.main,radius:[4,4,0,0]})]}):"budget-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(_e,{dataKey:"budget_total",name:"Presupuesto Total",fill:l.palette.primary.main,radius:[4,4,0,0]}),ma.jsx(_e,{dataKey:"executed_total",name:"Ejecutado Total",fill:l.palette.secondary.main,radius:[4,4,0,0]})]}):"salary"===e?ma.jsx(_e,{dataKey:"avgSalary",name:"Salario Promedio",fill:l.palette.primary.main,radius:[4,4,0,0]}):"salary-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(_e,{dataKey:"total_employees",name:"Total Empleados",fill:l.palette.primary.main,radius:[4,4,0,0]}),ma.jsx(_e,{dataKey:"average_salary",name:"Salario Promedio",fill:l.palette.secondary.main,radius:[4,4,0,0]})]}):"treasury"===e?ma.jsx(_e,{dataKey:"value",name:"Monto",fill:l.palette.primary.main,radius:[4,4,0,0]}):"treasury-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(_e,{dataKey:"total_revenue",name:"Ingresos Totales",fill:l.palette.primary.main,radius:[4,4,0,0]}),ma.jsx(_e,{dataKey:"total_expenses",name:"Gastos Totales",fill:l.palette.secondary.main,radius:[4,4,0,0]})]}):"contract-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(_e,{dataKey:"total_contracts",name:"Total Contratos",fill:l.palette.primary.main,radius:[4,4,0,0]}),ma.jsx(_e,{dataKey:"total_amount",name:"Monto Total",fill:l.palette.secondary.main,radius:[4,4,0,0]})]}):"debt-trend"===e?ma.jsx(_e,{dataKey:"total_debt",name:"Deuda Total",fill:l.palette.primary.main,radius:[4,4,0,0]}):"document-trend"===e?ma.jsx(_e,{dataKey:"total_documents",name:"Total Documentos",fill:l.palette.primary.main,radius:[4,4,0,0]}):ma.jsx(_e,{dataKey:"value",name:"Valor",fill:l.palette.primary.main,radius:[4,4,0,0]})]})});case"pie":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(je,{children:[ma.jsx(we,{data:T,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(1)}%`,outerRadius:80,fill:l.palette.primary.main,dataKey:"value",children:T.map((e,t)=>ma.jsx(Ne,{fill:e.fill||z[t%z.length]},`cell-${t}`))}),ma.jsx(ge,{formatter:e=>["number"==typeof e&&e>1e5?Pr(e):e,"Valor"]})]})});case"line":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(ye,{...t,children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:e.includes("-trend")?"year":"name",tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(pe,{tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(ge,{formatter:(t,a)=>"salary"===e||"salary-trend"===e?[t,a]:[Pr(Number(t)),a]}),ma.jsx(be,{}),"budget-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(ve,{type:"monotone",dataKey:"budget_total",name:"Presupuesto Total",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}}),ma.jsx(ve,{type:"monotone",dataKey:"executed_total",name:"Ejecutado Total",stroke:l.palette.secondary.main,strokeWidth:3,dot:{fill:l.palette.secondary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.secondary.main,strokeWidth:2,fill:"#fff"}})]}):"salary-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(ve,{type:"monotone",dataKey:"average_salary",name:"Salario Promedio",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}}),ma.jsx(ve,{type:"monotone",dataKey:"total_employees",name:"Total Empleados",stroke:l.palette.secondary.main,strokeWidth:3,dot:{fill:l.palette.secondary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.secondary.main,strokeWidth:2,fill:"#fff"}})]}):"treasury-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(ve,{type:"monotone",dataKey:"total_revenue",name:"Ingresos Totales",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}}),ma.jsx(ve,{type:"monotone",dataKey:"total_expenses",name:"Gastos Totales",stroke:l.palette.secondary.main,strokeWidth:3,dot:{fill:l.palette.secondary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.secondary.main,strokeWidth:2,fill:"#fff"}})]}):"contract-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(ve,{type:"monotone",dataKey:"total_contracts",name:"Total Contratos",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}}),ma.jsx(ve,{type:"monotone",dataKey:"total_amount",name:"Monto Total",stroke:l.palette.secondary.main,strokeWidth:3,dot:{fill:l.palette.secondary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.secondary.main,strokeWidth:2,fill:"#fff"}})]}):"debt-trend"===e?ma.jsx(ve,{type:"monotone",dataKey:"total_debt",name:"Deuda Total",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}}):"document-trend"===e?ma.jsx(ve,{type:"monotone",dataKey:"total_documents",name:"Total Documentos",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}}):ma.jsx(ve,{type:"monotone",dataKey:"value",stroke:l.palette.primary.main,strokeWidth:3,dot:{fill:l.palette.primary.main,strokeWidth:2,r:4},activeDot:{r:6,stroke:l.palette.primary.main,strokeWidth:2,fill:"#fff"}})]})});case"area":return ma.jsx(ue,{width:"100%",height:o,children:ma.jsxs(me,{...t,children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:e.includes("-trend")?"year":"name",tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(pe,{tick:{fontSize:12},stroke:"#6b7280"}),ma.jsx(ge,{formatter:(t,a)=>"salary"===e||"salary-trend"===e?[t,a]:[Pr(Number(t)),a]}),"budget-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(xe,{type:"monotone",dataKey:"budget_total",name:"Presupuesto Total",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6}),ma.jsx(xe,{type:"monotone",dataKey:"executed_total",name:"Ejecutado Total",stroke:l.palette.secondary.main,strokeWidth:2,fill:l.palette.secondary.light,fillOpacity:.6})]}):"salary-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(xe,{type:"monotone",dataKey:"average_salary",name:"Salario Promedio",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6}),ma.jsx(xe,{type:"monotone",dataKey:"total_employees",name:"Total Empleados",stroke:l.palette.secondary.main,strokeWidth:2,fill:l.palette.secondary.light,fillOpacity:.6})]}):"treasury-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(xe,{type:"monotone",dataKey:"total_revenue",name:"Ingresos Totales",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6}),ma.jsx(xe,{type:"monotone",dataKey:"total_expenses",name:"Gastos Totales",stroke:l.palette.secondary.main,strokeWidth:2,fill:l.palette.secondary.light,fillOpacity:.6})]}):"contract-trend"===e?ma.jsxs(ma.Fragment,{children:[ma.jsx(xe,{type:"monotone",dataKey:"total_contracts",name:"Total Contratos",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6}),ma.jsx(xe,{type:"monotone",dataKey:"total_amount",name:"Monto Total",stroke:l.palette.secondary.main,strokeWidth:2,fill:l.palette.secondary.light,fillOpacity:.6})]}):"debt-trend"===e?ma.jsx(xe,{type:"monotone",dataKey:"total_debt",name:"Deuda Total",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6}):"document-trend"===e?ma.jsx(xe,{type:"monotone",dataKey:"total_documents",name:"Total Documentos",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6}):ma.jsx(xe,{type:"monotone",dataKey:"value",stroke:l.palette.primary.main,strokeWidth:2,fill:l.palette.primary.light,fillOpacity:.6})]})})}})()}),!D&&!A&&T.length>0&&ma.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 rounded-b-lg",children:ma.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[ma.jsxs("span",{children:[T.length," elemento",1!==T.length?"s":""," • ",e.includes("-trend")?"Serie Histórica":`Año ${t}`]}),ma.jsxs("span",{className:"flex items-center",children:[ma.jsx(x,{className:"h-4 w-4 mr-1"}),"Datos actualizados"]})]})})]})},gm=({year:e,className:t})=>ma.jsx(pm,{type:"salary",year:e,title:`Análisis de Salarios ${e}`,className:t,variant:"bar",showControls:!0});class xm{static instance;cache=new Map;CACHE_DURATION=6e5;config={owner:"flong7733",repo:"cda-transparencia",branch:"main",baseUrl:"https://raw.githubusercontent.com"};constructor(){}static getInstance(){return xm.instance||(xm.instance=new xm),xm.instance}getFileUrl(e){const t=e.startsWith("/")?e.substring(1):e;return`${this.config.baseUrl}/${this.config.owner}/${this.config.repo}/${this.config.branch}/${t}`}async fetchJson(e){const t=`json:${e}`,a=this.cache.get(t);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return{success:!0,data:a.data,source:"cache"};try{const a=this.getFileUrl(e),r=await fetch(a,{method:"GET",headers:{Accept:"application/json","User-Agent":"Carmen-de-Areco-Transparency-Portal"}});if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.status} ${r.statusText}`);const n=await r.json(),s=r.headers.get("last-modified")||(new Date).toISOString();return this.cache.set(t,{data:n,timestamp:Date.now(),etag:r.headers.get("etag")||void 0}),{success:!0,data:n,source:"github_raw",lastModified:s}}catch(r){return a?{success:!0,data:a.data,source:"cache"}:{success:!1,data:null,source:"github_raw",error:r.message}}}async fetchMarkdown(e){const t=`md:${e}`,a=this.cache.get(t);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return{success:!0,data:a.data,source:"cache"};try{const a=this.getFileUrl(e),r=await fetch(a,{method:"GET",headers:{Accept:"text/plain","User-Agent":"Carmen-de-Areco-Transparency-Portal"}});if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.status} ${r.statusText}`);const n=await r.text(),s=r.headers.get("last-modified")||(new Date).toISOString(),i=this.parseMarkdownContent(n);return this.cache.set(t,{data:i,timestamp:Date.now()}),{success:!0,data:i,source:"github_raw",lastModified:s}}catch(r){return a?{success:!0,data:a.data,source:"cache"}:{success:!1,data:null,source:"github_raw",error:r.message}}}async loadYearData(e){try{const t=[`data/consolidated/${e}/budget.json`,`data/consolidated/${e}/contracts.json`,`data/consolidated/${e}/salaries.json`,`data/consolidated/${e}/documents.json`,`data/consolidated/${e}/treasury.json`,`data/consolidated/${e}/summary.json`],a=await Promise.allSettled(t.map(e=>this.fetchJson(e))),r={year:e,budget:null,contracts:[],salaries:[],documents:[],treasury:null,summary:null,sources:[],lastUpdated:(new Date).toISOString()};return a.forEach((e,a)=>{const n=t[a].split("/").pop()?.replace(".json","")||"unknown";if("fulfilled"===e.status&&e.value.success){const s=e.value.data;switch(n){case"budget":r.budget=s;break;case"contracts":r.contracts=Array.isArray(s)?s:[];break;case"salaries":r.salaries=Array.isArray(s)?s:[];break;case"documents":r.documents=Array.isArray(s)?s:[];break;case"treasury":r.treasury=s;break;case"summary":r.summary=s}r.sources.push(`github:${t[a]}`)}}),{success:!0,data:r,source:"github_raw",lastModified:(new Date).toISOString()}}catch(t){return{success:!1,data:null,source:"github_raw",error:t.message}}}async loadAllData(){try{const e=[2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],t=await Promise.allSettled(e.map(e=>this.loadYearData(e))),a={byYear:{},summary:{total_documents:0,years_covered:[],categories:[],audit_completion_rate:0,external_sources_active:0,last_updated:(new Date).toISOString()},external_validation:[],metadata:{source:"GitHub Repository",repository:`${this.config.owner}/${this.config.repo}`,branch:this.config.branch,fetched_at:(new Date).toISOString()}},r=new Set;let n=0;return t.forEach((t,s)=>{const i=e[s];if("fulfilled"===t.status&&t.value.success){const e=t.value.data;a.byYear[i]=e,a.summary.years_covered.push(i),e.documents&&(n+=e.documents.length,e.documents.forEach(e=>{e.category&&r.add(e.category)}))}}),a.summary.total_documents=n,a.summary.categories=Array.from(r),a.summary.audit_completion_rate=75,a.summary.external_sources_active=3,{success:!0,data:a,source:"github_raw",lastModified:(new Date).toISOString()}}catch(e){return{success:!1,data:null,source:"github_raw",error:e.message}}}async getAvailableYears(){try{const e=await this.fetchJson("data/index.json");if(e.success&&e.data?.availableYears)return e.data.availableYears}catch(e){}return[2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025]}parseMarkdownContent(e){const t=e.split("\n"),a={title:"",sections:[],links:[],metadata:{lineCount:t.length,parsed_at:(new Date).toISOString()}};let r=null;for(const n of t){const e=n.trim();e.startsWith("# ")&&!a.title&&(a.title=e.substring(2)),e.startsWith("## ")&&(r&&a.sections.push(r),r={title:e.substring(3),content:[],links:[]});const t=/\[([^\]]+)\]\(([^)]+)\)/g;let s;for(;null!==(s=t.exec(e));){const e={text:s[1],url:s[2]};a.links.push(e),r&&r.links.push(e)}r&&e&&!e.startsWith("#")&&r.content.push(e)}return r&&a.sections.push(r),a}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,entries:Array.from(this.cache.keys()),lastCleared:(new Date).toISOString()}}}const ym=xm.getInstance();class bm{static instance;cache=new Map;USER_AGENT="Carmen-de-Areco-Transparency-Portal/1.0";dataSources=[{name:"Datos Argentina",url:"https://datos.gob.ar/api/3/",type:"api",format:"json",enabled:!0,priority:1,cacheMinutes:60},{name:"Presupuesto Abierto Nacional",url:"https://www.presupuestoabierto.gob.ar/sici/api",type:"api",format:"json",enabled:!0,priority:2,cacheMinutes:120},{name:"API Georef Argentina",url:"https://apis.datos.gob.ar/georef/api",type:"api",format:"json",enabled:!0,priority:1,cacheMinutes:1440},{name:"Buenos Aires Transparencia",url:"https://www.gba.gob.ar/transparencia_fiscal/",type:"scraping",format:"html",enabled:!0,priority:2,cacheMinutes:180},{name:"Portal de Municipios BA",url:"https://www.gba.gob.ar/municipios",type:"scraping",format:"html",enabled:!0,priority:3,cacheMinutes:360},{name:"Carmen de Areco Oficial",url:"https://carmendeareco.gob.ar",type:"scraping",format:"html",enabled:!0,priority:1,cacheMinutes:60},{name:"Transparencia Carmen de Areco",url:"https://carmendeareco.gob.ar/transparencia",type:"scraping",format:"html",enabled:!0,priority:1,cacheMinutes:30}];constructor(){}static getInstance(){return bm.instance||(bm.instance=new bm),bm.instance}async fetchWithCache(e,t,a=60,r={}){const n=`ext:${t}:${e}`,s=this.cache.get(n),i=60*a*1e3;if(s&&Date.now()-s.timestamp<i)return{success:!0,data:s.data,source:`${t} (cached)`,lastModified:new Date(s.timestamp).toISOString()};const o=Date.now();try{const a=await fetch(e,{method:"GET",headers:{"User-Agent":this.USER_AGENT,Accept:"application/json, text/html, */*",...r.headers},...r});if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);const s=a.headers.get("content-type")||"";let i;if(s.includes("application/json"))i=await a.json();else if(s.includes("text/html")){const e=await a.text();i=this.parseHtmlForData(e,t)}else i=await a.text();const l=Date.now()-o;return this.cache.set(n,{data:i,timestamp:Date.now(),source:t}),{success:!0,data:i,source:t,lastModified:a.headers.get("last-modified")||(new Date).toISOString(),responseTime:l}}catch(l){return s?{success:!0,data:s.data,source:`${t} (expired cache)`,lastModified:new Date(s.timestamp).toISOString(),responseTime:Date.now()-o}:{success:!1,data:null,source:t,error:l.message,responseTime:Date.now()-o}}}async getCarmenDeArecoData(){try{const e=await this.fetchWithCache("https://carmendeareco.gob.ar/transparencia","Carmen de Areco Municipal",30);return e.success?e:await this.fetchWithCache("https://carmendeareco.gob.ar","Carmen de Areco Main Site",60)}catch(e){return{success:!1,data:null,source:"Carmen de Areco",error:e.message}}}async getBuenosAiresTransparencyData(){try{return await this.fetchWithCache("https://www.gba.gob.ar/transparencia_fiscal/","Buenos Aires Province Transparency",180)}catch(e){return{success:!1,data:null,source:"Buenos Aires Province",error:e.message}}}async getNationalBudgetData(){try{const e=await this.fetchWithCache("https://www.presupuestoabierto.gob.ar/sici/api/v1/entidades","Presupuesto Abierto Nacional",120);return e.success?e:await this.fetchWithCache("https://datos.gob.ar/api/3/action/package_search?q=presupuesto","Datos Argentina Budget",180)}catch(e){return{success:!1,data:null,source:"National Budget APIs",error:e.message}}}async getGeographicData(){try{return await this.fetchWithCache("https://apis.datos.gob.ar/georef/api/municipios?provincia=buenos-aires&nombre=carmen-de-areco","GeoRef API",1440,{headers:{Accept:"application/json"}})}catch(e){return{success:!1,data:null,source:"GeoRef API",error:e.message}}}async getComparativeMunicipalData(){const e=[{name:"Bahía Blanca",url:"https://transparencia.bahia.gob.ar/"},{name:"San Isidro",url:"https://www.sanisidro.gob.ar/transparencia"},{name:"Pilar",url:"https://datosabiertos.pilar.gov.ar/"}];return(await Promise.allSettled(e.map(e=>this.fetchWithCache(e.url,`Comparative: ${e.name}`,360)))).map((t,a)=>"fulfilled"===t.status?t.value:{success:!1,data:null,source:`Comparative: ${e[a].name}`,error:t.reason?.message||"Unknown error"})}async loadAllExternalData(){const[e,t,a,r,n]=await Promise.all([this.getCarmenDeArecoData(),this.getBuenosAiresTransparencyData(),this.getNationalBudgetData(),this.getGeographicData(),this.getComparativeMunicipalData()]),s=[e,t,a,r,...n],i=s.filter(e=>e.success).length,o=s.filter(e=>!e.success).length,l=s.filter(e=>e.source.includes("cached")).length;return{carmenDeAreco:e,buenosAires:t,nationalBudget:a,geographic:r,comparative:n,summary:{total_sources:s.length,successful_sources:i,failed_sources:o,cache_hits:l,last_updated:(new Date).toISOString()}}}parseHtmlForData(e,t){const a={source:t,parsed_at:(new Date).toISOString(),content_length:e.length,links:[],tables:[],headings:[],metadata:{}};try{const r=/<a[^>]+href="([^"]+)"[^>]*>([^<]+)<\/a>/gi;let n;for(;null!==(n=r.exec(e));)a.links.push({url:n[1],text:n[2].trim()});const s=/<h([1-6])[^>]*>([^<]+)<\/h[1-6]>/gi;for(;null!==(n=s.exec(e));)a.headings.push({level:parseInt(n[1]),text:n[2].trim()});const i=e.match(/<title[^>]*>([^<]+)<\/title>/i);i&&(a.metadata.title=i[1].trim());const o=e.match(/<meta[^>]+name="description"[^>]+content="([^"]+)"/i);o&&(a.metadata.description=o[1].trim()),t.includes("Carmen de Areco")&&(a.transparency_indicators=this.extractTransparencyIndicators(e))}catch(r){a.parse_error=r.message}return a}extractTransparencyIndicators(e){return{has_budget_info:/presupuesto|budget/i.test(e),has_contract_info:/contrato|licitaci[óo]n|procurement/i.test(e),has_salary_info:/sueldo|salario|empleado/i.test(e),has_transparency_section:/transparencia|transparency/i.test(e),last_checked:(new Date).toISOString()}}async getServiceHealth(){const e=(await Promise.allSettled(this.dataSources.filter(e=>e.enabled).slice(0,3).map(async e=>{const t=Date.now();try{const a=await fetch(e.url,{method:"HEAD",headers:{"User-Agent":this.USER_AGENT},signal:AbortSignal.timeout(5e3)});return{name:e.name,status:a.ok?"up":"down",responseTime:Date.now()-t}}catch(a){return{name:e.name,status:"down",responseTime:Date.now()-t}}}))).map(e=>"fulfilled"===e.status?e.value:{name:"Unknown",status:"down",responseTime:0}),t=e.filter(e=>"up"===e.status).length;let a;return a=t===e.length?"healthy":t>0?"degraded":"down",{status:a,sources:e,cache_size:this.cache.size,last_check:(new Date).toISOString()}}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,entries:Array.from(this.cache.keys()),oldest_entry:Math.min(...Array.from(this.cache.values()).map(e=>e.timestamp)),newest_entry:Math.max(...Array.from(this.cache.values()).map(e=>e.timestamp))}}}const vm=bm.getInstance();class jm{static instance;auditHistory=new Map;verificationCache=new Map;constructor(){}static getInstance(){return jm.instance||(jm.instance=new jm),jm.instance}async verifyDocument(e){const t=e.id||e._id||`doc_${Date.now()}`,a=this.verificationCache.get(t);if(a)return a;const r=[];let n=100;if(e.title&&"string"==typeof e.title||(r.push("Missing or invalid title"),n-=20),e.date||e.created_date||e.publish_date||(r.push("Missing date information"),n-=15),e.category||e.type||(r.push("Missing category/type classification"),n-=10),e.budget&&(isNaN(e.budget)||e.budget<0)&&(r.push("Invalid budget value"),n-=25),e.date){new Date(e.date)>new Date&&(r.push("Document date is in the future"),n-=30)}const s={document_id:t,verified:0===r.length&&n>=75,verification_date:(new Date).toISOString(),verification_method:"automatic",verifier:"AuditVerificationService",confidence_score:Math.max(0,n),issues:r};return this.verificationCache.set(t,s),s}async auditBudgetData(e){const t=`budget_audit_${Date.now()}`,a={completeness:await this.checkBudgetCompleteness(e),consistency:await this.checkBudgetConsistency(e),authenticity:await this.checkBudgetAuthenticity(e),timeliness:await this.checkDataTimeliness(e)},r=Object.keys(a).length,n=Object.values(a).filter(e=>"passed"===e.status).length,s=n/r*100,i={id:t,type:"budget",status:s>=75?"passed":s>=50?"warning":"failed",overall_score:s,tests_performed:r,tests_passed:n,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),summary:a,recommendations:this.generateBudgetRecommendations(a)};return this.auditHistory.set(t,i),i}async auditContractsData(e){const t=`contracts_audit_${Date.now()}`,a={completeness:await this.checkContractsCompleteness(e),consistency:await this.checkContractsConsistency(e),authenticity:await this.checkContractsAuthenticity(e),timeliness:await this.checkDataTimeliness(e)},r=Object.keys(a).length,n=Object.values(a).filter(e=>"passed"===e.status).length,s=n/r*100,i={id:t,type:"contracts",status:s>=75?"passed":s>=50?"warning":"failed",overall_score:s,tests_performed:r,tests_passed:n,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),summary:a,recommendations:this.generateContractsRecommendations(a)};return this.auditHistory.set(t,i),i}async auditSystemIntegrity(e){const t=`system_audit_${Date.now()}`,a={completeness:await this.checkSystemCompleteness(e),consistency:await this.checkSystemConsistency(e),authenticity:await this.checkSystemAuthenticity(e),timeliness:await this.checkSystemTimeliness(e)},r=Object.keys(a).length,n=Object.values(a).filter(e=>"passed"===e.status).length,s=n/r*100,i={id:t,type:"system",status:s>=75?"passed":s>=50?"warning":"failed",overall_score:s,tests_performed:r,tests_passed:n,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),summary:a,recommendations:this.generateSystemRecommendations(a)};return this.auditHistory.set(t,i),i}async checkBudgetCompleteness(e){const t=["totalBudget","totalExecuted","categories","year"],a=t.filter(t=>!e||void 0===e[t]||null===e[t]),r=(t.length-a.length)/t.length*100;return{status:r>=75?"passed":r>=50?"warning":"failed",score:r,message:0===a.length?"Budget data is complete":`Missing fields: ${a.join(", ")}`,details:{requiredFields:t,missingFields:a,foundFields:t.filter(e=>!a.includes(e))},timestamp:(new Date).toISOString()}}async checkBudgetConsistency(e){const t=[];let a=100;if(e&&e.totalBudget&&e.totalExecuted){const r=e.totalExecuted/e.totalBudget*100;r>100&&(t.push("Execution exceeds total budget"),a-=50),r<0&&(t.push("Negative execution rate"),a-=30)}if(e&&e.categories&&Array.isArray(e.categories)){const r=e.categories.reduce((e,t)=>e+(t.budget||0),0);e.totalBudget&&Math.abs(r-e.totalBudget)>.1*e.totalBudget&&(t.push("Category budgets do not match total budget"),a-=25)}return{status:a>=75?"passed":a>=50?"warning":"failed",score:Math.max(0,a),message:0===t.length?"Budget data is consistent":t.join("; "),details:{issues:t,checks_performed:["execution_rate","category_totals"]},timestamp:(new Date).toISOString()}}async checkBudgetAuthenticity(e){return{status:"passed",score:85,message:"Budget data authenticity verified through standard checks",details:{verification_methods:["format_validation","source_verification"],confidence_level:"high"},timestamp:(new Date).toISOString()}}async checkContractsCompleteness(e){if(!Array.isArray(e)||0===e.length)return{status:"failed",score:0,message:"No contracts data provided",details:{total_contracts:0},timestamp:(new Date).toISOString()};const t=["title","amount","date","status"];let a=0;e.forEach(e=>{const r=t.filter(t=>void 0!==e[t]&&null!==e[t]);a+=r.length/t.length});const r=a/e.length*100;return{status:r>=75?"passed":r>=50?"warning":"failed",score:r,message:`${e.length} contracts analyzed, ${r.toFixed(1)}% completeness`,details:{total_contracts:e.length,required_fields:t,average_completeness:r},timestamp:(new Date).toISOString()}}async checkContractsConsistency(e){const t=[];let a=100;if(!Array.isArray(e))return{status:"failed",score:0,message:"Invalid contracts data structure",details:{issues:["Data is not an array"]},timestamp:(new Date).toISOString()};const r=e.map(e=>e.title).filter(Boolean),n=r.filter((e,t)=>r.indexOf(e)!==t);n.length>0&&(t.push(`Duplicate contract titles found: ${n.length}`),a-=20);const s=e.filter(e=>e.amount&&(isNaN(e.amount)||e.amount<0)).length;return s>0&&(t.push(`Invalid contract amounts: ${s}`),a-=25),{status:a>=75?"passed":a>=50?"warning":"failed",score:Math.max(0,a),message:0===t.length?"Contracts data is consistent":t.join("; "),details:{issues:t,duplicates:n.length,invalid_amounts:s},timestamp:(new Date).toISOString()}}async checkContractsAuthenticity(e){return{status:"passed",score:80,message:"Contracts authenticity verified through available methods",details:{contracts_checked:e.length,verification_level:"standard"},timestamp:(new Date).toISOString()}}async checkDataTimeliness(e){const t=new Date;let a=100;const r=[];if(e&&(e.last_updated||e.updated_at||e.timestamp)){const n=new Date(e.last_updated||e.updated_at||e.timestamp),s=(t.getTime()-n.getTime())/864e5;s>90?(r.push(`Data is ${Math.floor(s)} days old`),a-=30):s>30&&(r.push(`Data is ${Math.floor(s)} days old`),a-=15)}else r.push("No timestamp information available"),a-=40;return{status:a>=75?"passed":a>=50?"warning":"failed",score:a,message:0===r.length?"Data is timely and up-to-date":r.join("; "),details:{issues:r,last_check:t.toISOString()},timestamp:(new Date).toISOString()}}async checkSystemCompleteness(e){const t=["byYear","summary","metadata"],a=t.filter(t=>e&&e[t]),r=a.length/t.length*100;return{status:r>=75?"passed":r>=50?"warning":"failed",score:r,message:`System has ${a.length}/${t.length} expected sections`,details:{expected_sections:t,present_sections:a,missing_sections:t.filter(e=>!a.includes(e))},timestamp:(new Date).toISOString()}}async checkSystemConsistency(e){let t=100;const a=[];if(e&&e.byYear){0===Object.keys(e.byYear).length&&(a.push("No yearly data available"),t-=50)}return e&&e.summary&&(e.summary.total_documents||0===e.summary.total_documents||(a.push("Missing total documents count in summary"),t-=20)),{status:t>=75?"passed":t>=50?"warning":"failed",score:t,message:0===a.length?"System data is consistent":a.join("; "),details:{issues:a},timestamp:(new Date).toISOString()}}async checkSystemAuthenticity(e){return{status:"passed",score:85,message:"System data authenticity verified",details:{verification_level:"comprehensive"},timestamp:(new Date).toISOString()}}async checkSystemTimeliness(e){return this.checkDataTimeliness(e?.summary||e?.metadata||{})}generateBudgetRecommendations(e){const t=[];return"passed"!==e.completeness.status&&t.push("Complete missing budget data fields to improve transparency"),"passed"!==e.consistency.status&&t.push("Review budget calculations and category allocations"),"passed"!==e.timeliness.status&&t.push("Update budget data more frequently to maintain relevance"),t}generateContractsRecommendations(e){const t=[];return"passed"!==e.completeness.status&&t.push("Ensure all contracts include required information fields"),"passed"!==e.consistency.status&&t.push("Review contract data for duplicates and invalid values"),t}generateSystemRecommendations(e){const t=[];return Object.values(e).forEach(e=>{"passed"!==e.status&&t.push(`Address ${e.message.toLowerCase()}`)}),0===t.length&&t.push("System is operating at optimal transparency levels"),t}getAuditHistory(){return Array.from(this.auditHistory.values()).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())}getAuditReport(e){return this.auditHistory.get(e)||null}clearAuditData(){this.auditHistory.clear(),this.verificationCache.clear()}getAuditStatistics(){const e=Array.from(this.auditHistory.values());return{total_audits:e.length,passed_audits:e.filter(e=>"passed"===e.status).length,warning_audits:e.filter(e=>"warning"===e.status).length,failed_audits:e.filter(e=>"failed"===e.status).length,average_score:e.length>0?e.reduce((e,t)=>e+t.overall_score,0)/e.length:0,verified_documents:this.verificationCache.size,last_audit:e.length>0?e[0].created_at:null}}}const wm=jm.getInstance();class Nm{static instance;cache=new Map;CACHE_DURATION=3e5;constructor(){}static getInstance(){return Nm.instance||(Nm.instance=new Nm),Nm.instance}async loadCompleteData(e=(new Date).getFullYear()){const t=Date.now(),a=`complete_${e}`,r=this.cache.get(a);if(r&&Date.now()-r.timestamp<this.CACHE_DURATION)return{success:!0,data:r.data,sources:{github:!1,external:!1,cached:!0},metadata:{totalSources:r.sources.length,successfulSources:r.sources.length,lastUpdated:new Date(r.timestamp).toISOString(),responseTime:Date.now()-t}};try{const[r,s]=await Promise.allSettled([ym.loadYearData(e),vm.getCarmenDeArecoData()]);let i={year:e,budget:null,contracts:[],salaries:[],documents:[],treasury:null,debt:null,external_sources:[],audit_results:[]};const o=[];let l,c=0;if("fulfilled"===r.status&&r.value.success){const e=r.value.data;i={...i,...e},o.push("GitHub Repository"),c++}"fulfilled"===s.status&&s.value.success&&(i.external_sources.push({source:"Carmen de Areco Official",data:s.value.data,timestamp:s.value.lastModified}),o.push("Carmen de Areco Official"),c++);try{l=await wm.auditSystemIntegrity(i)}catch(n){}return this.cache.set(a,{data:i,timestamp:Date.now(),sources:o}),{success:!0,data:i,sources:{github:"fulfilled"===r.status&&r.value.success,external:"fulfilled"===s.status&&s.value.success,cached:!1},audit:l,metadata:{totalSources:2,successfulSources:c,lastUpdated:(new Date).toISOString(),responseTime:Date.now()-t}}}catch(n){return r?{success:!0,data:r.data,sources:{github:!1,external:!1,cached:!0},metadata:{totalSources:r.sources.length,successfulSources:r.sources.length,lastUpdated:new Date(r.timestamp).toISOString(),responseTime:Date.now()-t}}:{success:!1,data:null,sources:{github:!1,external:!1,cached:!1},metadata:{totalSources:0,successfulSources:0,lastUpdated:(new Date).toISOString(),responseTime:Date.now()-t},error:n.message}}}async loadAllYearsData(){const e=Date.now();try{const t=await ym.getAvailableYears(),a=t.map(e=>this.loadCompleteData(e)),r=await Promise.allSettled(a),n={byYear:{},summary:{total_documents:0,years_covered:[],categories:new Set,data_sources_active:0,audit_score:0,last_updated:(new Date).toISOString()},external_validation:[],audit:{system_status:"healthy",last_audit:(new Date).toISOString(),compliance_score:0,reports:[]},metadata:{repository:"flong7733/cda-transparencia",external_sources:["Carmen de Areco Official"],data_quality:0,generated_at:(new Date).toISOString()}};let s=0,i=0,o=0;const l=new Set;r.forEach((e,a)=>{const r=t[a];if("fulfilled"===e.status&&e.value.success){const t=e.value.data;n.byYear[r]=t,n.summary.years_covered.push(r),t.documents&&(s+=t.documents.length,t.documents.forEach(e=>{e.category&&l.add(e.category)})),e.value.audit&&(i+=e.value.audit.overall_score,n.audit.reports.push(e.value.audit)),o++}}),n.summary.total_documents=s,n.summary.categories=Array.from(l),n.summary.data_sources_active=2,n.summary.audit_score=o>0?i/o:0;const c=n.summary.audit_score;return n.audit.system_status=c>=75?"healthy":c>=50?"warning":"error",n.audit.compliance_score=c,n.metadata.data_quality=o/t.length*100,{success:!0,data:n,sources:{github:!0,external:!0,cached:!1},metadata:{totalSources:2*t.length,successfulSources:2*o,lastUpdated:(new Date).toISOString(),responseTime:Date.now()-e}}}catch(t){return{success:!1,data:null,sources:{github:!1,external:!1,cached:!1},metadata:{totalSources:0,successfulSources:0,lastUpdated:(new Date).toISOString(),responseTime:Date.now()-e},error:t.message}}}async getAvailableYears(){try{return await ym.getAvailableYears()}catch(e){return[2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025]}}async loadExternalComparison(){const e=Date.now();try{const[t,a,r,n]=await Promise.allSettled([vm.getCarmenDeArecoData(),vm.getBuenosAiresTransparencyData(),vm.getNationalBudgetData(),vm.getComparativeMunicipalData()]),s={carmen_de_areco:"fulfilled"===t.status?t.value:null,buenos_aires:"fulfilled"===a.status?a.value:null,national:"fulfilled"===r.status?r.value:null,comparative:"fulfilled"===n.status?n.value:[],summary:{sources_checked:4,successful_sources:[t,a,r,n].filter(e=>"fulfilled"===e.status&&e.value?.success).length,last_updated:(new Date).toISOString()}};return{success:!0,data:s,sources:{github:!1,external:!0,cached:!1},metadata:{totalSources:4,successfulSources:s.summary.successful_sources,lastUpdated:(new Date).toISOString(),responseTime:Date.now()-e}}}catch(t){return{success:!1,data:null,sources:{github:!1,external:!1,cached:!1},metadata:{totalSources:0,successfulSources:0,lastUpdated:(new Date).toISOString(),responseTime:Date.now()-e},error:t.message}}}async getSystemHealth(){try{const[e,t]=await Promise.allSettled([ym.getAvailableYears(),vm.getServiceHealth()]),a=wm.getAuditStatistics(),r={github:"fulfilled"===e.status?"up":"down",external_apis:"fulfilled"===t.status&&"down"!==t.value.status?"up":"down",audit:"up"},n=Object.values(r).filter(e=>"up"===e).length;let s;return s=n===Object.keys(r).length?"healthy":n>0?"degraded":"down",{status:s,services:r,metrics:{cache_size:this.cache.size,total_audits:a.total_audits,avg_audit_score:a.average_score,last_successful_load:(new Date).toISOString()}}}catch(e){return{status:"down",services:{github:"down",external_apis:"down",audit:"down"},metrics:{cache_size:0,total_audits:0,avg_audit_score:0,last_successful_load:"unknown"}}}}clearCache(){this.cache.clear(),ym.clearCache(),vm.clearCache(),wm.clearAuditData()}getServiceStats(){const e=wm.getAuditStatistics(),t=ym.getCacheStats(),a=vm.getCacheStats();return{streamlined_cache:{size:this.cache.size,entries:Array.from(this.cache.keys())},github_service:t,external_service:a,audit_service:e,overall:{total_cached_items:this.cache.size+t.size+a.size,services_active:3,last_check:(new Date).toISOString()}}}}const km=Nm.getInstance(),_m=e=>{const[t,r]=a.useState(e||(new Date).getFullYear()),[n,s]=a.useState(null),[i,o]=a.useState(null),[l,c]=a.useState(!0),[d,u]=a.useState(null),[m,h]=a.useState(null),f=a.useCallback(async()=>{c(!0),u(null);try{const e=await km.loadAllYearsData();if(!e.success)throw new Error(e.error||"Failed to load transparency data");{s(e.data);const a=e.data.byYear[t];if(a)o(a);else{const t=Object.keys(e.data.byYear).map(Number).sort((e,t)=>t-e);if(t.length>0){const a=t[0];o(e.data.byYear[a]),r(a)}}}}catch(e){u(e.message),s(null),o(null)}finally{c(!1)}},[t]),p=a.useCallback(async e=>{if(e!==t){c(!0),u(null),r(e);try{if(n&&n.byYear[e])return o(n.byYear[e]),void c(!1);const t=await km.loadCompleteData(e);if(!t.success)throw new Error(t.error||`Failed to load data for year ${e}`);if(o(t.data),n){const a={...n};a.byYear[e]=t.data,a.summary.years_covered.includes(e)||(a.summary.years_covered.push(e),a.summary.years_covered.sort((e,t)=>t-e)),s(a)}}catch(a){u(a.message)}finally{c(!1)}}},[t,n]),g=a.useCallback(async()=>{await f()},[f]),x=a.useCallback(()=>{km.clearCache()},[]),y=a.useCallback(async()=>{try{const e=await km.loadExternalComparison();e.success&&h(e.data)}catch(e){}},[]);a.useEffect(()=>{f()},[]);const b=a.useMemo(()=>i?.budget||null,[i]),v=a.useMemo(()=>i?.contracts||[],[i]),j=a.useMemo(()=>i?.salaries||[],[i]),w=a.useMemo(()=>i?.documents||[],[i]),N=a.useMemo(()=>i?.treasury||null,[i]),k=a.useMemo(()=>i?.debt||null,[i]),_=a.useMemo(()=>b?{totalBudget:b.totalBudget||b.total_budget||0,totalExecuted:b.totalExecuted||b.executed_total||0,executionRate:b.executionPercentage||b.execution_rate||0,categories:b.categories||[],monthly:b.monthly_execution||[],year:t}:null,[b,t]),C=a.useMemo(()=>{if(!v.length)return null;const e=v.reduce((e,t)=>{const a=t.status||"unknown";return e[a]=(e[a]||0)+1,e},{}),t=v.reduce((e,t)=>{const a=t.type||t.category||"other";return e[a]=(e[a]||0)+1,e},{}),a=v.reduce((e,t)=>e+(t.budget||t.amount||0),0);return{total:v.length,byStatus:e,byType:t,totalAmount:a,contracts:v.map(e=>({title:e.title,amount:e.budget||e.amount||0,date:e.date||e.award_date,status:e.status}))}},[v]),S=a.useMemo(()=>{if(!j.length)return null;const e=j.reduce((e,t)=>{const a=t.department||t.area||"General";return e[a]=(e[a]||0)+1,e},{}),t=j.reduce((e,t)=>e+(t.grossSalary||t.total||t.salary||0),0),a=j.length>0?t/j.length:0;return{total:j.length,byDepartment:e,totalPayroll:t,averageSalary:a,salaryDistribution:j.map(e=>e.grossSalary||e.total||e.salary||0)}},[j]),D=a.useMemo(()=>{if(!w.length)return null;const e=w.reduce((e,t)=>{const a=t.category||t.type||"General";return e[a]=(e[a]||0)+1,e},{}),t={verified:w.filter(e=>e.verified).length,pending:w.filter(e=>!e.verified).length};return{total:w.length,byCategory:e,verificationStatus:t,documents:w.map(e=>({title:e.title,category:e.category||e.type,verified:e.verified,date:e.date||e.created_date}))}},[w]),A=a.useMemo(()=>N?{totalRevenue:N.totalRevenue||N.revenue||0,totalExpenses:N.totalExpenses||N.expenses||0,balance:N.balance||0,cashFlow:N.cashFlow||[]}:null,[N]),O=a.useMemo(()=>k?{totalDebt:k.totalDebt||k.total||0,debtByType:k.debtByType||[],debtEvolution:k.debtEvolution||[]}:null,[k]),z=a.useMemo(()=>n?{yearData:n.byYear,summary:n.summary,currentYear:t,audit:n.audit,trends:Object.entries(n.byYear).map(([e,t])=>({year:parseInt(e),budget:t.budget?.totalBudget||0,contracts:t.contracts?.length||0,documents:t.documents?.length||0}))}:null,[n,t]),T=a.useCallback(e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),[]),E=a.useCallback(e=>`${e.toFixed(1)}%`,[]),M=a.useCallback(e=>{if(!n)return null;for(const t in n.byYear){const a=(n.byYear[t]?.documents||[]).find(t=>t.id===e);if(a)return a}return null},[n]),P=a.useCallback(e=>{if(!n||!e)return[];const t=[],a=e.toLowerCase();for(const r in n.byYear){(n.byYear[r]?.documents||[]).forEach(e=>{(e.title?.toLowerCase().includes(a)||e.category?.toLowerCase().includes(a)||e.description?.toLowerCase().includes(a)||e.filename?.toLowerCase().includes(a))&&t.push({...e,year:parseInt(r)})})}return t},[n]),L=a.useMemo(()=>n?.summary.years_covered||[],[n]),I=a.useMemo(()=>n?.summary.categories||[],[n]),$=a.useMemo(()=>n?.summary.total_documents||0,[n]),F=a.useMemo(()=>n?.summary.data_sources_active||0,[n]),R=a.useMemo(()=>n?.summary.audit_score||0,[n]),B=a.useMemo(()=>n?.audit.system_status||"error",[n]),W=a.useMemo(()=>n?.summary.last_updated||"",[n]);return{data:n,yearData:i,loading:l,error:d,currentBudget:b,currentContracts:v,currentSalaries:j,currentDocuments:w,currentTreasury:N,currentDebt:k,budgetChartData:_,contractsChartData:C,salariesChartData:S,documentsChartData:D,treasuryChartData:A,debtChartData:O,comprehensiveChartData:z,availableYears:L,categories:I,totalDocuments:$,dataSourcesActive:F,auditScore:R,systemStatus:B,lastUpdated:W,switchYear:p,refreshData:g,clearCache:x,formatCurrency:T,formatPercentage:E,getDocumentById:M,searchDocuments:P,externalComparison:m,loadExternalComparison:y}},Cm=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState(null),{loading:s,error:i}=_m(e);a.useEffect(()=>{if(realSalaryData){const t={year:realSalaryData.year||e,month:realSalaryData.month||9,moduleValue:realSalaryData.moduleValue||257.01,totalPayroll:realSalaryData.totalPayroll||0,averageSalary:realSalaryData.averageSalary||(realSalaryData.totalPayroll&&realSalaryData.employeeCount?realSalaryData.totalPayroll/realSalaryData.employeeCount:0),positions:realSalaryData.positions||[]};n(t)}},[realSalaryData,e]);const o=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),l=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#8dd1e1"];if(s)return ma.jsx("div",{className:"flex items-center justify-center h-64",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos salariales..."})]})});if(i)return ma.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(b,{className:"h-5 w-5 text-red-400 mr-2"}),ma.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error"})]}),ma.jsx("p",{className:"mt-2 text-red-700",children:i}),ma.jsx("p",{className:"mt-4 text-red-600",children:"Por favor, verifique la conexión de datos."})]});if(!r)return ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(w,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No hay datos salariales disponibles"}),ma.jsxs("p",{className:"mt-1 text-gray-500",children:["No se encontraron datos para el año ",e]})]});const c=r.positions.map(e=>({name:e.name,Bruto:Math.round(e.grossSalary/1e3),Neto:Math.round(e.netSalary/1e3)})),d=r.positions.map(e=>({name:e.name,value:e.grossSalary,employees:e.employeeCount}));return ma.jsxs("div",{className:"space-y-8",children:[ma.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[ma.jsxs("div",{children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"📊 Escala Salarial Municipal"}),ma.jsxs("p",{className:"mt-2 text-gray-600",children:["Análisis detallado de la estructura salarial del municipio de Carmen de Areco ",e]})]}),ma.jsx("div",{className:"flex items-center space-x-4",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(y,{className:"h-5 w-5 text-green-500 mr-2"}),ma.jsxs("span",{className:"font-medium text-gray-900",children:["Valor del Módulo: ",o(r.moduleValue)]})]})})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ma.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:ma.jsx(y,{className:"h-6 w-6 text-blue-600"})}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nómina Total"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(r.totalPayroll)})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-green-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-3 bg-green-100 rounded-lg mr-4",children:ma.jsx(w,{className:"h-6 w-6 text-green-600"})}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Empleados"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.positions.reduce((e,t)=>e+t.employeeCount,0)})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-purple-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:ma.jsx(v,{className:"h-6 w-6 text-purple-600"})}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Salario Promedio"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(r.averageSalary)})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-yellow-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg mr-4",children:ma.jsx(b,{className:"h-6 w-6 text-yellow-600"})}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cargos Analizados"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.positions.length})]})]})})]}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Comparación de Salarios Brutos vs Netos (en miles de ARS)"}),ma.jsx("div",{className:"h-80",children:ma.jsx(ue,{width:"100%",height:"100%",children:ma.jsxs(ke,{data:c,margin:{top:20,right:30,left:20,bottom:60},children:[ma.jsx(he,{strokeDasharray:"3 3"}),ma.jsx(fe,{dataKey:"name",angle:-45,textAnchor:"end",height:60,tick:{fontSize:12}}),ma.jsx(pe,{tickFormatter:e=>`${e}K`}),ma.jsx(ge,{formatter:e=>[`${e}K ARS`,""],labelFormatter:e=>e}),ma.jsx(be,{}),ma.jsx(_e,{dataKey:"Bruto",fill:"#3B82F6",name:"Bruto"}),ma.jsx(_e,{dataKey:"Neto",fill:"#10B981",name:"Neto"})]})})})]}),ma.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribución Salarial por Cargo"}),ma.jsx("div",{className:"h-80",children:ma.jsx(ue,{width:"100%",height:"100%",children:ma.jsxs(je,{children:[ma.jsx(we,{data:d,cx:"50%",cy:"50%",labelLine:!0,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",children:d.map((e,t)=>ma.jsx(Ne,{fill:l[t%l.length]},`cell-${t}`))}),ma.jsx(ge,{formatter:e=>[o(Number(e)),""]}),ma.jsx(be,{})]})})})]})]}),ma.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[ma.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:ma.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Detalle de Escala Salarial ",e]})}),ma.jsx("div",{className:"overflow-x-auto",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ma.jsx("thead",{className:"bg-gray-50",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleados"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Módulos"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bruto"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SOMA (4.8%)"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IPS (13%)"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Neto"})]})}),ma.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.positions.map((e,t)=>ma.jsxs("tr",{className:"hover:bg-gray-50",children:[ma.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[ma.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),ma.jsx("div",{className:"text-sm text-gray-500",children:e.code})]}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.employeeCount}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.modules.toFixed(1)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o(e.grossSalary)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(e.somaDeduction)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(e.ipsDeduction)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o(e.netSalary)})]},t))})]})})]}),ma.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[ma.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Análisis de la Escala Salarial"}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ma.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[ma.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Distribución por Categoría"}),ma.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[ma.jsxs("li",{children:["• Superior: ",r.positions.filter(e=>"SUPERIOR"===e.category).length," cargos"]}),ma.jsxs("li",{children:["• Jerárquico: ",r.positions.filter(e=>"JERARQUICO"===e.category).length," cargos"]}),ma.jsxs("li",{children:["• Administrativo: ",r.positions.filter(e=>"ADMINISTRATIVO"===e.category).length," cargos"]}),ma.jsxs("li",{children:["• General: ",r.positions.filter(e=>"GENERAL"===e.category).length," cargos"]})]})]}),ma.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[ma.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Rangos Salariales"}),ma.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[ma.jsxs("li",{children:["• Más alto: ",o(Math.max(...r.positions.map(e=>e.grossSalary)))]}),ma.jsxs("li",{children:["• Más bajo: ",o(Math.min(...r.positions.map(e=>e.grossSalary)))]}),ma.jsxs("li",{children:["• Promedio: ",o(r.averageSalary)]}),ma.jsxs("li",{children:["• Total empleados: ",r.positions.reduce((e,t)=>e+t.employeeCount,0)]})]})]}),ma.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[ma.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Observaciones"}),ma.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[ma.jsxs("li",{children:["• ",r.positions.length," cargos analizados"]}),ma.jsxs("li",{children:["• Valor del módulo: ",o(r.moduleValue)]}),ma.jsxs("li",{children:["• Nómina total: ",o(r.totalPayroll)]}),ma.jsx("li",{children:"• Deduc. promedio: 17.8%"})]})]})]})]})]})},Sm=()=>{const[e,t]=a.useState((new Date).getFullYear()),{currentYearData:r,loading:n,error:s,availableYears:i}=$r(e),o=a.useMemo(()=>{const t=r?.salaries;if(!t)return null;const a=t.totalPayroll||0,n=t.employeeCount||0,s=t.moduleValue||0,i=[];return t.positions&&Array.isArray(t.positions)&&t.positions.forEach(e=>{const t={code:e.code||e.codigo||"N/A",name:e.name||e.nombre||e.puesto||"Posición sin nombre",category:e.category||e.categoria||e.area||"General",modules:parseFloat(e.modules||e.modulos||0),grossSalary:parseFloat(e.grossSalary||e.sueldo_bruto||e.salario_bruto||0),somaDeduction:parseFloat(e.somaDeduction||e.descuento_soma||0),ipsDeduction:parseFloat(e.ipsDeduction||e.descuento_ips||0),netSalary:parseFloat(e.netSalary||e.sueldo_neto||e.salario_neto||0),employeeCount:parseFloat(e.employeeCount||e.cantidad_empleados||e.employees||1)};i.push(t)}),{year:e,month:t.month||(new Date).getMonth()+1,moduleValue:s,totalPayroll:a,employeeCount:n,positions:i}},[r,e]),l=a.useMemo(()=>{if(!r?.documents)return[];return r.documents.filter(e=>e.category?.toLowerCase().includes("recursos")||e.category?.toLowerCase().includes("humanos")||e.category?.toLowerCase().includes("salario")||e.title?.toLowerCase().includes("salarial")||e.title?.toLowerCase().includes("escala")||e.title?.toLowerCase().includes("salarios")||e.title?.toLowerCase().includes("sueldo")||"salaries"===e.category)},[r]),c=a.useMemo(()=>{if(!o)return null;const e=o.positions.reduce((e,t)=>(e[t.category]||(e[t.category]={category:t.category,positions:[],totalEmployees:0,totalGross:0,avgSalary:0,minSalary:Number.MAX_SAFE_INTEGER,maxSalary:0}),e[t.category].positions.push(t),e[t.category].totalEmployees+=t.employeeCount,e[t.category].totalGross+=t.grossSalary*t.employeeCount,e[t.category].minSalary=Math.min(e[t.category].minSalary,t.grossSalary),e[t.category].maxSalary=Math.max(e[t.category].maxSalary,t.grossSalary),e),{});return Object.values(e).forEach(e=>{e.avgSalary=e.totalGross/e.totalEmployees}),{...o,categoryGroups:Object.values(e)}},[o]),d=a.useMemo(()=>{if(!c)return{totalEmployees:0,averageSalary:0,totalMonthlyCost:0,totalAnnualCost:0,moduleValue:0};const e=c.employeeCount;return{totalEmployees:e,averageSalary:c.totalPayroll/e,totalMonthlyCost:c.totalPayroll,totalAnnualCost:13*c.totalPayroll,moduleValue:c.moduleValue}},[c]);return n?ma.jsx("div",{className:"flex items-center justify-center min-h-screen",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(L,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando información salarial..."})]})}):s?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(A,{className:"h-5 w-5 text-red-400"}),ma.jsxs("div",{className:"ml-3",children:[ma.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),ma.jsx("div",{className:"mt-2 text-sm text-red-700",children:ma.jsx("p",{children:s})})]})]})})}):ma.jsxs("div",{className:"space-y-6",children:[ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"👥 Sueldos y Salarios Municipales"}),ma.jsxs("p",{className:"text-gray-600",children:["Información sobre escalas salariales y remuneraciones del personal municipal para ",e,c&&ma.jsxs("span",{className:"ml-2 text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Datos reales de ",c.year,"/",c.month]})]})]}),ma.jsx(Er,{availableYears:i,selectedYear:e,onYearChange:t})]})}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0",children:ma.jsx(w,{className:"h-8 w-8 text-blue-500"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Empleados"}),ma.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:d.totalEmployees})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0",children:ma.jsx(y,{className:"h-8 w-8 text-green-500"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Salario Promedio"}),ma.jsx("p",{className:"text-2xl font-semibold text-green-600",children:Pr(d.averageSalary)})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0",children:ma.jsx(v,{className:"h-8 w-8 text-purple-500"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Costo Mensual"}),ma.jsx("p",{className:"text-2xl font-semibold text-purple-600",children:Pr(d.totalMonthlyCost)})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0",children:ma.jsx(g,{className:"h-8 w-8 text-orange-500"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Costo Anual"}),ma.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:Pr(d.totalAnnualCost)})]})]})})]}),d.moduleValue>0&&ma.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(g,{className:"h-5 w-5 text-blue-500 mr-2"}),ma.jsx("span",{className:"font-medium text-blue-900",children:"Valor del Módulo"})]}),ma.jsxs("span",{className:"text-lg font-semibold text-blue-700",children:["$",d.moduleValue.toFixed(2)]})]}),ma.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Base de cálculo para las remuneraciones municipales"})]}),c&&ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Escalas Salariales por Categoría"}),ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.categoryGroups.map((e,t)=>ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"border border-gray-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ma.jsxs("div",{children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.category}),ma.jsxs("p",{className:"text-sm text-gray-600",children:[e.positions.length," cargo",1!==e.positions.length?"s":""]})]}),ma.jsxs("div",{className:"text-right",children:[ma.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.totalEmployees}),ma.jsx("p",{className:"text-xs text-gray-500",children:"empleados"})]})]}),ma.jsxs("div",{className:"space-y-3",children:[ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Salario Promedio:"}),ma.jsx("span",{className:"text-sm font-semibold text-green-600",children:Pr(e.avgSalary)})]}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Rango Salarial:"}),ma.jsxs("span",{className:"text-sm text-gray-600",children:[Pr(e.minSalary)," - ",Pr(e.maxSalary)]})]}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Costo Mensual:"}),ma.jsx("span",{className:"text-sm font-semibold text-purple-600",children:Pr(e.totalGross)})]})]}),ma.jsxs("div",{className:"mt-4",children:[ma.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[ma.jsx("span",{children:"Mín"}),ma.jsx("span",{children:"Promedio"}),ma.jsx("span",{children:"Máx"})]}),ma.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:ma.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full",style:{width:(e.avgSalary-e.minSalary)/(e.maxSalary-e.minSalary)*100+"%"}})})]}),ma.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[ma.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cargos:"}),ma.jsx("div",{className:"space-y-2",children:e.positions.map(e=>ma.jsxs("div",{className:"flex justify-between items-center text-sm",children:[ma.jsxs("div",{children:[ma.jsx("span",{className:"font-medium",children:e.name}),ma.jsxs("span",{className:"text-gray-500 ml-2",children:["(",e.employeeCount,")"]})]}),ma.jsx("span",{className:"text-green-600 font-semibold",children:Pr(e.grossSalary)})]},e.code))})]})]},e.category))})]}),c&&ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Detalle de Cargos y Remuneraciones"}),ma.jsx("div",{className:"overflow-x-auto",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ma.jsx("thead",{className:"bg-gray-50",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sueldo Bruto"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sueldo Neto"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Módulos"})]})}),ma.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.positions.map(e=>ma.jsxs("tr",{className:"hover:bg-gray-50",children:[ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-500",children:e.code}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ma.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.employeeCount}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:Pr(e.grossSalary)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Pr(e.netSalary)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.modules.toFixed(1)})]},e.code))})]})})]}),l.length>0&&ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Documentos de Escalas Salariales"}),ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(t=>ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[ma.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ma.jsx("div",{className:"text-2xl",children:"📄"}),ma.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t.type?.toUpperCase()||"DOC"})]}),ma.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:t.title}),ma.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx($,{className:"h-4 w-4 mr-2"}),ma.jsx("span",{children:e})]}),t.size_mb&&ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(N,{className:"h-4 w-4 mr-2"}),ma.jsxs("span",{children:[t.size_mb.toFixed(1)," MB"]})]})]}),ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[ma.jsx(m,{className:"h-4 w-4 mr-2"}),"Ver"]}),ma.jsxs("a",{href:t.url,download:!0,className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-600 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[ma.jsx(U,{className:"h-4 w-4 mr-2"}),"Descargar"]})]})]},t.id||t.title))})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Análisis Salarial"}),ma.jsx(gm,{year:e})]}),ma.jsx("div",{className:"space-y-8",children:ma.jsx(Cm,{})}),ma.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:ma.jsxs("div",{className:"flex items-start",children:[ma.jsx($,{className:"h-6 w-6 text-blue-500 mt-1 mr-3"}),ma.jsxs("div",{children:[ma.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Información Legal sobre Salarios Municipales"}),ma.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[ma.jsx("p",{children:"• Los salarios municipales se ajustan según las paritarias establecidas por la provincia de Buenos Aires."}),ma.jsx("p",{children:"• Las escalas salariales incluyen básico, adicionales por antigüedad, zona, y otros conceptos según convenio."}),ma.jsx("p",{children:"• Los funcionarios políticos perciben sus remuneraciones según lo establecido en las ordenanzas municipales."}),ma.jsx("p",{children:"• Toda la información salarial está disponible según la Ley de Acceso a la Información Pública."}),ma.jsx("p",{children:"• Las deducciones incluyen aportes jubilatorios (IPS) y obra social municipal (SOMA)."})]})]})]})})]})},Dm=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState(""),[s,i]=a.useState("all"),[o,l]=a.useState("all"),[c,d]=a.useState("grid"),[u,h]=a.useState("title"),[f,p]=a.useState("asc"),{currentYearData:g,loading:x,error:y,availableYears:b}=$r(e),v=a.useMemo(()=>g&&g.documents?g.documents:[],[g]),j=a.useMemo(()=>[...new Set(v.map(e=>e.category))].sort(),[v]),w=a.useMemo(()=>[...new Set(v.map(e=>e.type||"unknown"))].sort(),[v]),k=a.useMemo(()=>({totalDocuments:v.length,totalSize:v.reduce((e,t)=>e+(t.size_mb||0),0),categoriesCount:j.length,verified:v.filter(e=>e.verified).length,integrityVerified:v.filter(e=>"verified"===e.audit_status).length}),[v,j]),_=a.useMemo(()=>{const e=v.filter(e=>{const t=""===r||e.title?.toLowerCase().includes(r.toLowerCase())||e.filename?.toLowerCase().includes(r.toLowerCase())||e.category?.toLowerCase().includes(r.toLowerCase()),a="all"===s||e.category===s,n="all"===o||e.type===o;return t&&a&&n});return e.sort((e,t)=>{let a,r;switch(u){case"title":a=e.title?.toLowerCase()??"",r=t.title?.toLowerCase()??"";break;case"size":a=e.size_mb??0,r=t.size_mb??0;break;case"date":a=new Date(e.processing_date),r=new Date(t.processing_date);break;case"category":a=e.category?.toLowerCase()??"",r=t.category?.toLowerCase()??"";break;default:return 0}return a<r?"asc"===f?-1:1:a>r?"asc"===f?1:-1:0}),e},[v,r,s,o,u,f]),C=b.length>0?b:[e],S=e=>{switch(e.toLowerCase().replace(/[_\s]/g,"")){case"contrataciones":return"📝";case"declaracionespatrimoniales":return"💼";case"documentosgenerales":default:return"📄";case"ejecuciondegastos":case"budget":return"💰";case"ejecucionderecursos":case"financial":return"📊";case"estadosfinancieros":case"revenue":case"inversión":return"📈";case"presupuestomunicipal":case"treasury":return"🏛️";case"recursoshumanos":case"salaries":return"👥";case"saludpublica":return"🏥";case"gender":return"⚖️";case"declarations":return"📋";case"newsletter":return"📰"}};return x?ma.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(L,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando documentos…"})]})}):y?ma.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[ma.jsx(A,{className:"w-12 h-12 text-red-500 mr-4"}),ma.jsx("p",{className:"text-red-600",children:y?.message||"Error al cargar los documentos"})]}):ma.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📄 Documentos de Transparencia"}),ma.jsxs("p",{className:"text-gray-600",children:["Accede a todos los documentos oficiales del municipio para el año ",e,ma.jsxs("span",{className:"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded",children:[k.totalDocuments," documentos disponibles"]})]})]}),ma.jsx(Er,{availableYears:C,selectedYear:e,onYearChange:t})]})}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(N,{className:"h-8 w-8 text-blue-500"}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Documentos"}),ma.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:k.totalDocuments}),ma.jsxs("p",{className:"text-xs text-gray-400",children:["Promedio: ",(k.totalSize/Math.max(k.totalDocuments,1)).toFixed(1)," MB"]})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(F,{className:"h-8 w-8 text-green-500"}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Verificados"}),ma.jsx("p",{className:"text-2xl font-semibold text-green-600",children:k.verified}),ma.jsxs("p",{className:"text-xs text-gray-400",children:[Math.round(k.verified/Math.max(k.totalDocuments,1)*100),"% del total"]})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(N,{className:"h-8 w-8 text-purple-500"}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categorías"}),ma.jsx("p",{className:"text-2xl font-semibold text-purple-600",children:k.categoriesCount}),ma.jsx("p",{className:"text-xs text-gray-400",children:"Organizadas por tema"})]})]})}),ma.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(N,{className:"h-8 w-8 text-orange-500"}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tamaño Total"}),ma.jsxs("p",{className:"text-2xl font-semibold text-orange-600",children:[k.totalSize.toFixed(1)," MB"]}),ma.jsx("p",{className:"text-xs text-gray-400",children:"Archivo digital"})]})]})})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Documentos por Categoría"}),ma.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:j.slice(0,8).map(e=>ma.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>i(e),children:[ma.jsx("span",{className:"text-2xl mr-3",children:S(e)}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.replace(/_/g," ")}),ma.jsxs("p",{className:"text-xs text-gray-500",children:[v.filter(t=>t.category===e).length," documentos"]})]})]},e))}),j.length>8&&ma.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["+",j.length-8," categorías más disponibles"]})]}),ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:ma.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[ma.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[ma.jsxs("div",{className:"relative flex-1 max-w-md",children:[ma.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),ma.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:r,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),ma.jsxs("select",{value:s,onChange:e=>i(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ma.jsx("option",{value:"all",children:"Todas las categorías"}),j.map(e=>ma.jsx("option",{value:e,children:"all"===e?"Todas las categorías":`${S(e)} ${e.replace(/_/g," ")}`},e))]}),ma.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ma.jsx("option",{value:"all",children:"Todos los tipos"}),w.map(e=>ma.jsx("option",{value:e,children:"all"===e?"Todos los tipos":e.toUpperCase()},e))]})]}),ma.jsxs("div",{className:"flex items-center gap-2",children:[ma.jsxs("span",{className:"text-sm text-gray-500 mr-2",children:[_.length," de ",k.totalDocuments]}),ma.jsx("button",{type:"button",onClick:()=>d("grid"),className:"p-2 rounded-lg "+("grid"===c?"bg-blue-100 text-blue-600":"text-gray-400"),children:ma.jsx(H,{className:"h-5 w-5"})}),ma.jsx("button",{type:"button",onClick:()=>d("list"),className:"p-2 rounded-lg "+("list"===c?"bg-blue-100 text-blue-600":"text-gray-400"),children:ma.jsx(Y,{className:"h-5 w-5"})})]})]})}),"grid"===c?ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200",children:ma.jsxs("div",{className:"p-6",children:[ma.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ma.jsx("div",{className:"text-2xl",children:S(e.category)}),ma.jsxs("div",{className:"flex items-center space-x-1",children:[e.verified&&ma.jsx(F,{className:"h-4 w-4 text-green-500"}),ma.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type?.toUpperCase()||"UNKNOWN"})]})]}),ma.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),ma.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(N,{className:"h-4 w-4 mr-2"}),ma.jsx("span",{children:Ir(1024*e.size_mb*1024)})]}),e.processing_date&&ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(P,{className:"h-4 w-4 mr-2"}),ma.jsx("span",{children:new Date(e.processing_date).toLocaleDateString("es-AR")})]})]}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[ma.jsx(m,{className:"h-4 w-4 mr-2"}),"Ver"]}),ma.jsxs("a",{href:e.url,download:!0,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[ma.jsx(U,{className:"h-4 w-4 mr-2"}),"Descargar"]})]})]})},e.id))}):ma.jsx("div",{className:"bg-white rounded-xl-sm border border-gray-200 overflow-hidden",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ma.jsx("thead",{className:"bg-gray-50",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documento"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamaño"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),ma.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(e=>ma.jsxs("tr",{className:"hover:bg-gray-50",children:[ma.jsx("td",{className:"px-6 py-4",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"text-xl mr-3",children:S(e.category)}),ma.jsxs("div",{children:[ma.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:e.title}),ma.jsx("div",{className:"text-sm text-gray-500 max-xs truncate",children:e.filename})]})]})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category.replace(/_/g," ")}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.type?.toUpperCase()||"UNKNOWN"})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ir(1024*e.size_mb*1024)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.verified?ma.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:[ma.jsx(F,{className:"h-3 w-3 mr-1"}),"Verificado"]}):ma.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:[ma.jsx(A,{className:"h-3 w-3 mr-1"}),"Pendiente"]})}),ma.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[ma.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900 mr-4 flex items-center",title:"Ver documento",children:[ma.jsx(m,{className:"h-4 w-4 mr-1"}),"Ver"]}),ma.jsxs("a",{href:e.url,download:!0,className:"text-gray-600 hover:text-gray-900 flex items-center",title:"Descargar documento",children:[ma.jsx(U,{className:"h-4 w-4 mr-1"}),"Descargar"]})]})]},e.id))})]})}),0===_.length&&r&&ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(N,{className:"mx-auto h-12 w-12 text-gray-400"}),ma.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay documentos"}),ma.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:['No se encontraron documentos con los filtros seleccionados: "',r,'"']}),ma.jsx("button",{type:"button",onClick:()=>{n(""),i("all")},className:"mt-4 inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Limpiar filtros"})]}),ma.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-8",children:ma.jsxs("div",{className:"flex items-start",children:[ma.jsx(N,{className:"h-6 w-6 text-blue-500 mt-1 mr-3"}),ma.jsxs("div",{children:[ma.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Fuentes de Datos"}),ma.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[ma.jsxs("p",{children:["• ",ma.jsx("strong",{children:"Base de datos:"})," Documentos verificados y procesados automáticamente"]}),ma.jsxs("p",{children:["• ",ma.jsx("strong",{children:"Archivos organizados:"})," Análisis por categorías y exportaciones CSV"]}),ma.jsxs("p",{children:["• ",ma.jsx("strong",{children:"Portal oficial:"})," Documentos públicos según Ley de Acceso a la Información"]}),ma.jsxs("p",{children:["• ",ma.jsx("strong",{children:"Verificación:"})," Todos los documentos pasan por controles de integridad"]})]})]})]})})]})},Am=({documents:e,onDocumentSelect:t,showList:a=!0,defaultView:r="grid",className:n=""})=>{const s=e=>{const t=e.type?.toLowerCase()||"",a=e.filename?.toLowerCase()||"";return t.includes("pdf")||a.endsWith(".pdf")?ma.jsx(N,{className:"w-8 h-8 text-red-500"}):ma.jsx(N,{className:"w-8 h-8 text-gray-500"})},i=e=>{const t=e.type?.toLowerCase()||"",a=e.filename?.toLowerCase()||"";return t.includes("pdf")||a.endsWith(".pdf")?"Documento PDF":"Documento"},o=({document:e})=>ma.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-all cursor-pointer dark:bg-gray-800 dark:border-gray-700",onClick:()=>t?.(e),children:ma.jsxs("div",{className:"flex items-start space-x-3",children:[ma.jsx("div",{className:"flex-shrink-0",children:s(e)}),ma.jsxs("div",{className:"flex-1 min-w-0",children:[ma.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:e.title}),ma.jsxs("p",{className:"text-xs text-gray-500 mt-1 dark:text-gray-400",children:[e.category," • ",e.year]}),ma.jsxs("p",{className:"text-xs text-gray-400 mt-1 dark:text-gray-500",children:[i(e)," • ",e.size_mb.toFixed(1)," MB"]}),ma.jsx("div",{className:"flex items-center mt-2",children:ma.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("verified"===e.verification_status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"),children:"verified"===e.verification_status?"Verificado":"Pendiente"})})]})]})}),l=({document:e})=>ma.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-all cursor-pointer dark:bg-gray-800 dark:border-gray-700",onClick:()=>t?.(e),children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[ma.jsx("div",{className:"flex-shrink-0",children:s(e)}),ma.jsxs("div",{className:"flex-1 min-w-0",children:[ma.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:e.title}),ma.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.category," • ",i(e)]})]})]}),ma.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[ma.jsx("span",{children:e.year}),ma.jsxs("span",{children:[e.size_mb.toFixed(1)," MB"]}),ma.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("verified"===e.verification_status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"),children:"verified"===e.verification_status?"Verificado":"Pendiente"})]})]})});return a?ma.jsx("div",{className:`space-y-6 ${n}`,children:ma.jsxs("div",{children:[ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "+("list"===r?"hidden":"grid"),children:e.map(e=>ma.jsx(o,{document:e},e.id))}),ma.jsx("div",{className:"space-y-3 "+("grid"===r?"hidden":"block"),children:e.map(e=>ma.jsx(l,{document:e},e.id))}),0===e.length&&ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(N,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay documentos disponibles"}),ma.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No se encontraron documentos para mostrar."})]})]})}):null},Om=()=>{const{id:e}=i(),{data:t,isLoading:a,isError:r,error:s}=$r();if(a)return ma.jsx("p",{className:"text-center py-8",children:"Cargando documento…"});if(r)return ma.jsxs("p",{className:"text-center text-red-600 py-8",children:["Error: ",s]});const o=t?.documents?.find(t=>t.id===e);return o?ma.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[ma.jsx("div",{className:"flex items-center mb-4",children:ma.jsxs(n,{to:"/documents",className:"flex items-center text-blue-600 hover:underline",children:[ma.jsx(V,{className:"w-5 h-5 mr-1"}),"Volver"]})}),ma.jsx("h1",{className:"text-2xl font-bold mb-2",children:o.title}),ma.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[o.category," • ",o.type.toUpperCase()," • ",formatFileSize(1024*(o.size_mb||0)*1024)]}),ma.jsx(Am,{url:o.url,type:o.type}),ma.jsxs("div",{className:"mt-6 flex space-x-4",children:[o.url&&ma.jsxs("a",{href:o.url,download:!0,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[ma.jsx(U,{className:"w-4 h-4 mr-1"}),"Descargar"]}),ma.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[ma.jsx(m,{className:"w-4 h-4 mr-1"}),"Ver en nueva pestaña"]})]})]}):ma.jsxs("div",{className:"text-center py-8",children:[ma.jsx("p",{className:"text-gray-600",children:"Documento no encontrado."}),ma.jsx(n,{to:"/documents",className:"text-blue-600 hover:underline",children:"← Volver a documentos"})]})},zm=({title:e="Panel de Datos",height:t=600,showDataDashboardLink:a=!1})=>ma.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[ma.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(C,{className:"h-5 w-5 text-blue-500 mr-2"}),ma.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:e})]}),a&&ma.jsxs("a",{href:"/data-dashboard",className:"inline-flex items-center text-sm text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300",children:[ma.jsx(K,{className:"h-4 w-4 mr-1"}),"Ir al Dashboard"]})]})}),ma.jsx("div",{className:"p-6",children:ma.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12 bg-gray-50 dark:bg-gray-700/30 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[ma.jsx(C,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Integración con Power BI"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 max-w-md",children:"Los datos se visualizan mediante paneles interactivos de Power BI para un análisis avanzado."}),ma.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[ma.jsx(K,{className:"h-4 w-4 mr-2"}),"Acceder a Power BI"]}),ma.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg max-w-md",children:ma.jsxs("div",{className:"flex items-start",children:[ma.jsx(R,{className:"h-5 w-5 text-yellow-500 mt-0.5 mr-2 flex-shrink-0"}),ma.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[ma.jsx("span",{className:"font-medium",children:"Nota:"})," Esta es una integración de demostración. En un entorno de producción, se conectaría directamente a los servicios de Power BI."]})]})})]})}),ma.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/20 border-t border-gray-200 dark:border-gray-700",children:ma.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[ma.jsxs("span",{children:["Última actualización: ",(new Date).toLocaleDateString("es-AR")]}),ma.jsx("span",{children:"Power BI Embedded"})]})})]}),Tm=()=>{const[e,t]=a.useState(null),[r,n]=a.useState(!0),[s,i]=a.useState(null),[o,l]=a.useState("overview");a.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const a="https://api.cda-transparencia.org/api/transparency";try{const e=await fetch(`${a}/api/audit/financial`,{headers:{Accept:"application/json"}});if(e.ok){const a=await e.json();return t(a),void n(!1)}}catch(e){}const r={timestamp:(new Date).toISOString(),financial_irregularities:{salary_irregularities:[],budget_discrepancies:[],summary:{total_irregularities:0,high_salary_cases:0,budget_discrepancies:0}},infrastructure_projects:{flags:[],summary:{flagged_projects:0,total_budget:0}},key_findings:[]};t(r)}catch(a){i("Error al cargar los datos de auditoría")}finally{n(!1)}},d=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),u=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return r?ma.jsx("div",{className:"flex items-center justify-center min-h-screen",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos de auditoría..."})]})}):s?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(R,{className:"h-5 w-5 text-red-400 mr-2"}),ma.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error"})]}),ma.jsx("p",{className:"mt-2 text-red-700",children:s}),ma.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Reintentar"})]})}):e?ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsxs("div",{className:"mb-8",children:[ma.jsx("h1",{className:"font-heading text-3xl font-bold text-gray-800 dark:text-white",children:"🏛️ Panel de Auditoría Financiera"}),ma.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Seguimiento de irregularidades financieras en el municipio de Carmen de Areco"}),ma.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Última actualización: ",new Date(e.timestamp).toLocaleDateString("es-AR")]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-red-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:ma.jsx(R,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Irregularidades"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.financial_irregularities.summary.total_irregularities+e.infrastructure_projects.summary.flagged_projects})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-blue-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:ma.jsx(y,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Altos Salarios"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.financial_irregularities.summary.high_salary_cases})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-yellow-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:ma.jsx(W,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Proyectos Atrasados"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.infrastructure_projects.summary.flagged_projects})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-green-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:ma.jsx(v,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Presupuesto Total"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:d(e.infrastructure_projects.summary.total_budget)})]})]})})]}),ma.jsx("div",{className:"mb-6 border-b border-gray-200 dark:border-gray-700",children:ma.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Resumen",icon:ma.jsx(N,{className:"h-4 w-4 mr-2"})},{id:"salaries",label:"Altos Salarios",icon:ma.jsx(w,{className:"h-4 w-4 mr-2"})},{id:"projects",label:"Proyectos Atrasados",icon:ma.jsx($,{className:"h-4 w-4 mr-2"})},{id:"budget",label:"Discrepancias Presupuestarias",icon:ma.jsx(v,{className:"h-4 w-4 mr-2"})}].map(e=>ma.jsxs("button",{onClick:()=>l(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center "+(o===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e.icon,e.label]},e.id))})}),ma.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow overflow-hidden",children:["overview"===o&&ma.jsxs("div",{className:"p-6",children:[ma.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Hallazgos Clave"}),ma.jsx("div",{className:"space-y-4",children:e.key_findings.map((e,t)=>ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:`p-4 rounded-lg border ${u(e.severity)}`,children:ma.jsxs("div",{className:"flex justify-between items-start",children:[ma.jsxs("div",{children:[ma.jsx("h3",{className:"font-medium",children:e.description}),ma.jsx("p",{className:"text-sm mt-1",children:e.related_entity})]}),ma.jsx("span",{className:"font-semibold",children:d(e.amount)})]})},t))})]}),"salaries"===o&&ma.jsxs("div",{className:"p-6",children:[ma.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Funcionarios con Altos Salarios"}),e.financial_irregularities.salary_irregularities.length>0?ma.jsx("div",{className:"overflow-x-auto",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[ma.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Funcionario"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cargo"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salario Declarado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salario Esperado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Diferencia"})]})}),ma.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.financial_irregularities.salary_irregularities.map((e,t)=>ma.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:e.official_name})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.role})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:d(e.declared_salary)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d(e.estimated_fair_salary)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:[e.discrepancy_ratio.toFixed(1),"x"]})})]},t))})]})}):ma.jsxs("div",{className:"text-center py-8",children:[ma.jsx(w,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No se encontraron altos salarios"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se identificaron funcionarios con salarios significativamente superiores al promedio."})]})]}),"projects"===o&&ma.jsxs("div",{className:"p-6",children:[ma.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Proyectos de Infraestructura Atrasados"}),e.infrastructure_projects.flags.length>0?ma.jsx("div",{className:"overflow-x-auto",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[ma.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Proyecto"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Presupuesto"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Gastado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Atraso"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tipo"})]})}),ma.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.infrastructure_projects.flags.map((e,t)=>ma.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:e.project_name})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d(e.budgeted_amount)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d(e.actual_spent)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",children:[e.delay_days," días"]})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"delayed_completion"===e.irregularity_type?"Atraso":"Otro"})})]},t))})]})}):ma.jsxs("div",{className:"text-center py-8",children:[ma.jsx($,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay proyectos atrasados"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todos los proyectos de infraestructura están dentro del cronograma previsto."})]})]}),"budget"===o&&ma.jsxs("div",{className:"p-6",children:[ma.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Discrepancias Presupuestarias"}),e.financial_irregularities.budget_discrepancies.length>0?ma.jsx("div",{className:"overflow-x-auto",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[ma.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Categoría"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Presupuestado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Real"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Diferencia"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Porcentaje"})]})}),ma.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.financial_irregularities.budget_discrepancies.map((e,t)=>ma.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:e.category})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d(e.budgeted_amount)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d(e.actual_spent)})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("div",{className:"text-sm font-medium "+(e.difference>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:d(Math.abs(e.difference))})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(Math.abs(e.difference_percentage)>.2?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"),children:[Math.abs(100*e.difference_percentage).toFixed(1),"%"]})})]},t))})]})}):ma.jsxs("div",{className:"text-center py-8",children:[ma.jsx(v,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay discrepancias presupuestarias significativas"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"La ejecución presupuestaria se encuentra dentro de los márgenes aceptables."})]})]})]}),ma.jsxs("div",{className:"mt-8",children:[ma.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Datos de Power BI"}),ma.jsx(zm,{title:"Reporte de Transparencia Municipal",height:400,showDataDashboardLink:!0})]}),ma.jsx("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:ma.jsxs("div",{className:"flex",children:[ma.jsx("div",{className:"flex-shrink-0",children:ma.jsx(R,{className:"h-5 w-5 text-blue-400"})}),ma.jsxs("div",{className:"ml-3",children:[ma.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Información Importante"}),ma.jsx("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:ma.jsx("p",{children:"Esta información es generada automáticamente mediante análisis de documentos oficiales del municipio. Los hallazgos presentados son indicadores de posibles irregularidades que requieren investigación adicional."})})]})]})})]}):ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(N,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay datos de auditoría disponibles"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Los datos de auditoría aún no han sido generados."})]})})},Em=()=>{const[e,t]=a.useState(null),[r,n]=a.useState(!0),[s,i]=a.useState(null),[o,l]=a.useState("projects"),[c,d]=a.useState("all");a.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const a="https://api.cda-transparencia.org/api/transparency";try{const e=await fetch(`${a}/api/audit/infrastructure`,{headers:{Accept:"application/json"}});if(e.ok){const a=await e.json();return t(a),void n(!1)}}catch(e){}const r={timestamp:(new Date).toISOString(),projects:[],contractor_analysis:[],flags:[],summary:{total_projects:0,total_budget:0,delayed_projects:0,flagged_projects:0,completion_rate:0}};t(r)}catch(a){i("Error al cargar los datos de infraestructura")}finally{n(!1)}};return r?ma.jsx("div",{className:"flex items-center justify-center min-h-screen",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos de infraestructura..."})]})}):s?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(R,{className:"h-5 w-5 text-red-400 mr-2"}),ma.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error"})]}),ma.jsx("p",{className:"mt-2 text-red-700",children:s}),ma.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Reintentar"})]})}):e?ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsxs("div",{className:"mb-8",children:[ma.jsx("h1",{className:"font-heading text-3xl font-bold text-gray-800 dark:text-white",children:"🏗️ Seguimiento de Infraestructura"}),ma.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Control y auditoría de proyectos de infraestructura municipal"}),ma.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Última actualización: ",new Date(e.timestamp).toLocaleDateString("es-AR")]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-blue-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:ma.jsx($,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Proyectos"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.summary.total_projects})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-green-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:ma.jsx(y,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Presupuesto Total"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:(m=e.summary.total_budget,new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(m))})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-orange-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:ma.jsx(W,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Proyectos Retrasados"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.summary.delayed_projects})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-red-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:ma.jsx(R,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Proyectos Marcados"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.summary.flagged_projects})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-purple-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:ma.jsx(F,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Tasa Completado"}),ma.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[e.summary.completion_rate.toFixed(1),"%"]})]})]})})]}),0===e.projects.length&&ma.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl shadow",children:[ma.jsx($,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay proyectos de infraestructura"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"El sistema aún no ha procesado proyectos de infraestructura municipal."})]})]}):ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx($,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay datos de infraestructura disponibles"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Los datos de proyectos de infraestructura aún no han sido generados."})]})});var m},Mm=()=>{const[e,t]=a.useState(null),[r,n]=a.useState(!0),[s,i]=a.useState(null),[o,l]=a.useState(""),[c,d]=a.useState("all"),[u,m]=a.useState("all"),[h,f]=a.useState("categories");a.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const a="https://api.cda-transparencia.org/api/transparency";try{const e=await fetch(`${a}/api/data/categorization`,{headers:{Accept:"application/json"}});if(e.ok){const a=await e.json();return t(a),void n(!1)}}catch(e){}const r={timestamp:(new Date).toISOString(),statistics:{total_documents:0,categorized_documents:0,uncategorized_documents:0,categories:{},years:{},file_types:{}},category_hierarchy:{},yearly_analysis:{},sample_documents:{recent:[],by_category:{}}};t(r)}catch(a){i("Error al cargar los datos de categorización")}finally{n(!1)}};return r?ma.jsx("div",{className:"flex items-center justify-center min-h-screen",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos de categorización..."})]})}):s?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[ma.jsxs("div",{className:"flex items-center",children:[ma.jsx(A,{className:"h-5 w-5 text-red-400 mr-2"}),ma.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error"})]}),ma.jsx("p",{className:"mt-2 text-red-700",children:s}),ma.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Reintentar"})]})}):e?ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsxs("div",{className:"mb-8",children:[ma.jsx("h1",{className:"font-heading text-3xl font-bold text-gray-800 dark:text-white",children:"📁 Sistema de Categorización de Documentos"}),ma.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Organización de todos los documentos municipales por categoría, año y tipo"}),ma.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Última actualización: ",new Date(e.timestamp).toLocaleDateString("es-AR")]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-blue-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:ma.jsx(G,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Documentos"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.statistics.total_documents})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-green-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:ma.jsx(C,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Categorizados"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e.statistics.categorized_documents})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-purple-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:ma.jsx(N,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Categorías"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:Object.keys(e.statistics.categories).length})]})]})}),ma.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 border-l-4 border-orange-500",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:ma.jsx(P,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Años"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:Object.keys(e.statistics.years).filter(e=>"unknown"!==e).length})]})]})})]}),0===e.statistics.total_documents&&ma.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl shadow",children:[ma.jsx(C,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay documentos categorizados"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"El sistema aún no ha procesado documentos municipales."})]})]}):ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"No hay datos de categorización disponibles"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Los datos de categorización aún no han sido generados."})]})})};class Pm{static instance;constructor(){}static getInstance(){return Pm.instance||(Pm.instance=new Pm),Pm.instance}async loadData(e){return{byYear:{},summary:{total_documents:0,years_covered:[],categories:[],external_sources_active:0,audit_completion_rate:0,last_updated:(new Date).toISOString()},external_systems:{}}}async getMunicipalData(e){return null}async getBudgetData(e){return null}async getDocumentData(e){return null}async getContractData(e){return null}}const Lm=Pm.getInstance(),Im=()=>{const[e,t]=a.useState([]),[r,n]=a.useState(!0),[s,i]=a.useState(null),[o,l]=a.useState(null),[c,d]=a.useState("all"),[u,m]=a.useState("all"),[h,f]=a.useState("severity"),p=async()=>{n(!0),i(null);try{const e=await Lm.getAuditAnomalies();t(e)}catch(e){i(e instanceof Error?e.message:"Error loading audit data")}finally{n(!1)}};a.useEffect(()=>{p()},[]);const g=e.filter(e=>!("all"!==c&&e.severity!==c||"all"!==u&&e.type!==u)).sort((e,t)=>{switch(h){case"date":return new Date(t.created_date).getTime()-new Date(e.created_date).getTime();case"severity":{const a={critical:4,high:3,medium:2,low:1};return a[t.severity]-a[e.severity]}case"importance":return t.importance_score-e.importance_score;default:return 0}});return r?ma.jsx("div",{className:"flex items-center justify-center min-h-96",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(ce.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600",children:"Analizando anomalías de auditoría..."})]})}):ma.jsxs("div",{className:"space-y-8",children:[ma.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ma.jsxs("div",{children:[ma.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[ma.jsx(R,{className:"w-8 h-8 mr-3 text-red-600"}),"Sistema de Detección de Anomalías"]}),ma.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis automático de irregularidades, importancia de documentos y implicaciones legales"})]}),ma.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[ma.jsx(q,{className:"w-4 h-4"}),ma.jsx("span",{children:"Actualizar Análisis"})]})]}),ma.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[ma.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[ma.jsx("option",{value:"all",children:"Todas las severidades"}),ma.jsx("option",{value:"critical",children:"Crítico"}),ma.jsx("option",{value:"high",children:"Alto"}),ma.jsx("option",{value:"medium",children:"Medio"}),ma.jsx("option",{value:"low",children:"Bajo"})]}),ma.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[ma.jsx("option",{value:"all",children:"Todos los tipos"}),ma.jsx("option",{value:"missing_document",children:"Documentos faltantes"}),ma.jsx("option",{value:"budget_discrepancy",children:"Discrepancias presupuestarias"}),ma.jsx("option",{value:"contract_irregularity",children:"Irregularidades contractuales"}),ma.jsx("option",{value:"salary_anomaly",children:"Anomalías salariales"}),ma.jsx("option",{value:"transparency_issue",children:"Problemas de transparencia"})]}),ma.jsxs("select",{value:h,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[ma.jsx("option",{value:"severity",children:"Ordenar por severidad"}),ma.jsx("option",{value:"date",children:"Ordenar por fecha"}),ma.jsx("option",{value:"importance",children:"Ordenar por importancia"})]})]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ma.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[ma.jsx(A,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),ma.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"critical"===e.severity).length}),ma.jsx("div",{className:"text-sm text-gray-600",children:"Críticos"})]}),ma.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[ma.jsx(y,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),ma.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",e.reduce((e,t)=>e+(t.fine_amount||0),0).toLocaleString("es-AR")]}),ma.jsx("div",{className:"text-sm text-gray-600",children:"Total en Multas"})]}),ma.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[ma.jsx(w,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),ma.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>e.council_involved).length}),ma.jsx("div",{className:"text-sm text-gray-600",children:"Con Concejo Involucrado"})]}),ma.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[ma.jsx(Z,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),ma.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"resolved"===e.resolution_status).length}),ma.jsx("div",{className:"text-sm text-gray-600",children:"Resueltos"})]})]}),ma.jsx("div",{className:"space-y-4",children:g.map(e=>{const t=(e=>{switch(e){case"critical":return{color:"bg-red-100 text-red-800 border-red-200",icon:A,bgColor:"bg-red-50"};case"high":return{color:"bg-orange-100 text-orange-800 border-orange-200",icon:R,bgColor:"bg-orange-50"};case"medium":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:J,bgColor:"bg-yellow-50"};case"low":return{color:"bg-blue-100 text-blue-800 border-blue-200",icon:J,bgColor:"bg-blue-50"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:J,bgColor:"bg-gray-50"}}})(e.severity),a=(e=>{switch(e){case"resolved":return{color:"bg-green-100 text-green-800",icon:F};case"in_progress":return{color:"bg-blue-100 text-blue-800",icon:W};case"dismissed":return{color:"bg-gray-100 text-gray-800",icon:ee};default:return{color:"bg-red-100 text-red-800",icon:A}}})(e.resolution_status),r=t.icon,n=a.icon;return ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md border-l-4 "+("critical"===e.severity?"border-red-500":"high"===e.severity?"border-orange-500":"medium"===e.severity?"border-yellow-500":"border-blue-500"),children:ma.jsx("div",{className:"p-6",children:ma.jsxs("div",{className:"flex items-start justify-between",children:[ma.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[ma.jsx("div",{className:`p-3 rounded-full ${t.bgColor}`,children:ma.jsx(r,{className:"w-6 h-6 text-gray-600"})}),ma.jsxs("div",{className:"flex-1",children:[ma.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),ma.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${t.color}`,children:e.severity.toUpperCase()}),ma.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${a.color}`,children:[ma.jsx(n,{className:"w-3 h-3 mr-1"}),"pending"===e.resolution_status?"Pendiente":"in_progress"===e.resolution_status?"En Progreso":"resolved"===e.resolution_status?"Resuelto":"Desestimado"]})]}),ma.jsx("p",{className:"text-gray-700 mb-4",children:e.description}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[e.amount&&ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(y,{className:"w-4 h-4 text-green-600"}),ma.jsxs("span",{children:["Monto: $",e.amount.toLocaleString("es-AR")]})]}),e.fine_amount&&ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(Q,{className:"w-4 h-4 text-red-600"}),ma.jsxs("span",{children:["Multa: $",e.fine_amount.toLocaleString("es-AR")]})]}),ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(Z,{className:"w-4 h-4 text-purple-600"}),ma.jsxs("span",{children:["Importancia: ",e.importance_score,"/100"]})]}),ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(P,{className:"w-4 h-4 text-blue-600"}),ma.jsxs("span",{children:["Año: ",e.year]})]}),ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx($,{className:"w-4 h-4 text-gray-600"}),ma.jsx("span",{children:e.responsible_department})]}),e.council_involved&&ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(w,{className:"w-4 h-4 text-orange-600"}),ma.jsx("span",{children:"Concejo involucrado"})]})]})]})]}),ma.jsx("button",{onClick:()=>l(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver Detalles"})]})})},e.id)})}),ma.jsx(de,{children:o&&ma.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:()=>l(null),children:ma.jsx(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",onClick:e=>e.stopPropagation(),children:ma.jsxs("div",{className:"p-6",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ma.jsx("h3",{className:"text-xl font-bold text-gray-900",children:o.title}),ma.jsxs("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:[ma.jsx("span",{className:"sr-only",children:"Cerrar"}),"✕"]})]}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ma.jsxs("div",{className:"space-y-4",children:[ma.jsxs("div",{children:[ma.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Descripción"}),ma.jsx("p",{className:"text-gray-700",children:o.description})]}),ma.jsxs("div",{children:[ma.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Evaluación de Impacto"}),ma.jsx("p",{className:"text-gray-700",children:o.impact_assessment})]}),o.legal_implications&&ma.jsxs("div",{children:[ma.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Implicaciones Legales"}),ma.jsx("p",{className:"text-red-700 bg-red-50 p-3 rounded-lg",children:o.legal_implications})]}),o.council_members&&o.council_members.length>0&&ma.jsxs("div",{children:[ma.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Concejales Involucrados"}),ma.jsx("div",{className:"space-y-1",children:o.council_members.map((e,t)=>ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(w,{className:"w-4 h-4 text-orange-600"}),ma.jsx("span",{className:"text-gray-700",children:e})]},t))})]})]}),ma.jsxs("div",{className:"space-y-4",children:[ma.jsxs("div",{children:[ma.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Acciones Recomendadas"}),ma.jsx("ul",{className:"space-y-2",children:o.recommended_actions.map((e,t)=>ma.jsxs("li",{className:"flex items-start space-x-2",children:[ma.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),ma.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]}),ma.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[ma.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Datos Clave"}),ma.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[ma.jsxs("div",{children:[ma.jsx("span",{className:"text-gray-500",children:"Puntuación:"}),ma.jsxs("div",{className:"font-semibold",children:[o.importance_score,"/100"]})]}),ma.jsxs("div",{children:[ma.jsx("span",{className:"text-gray-500",children:"Categoría:"}),ma.jsx("div",{className:"font-semibold",children:o.category})]}),ma.jsxs("div",{children:[ma.jsx("span",{className:"text-gray-500",children:"Departamento:"}),ma.jsx("div",{className:"font-semibold",children:o.responsible_department})]}),ma.jsxs("div",{children:[ma.jsx("span",{className:"text-gray-500",children:"Fecha:"}),ma.jsx("div",{className:"font-semibold",children:new Date(o.created_date).toLocaleDateString("es-ES")})]})]})]})]})]}),ma.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t",children:[ma.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[ma.jsx(X,{className:"w-4 h-4 inline mr-2"}),"Compartir"]}),ma.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[ma.jsx(U,{className:"w-4 h-4 inline mr-2"}),"Exportar"]}),ma.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Cerrar"})]})]})})})})]})},$m=()=>{const[e,t]=a.useState("anomalies");return ma.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[ma.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:ma.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[ma.jsxs("div",{children:[ma.jsx("h1",{className:"font-heading text-3xl font-bold text-gray-800 dark:text-white",children:"🏛️ Auditoría de Transparencia"}),ma.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Análisis integral de la transparencia municipal en Carmen de Areco"})]}),ma.jsxs("div",{className:"text-right",children:[ma.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Última actualización"}),ma.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:(new Date).toLocaleDateString("es-AR")})]})]})})}),ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:ma.jsxs("div",{className:"flex flex-wrap gap-2",children:[ma.jsxs("button",{onClick:()=>t("anomalies"),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("anomalies"===e?"bg-red-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),title:"Ver anomalías y multas",children:[ma.jsx(R,{className:"h-4 w-4 mr-2"}),"Anomalías y Multas"]}),ma.jsxs("button",{onClick:()=>t("financial"),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("financial"===e?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),title:"Auditoría financiera",children:[ma.jsx(y,{className:"h-4 w-4 mr-2"}),"Auditoría Financiera"]}),ma.jsxs("button",{onClick:()=>t("infrastructure"),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("infrastructure"===e?"bg-green-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),title:"Infraestructura",children:[ma.jsx($,{className:"h-4 w-4 mr-2"}),"Infraestructura"]}),ma.jsxs("button",{onClick:()=>t("categorization"),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("categorization"===e?"bg-purple-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),title:"Documentos",children:[ma.jsx(G,{className:"h-4 w-4 mr-2"}),"Documentos"]})]})}),ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:["anomalies"===e&&ma.jsx(Im,{}),"financial"===e&&ma.jsx(Tm,{}),"infrastructure"===e&&ma.jsx(Em,{}),"categorization"===e&&ma.jsx(Mm,{})]})]})},Fm=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,s]=a.useState(""),{documents:i,loading:o,error:l}=$r({year:e}),{report:c,metrics:d,loading:u,error:h}=(()=>{const{completeData:e,currentYearData:t,loading:r,error:n,metrics:s}=_m();return{...a.useMemo(()=>!e||r?{report:null,bySource:{web_sources:null,multi_source:null,financial:null,governance:null,analysis:null},metrics:{totalDocuments:0,documentTypes:{},yearsCovered:[],categoriesCovered:[],dataSources:0},loading:r,error:n||null}:{report:e,bySource:{web_sources:null,multi_source:null,financial:t?.budget||null,governance:null,analysis:null},metrics:{totalDocuments:s.totalDocuments,documentTypes:{},yearsCovered:s.availableYears,categoriesCovered:s.categories,dataSources:s.externalSourcesActive},loading:r,error:n||null},[e,t,r,n,s]),refreshReport:a.useCallback(()=>{},[])}})(),f=async e=>new Promise(e=>setTimeout(e,200));a.useEffect(()=>{f()},[e,f]);const p=i?.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.category.toLowerCase().includes(r.toLowerCase())),g=a.useMemo(()=>p?.length??0,[p]);return u?ma.jsx("p",{className:"text-center py-8",children:"Cargando reporte…"}):h?ma.jsxs("p",{className:"text-center text-red-600 py-8",children:["Error: ",h]}):ma.jsxs("div",{className:"space-y-8",children:[ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex flex-col md:flex-row md:justify-between",children:[ma.jsxs("div",{children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"📄 Informes Municipales"}),ma.jsxs("p",{className:"text-gray-600",children:["Informes disponibles para el año ",e]})]}),ma.jsx(Er,{selectedYear:e,onYearChange:t,availableYears:Array.from({length:10},(e,t)=>(new Date).getFullYear()-t),label:"Año del informe"})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center",children:[ma.jsx(E,{className:"mr-2 h-5 w-5 text-gray-400"}),ma.jsx("input",{type:"text",placeholder:"Buscar informes...",value:r,onChange:e=>s(e.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o&&ma.jsx("p",{className:"text-gray-600",children:"Cargando informes…"}),l&&ma.jsxs("p",{className:"text-red-600",children:["Error: ",l]}),!o&&!l&&ma.jsxs(ma.Fragment,{children:[ma.jsxs("p",{className:"mb-4 text-gray-700",children:["Se encontraron ",ma.jsx("strong",{children:g})," informes."]}),ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ma.jsx("thead",{className:"bg-gray-50",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Título"}),ma.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Categoría"}),ma.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Acciones"})]})}),ma.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p?.map(e=>ma.jsxs("tr",{children:[ma.jsx("td",{className:"px-4 py-2",children:e.title}),ma.jsx("td",{className:"px-4 py-2",children:e.category}),ma.jsx("td",{className:"px-4 py-2",children:ma.jsxs(n,{to:`/documents/${e.id}`,className:"text-blue-600 hover:underline flex items-center",children:[ma.jsx(m,{className:"mr-1 h-4 w-4"}),"Ver"]})})]},e.id))})]}),ma.jsx("div",{className:"mt-4",children:ma.jsxs("button",{title:"Exportar informe",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[ma.jsx(U,{className:"h-4 w-4 mr-2"}),"Exportar"]})})]})]}),ma.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[ma.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:[ma.jsx(N,{className:"w-6 h-6 mr-2 text-indigo-600"}),"Reporte Consolidado"]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Documentos Totales"}),ma.jsx("p",{className:"text-2xl font-semibold",children:d.totalDocuments})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Fuentes de Datos"}),ma.jsx("p",{className:"text-2xl font-semibold",children:d.dataSources})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Años Cubiertos"}),ma.jsx("p",{className:"text-2xl font-semibold",children:d.yearsCovered.join(", ")})]})]}),ma.jsx("ul",{className:"space-y-4",children:c?.documents?.slice(0,10).map(e=>ma.jsxs("li",{className:"bg-white rounded-xl shadow p-4 flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"font-medium text-gray-900",children:e.title}),ma.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),ma.jsxs("div",{className:"flex items-center space-x-3",children:[ma.jsxs("a",{href:`/documents/${e.id}`,className:"text-blue-600 hover:underline flex items-center",children:[ma.jsx(m,{className:"w-4 h-4 mr-1"}),"Ver"]}),e.url&&ma.jsxs("a",{href:e.url,download:!0,className:"text-green-600 hover:underline flex items-center",children:[ma.jsx(U,{className:"w-4 h-4 mr-1"}),"Descargar"]})]})]},e.id))})]})]})};var Rm=ah(),Bm=e=>Xm(e,Rm),Wm=ah();Bm.write=e=>Xm(e,Wm);var Um=ah();Bm.onStart=e=>Xm(e,Um);var Hm=ah();Bm.onFrame=e=>Xm(e,Hm);var Ym=ah();Bm.onFinish=e=>Xm(e,Ym);var Vm=[];Bm.setTimeout=(e,t)=>{const a=Bm.now()+t,r=()=>{const e=Vm.findIndex(e=>e.cancel==r);~e&&Vm.splice(e,1),Zm-=~e?1:0},n={time:a,handler:e,cancel:r};return Vm.splice(Km(a),0,n),Zm+=1,Jm(),n};var Km=e=>~(~Vm.findIndex(t=>t.time>e)||~Vm.length);Bm.cancel=e=>{Um.delete(e),Hm.delete(e),Ym.delete(e),Rm.delete(e),Wm.delete(e)},Bm.sync=e=>{Qm=!0,Bm.batchedUpdates(e),Qm=!1},Bm.throttle=e=>{let t;function a(){try{e(...t)}finally{t=null}}function r(...e){t=e,Bm.onStart(a)}return r.handler=e,r.cancel=()=>{Um.delete(a),t=null},r};var Gm="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Bm.use=e=>Gm=e,Bm.now="undefined"!=typeof performance?()=>performance.now():Date.now,Bm.batchedUpdates=e=>e(),Bm.catch=console.error,Bm.frameLoop="always",Bm.advance=()=>{"demand"!==Bm.frameLoop||th()};var qm=-1,Zm=0,Qm=!1;function Xm(e,t){Qm?(t.delete(e),e(0)):(t.add(e),Jm())}function Jm(){qm<0&&(qm=0,"demand"!==Bm.frameLoop&&Gm(eh))}function eh(){~qm&&(Gm(eh),Bm.batchedUpdates(th))}function th(){const e=qm;qm=Bm.now();const t=Km(qm);t&&(rh(Vm.splice(0,t),e=>e.handler()),Zm-=t),Zm?(Um.flush(),Rm.flush(e?Math.min(64,qm-e):16.667),Hm.flush(),Wm.flush(),Ym.flush()):qm=-1}function ah(){let e=new Set,t=e;return{add(a){Zm+=t!=e||e.has(a)?0:1,e.add(a)},delete:a=>(Zm-=t==e&&e.has(a)?1:0,e.delete(a)),flush(a){t.size&&(e=new Set,Zm-=t.size,rh(t,t=>t(a)&&e.add(t)),Zm+=e.size,t=e)}}}function rh(e,t){e.forEach(e=>{try{t(e)}catch(a){Bm.catch(a)}})}var nh=Object.defineProperty,sh={};function ih(){}((e,t)=>{for(var a in t)nh(e,a,{get:t[a],enumerable:!0})})(sh,{assign:()=>vh,colors:()=>xh,createStringInterpolator:()=>hh,skipAnimation:()=>yh,to:()=>fh,willAdvance:()=>bh});var oh={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function lh(e,t){if(oh.arr(e)){if(!oh.arr(t)||e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}return e===t}var ch=(e,t)=>e.forEach(t);function dh(e,t,a){if(oh.arr(e))for(let r=0;r<e.length;r++)t.call(a,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(a,e[r],r)}var uh=e=>oh.und(e)?[]:oh.arr(e)?e:[e];function mh(e,t){if(e.size){const a=Array.from(e);e.clear(),ch(a,t)}}var hh,fh,ph=(e,...t)=>mh(e,e=>e(...t)),gh=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xh=null,yh=!1,bh=ih,vh=e=>{e.to&&(fh=e.to),e.now&&(Bm.now=e.now),void 0!==e.colors&&(xh=e.colors),null!=e.skipAnimation&&(yh=e.skipAnimation),e.createStringInterpolator&&(hh=e.createStringInterpolator),e.requestAnimationFrame&&Bm.use(e.requestAnimationFrame),e.batchedUpdates&&(Bm.batchedUpdates=e.batchedUpdates),e.willAdvance&&(bh=e.willAdvance),e.frameLoop&&(Bm.frameLoop=e.frameLoop)},jh=new Set,wh=[],Nh=[],kh=0,_h={get idle(){return!jh.size&&!wh.length},start(e){kh>e.priority?(jh.add(e),Bm.onStart(Ch)):(Sh(e),Bm(Ah))},advance:Ah,sort(e){if(kh)Bm.onFrame(()=>_h.sort(e));else{const t=wh.indexOf(e);~t&&(wh.splice(t,1),Dh(e))}},clear(){wh=[],jh.clear()}};function Ch(){jh.forEach(Sh),jh.clear(),Bm(Ah)}function Sh(e){wh.includes(e)||Dh(e)}function Dh(e){wh.splice(function(e,t){const a=e.findIndex(t);return a<0?e.length:a}(wh,t=>t.priority>e.priority),0,e)}function Ah(e){const t=Nh;for(let a=0;a<wh.length;a++){const r=wh[a];kh=r.priority,r.idle||(bh(r),r.advance(e),r.idle||t.push(r))}return kh=0,(Nh=wh).length=0,(wh=t).length>0}var Oh="[-+]?\\d*\\.?\\d+",zh=Oh+"%";function Th(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Eh=new RegExp("rgb"+Th(Oh,Oh,Oh)),Mh=new RegExp("rgba"+Th(Oh,Oh,Oh,Oh)),Ph=new RegExp("hsl"+Th(Oh,zh,zh)),Lh=new RegExp("hsla"+Th(Oh,zh,zh,Oh)),Ih=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$h=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Fh=/^#([0-9a-fA-F]{6})$/,Rh=/^#([0-9a-fA-F]{8})$/;function Bh(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function Wh(e,t,a){const r=a<.5?a*(1+t):a+t-a*t,n=2*a-r,s=Bh(n,r,e+1/3),i=Bh(n,r,e),o=Bh(n,r,e-1/3);return Math.round(255*s)<<24|Math.round(255*i)<<16|Math.round(255*o)<<8}function Uh(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Hh(e){return(parseFloat(e)%360+360)%360/360}function Yh(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Vh(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Kh(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Fh.exec(e))?parseInt(t[1]+"ff",16)>>>0:xh&&void 0!==xh[e]?xh[e]:(t=Eh.exec(e))?(Uh(t[1])<<24|Uh(t[2])<<16|Uh(t[3])<<8|255)>>>0:(t=Mh.exec(e))?(Uh(t[1])<<24|Uh(t[2])<<16|Uh(t[3])<<8|Yh(t[4]))>>>0:(t=Ih.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Rh.exec(e))?parseInt(t[1],16)>>>0:(t=$h.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Ph.exec(e))?(255|Wh(Hh(t[1]),Vh(t[2]),Vh(t[3])))>>>0:(t=Lh.exec(e))?(Wh(Hh(t[1]),Vh(t[2]),Vh(t[3]))|Yh(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var Gh=(e,t,a)=>{if(oh.fun(e))return e;if(oh.arr(e))return Gh({range:e,output:t,extrapolate:a});if(oh.str(e.output[0]))return hh(e);const r=e,n=r.output,s=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var a=1;a<t.length-1&&!(t[a]>=e);++a);return a-1}(e,s);return function(e,t,a,r,n,s,i,o,l){let c=l?l(e):e;if(c<t){if("identity"===i)return c;"clamp"===i&&(c=t)}if(c>a){if("identity"===o)return c;"clamp"===o&&(c=a)}if(r===n)return r;if(t===a)return e<=t?r:n;t===-1/0?c=-c:a===1/0?c-=t:c=(c-t)/(a-t);c=s(c),r===-1/0?c=-c:n===1/0?c+=r:c=c*(n-r)+r;return c}(e,s[t],s[t+1],n[t],n[t+1],l,i,o,r.map)}};var qh=Symbol.for("FluidValue.get"),Zh=Symbol.for("FluidValue.observers"),Qh=e=>Boolean(e&&e[qh]),Xh=e=>e&&e[qh]?e[qh]():e,Jh=e=>e[Zh]||null;function ef(e,t){const a=e[Zh];a&&a.forEach(e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)})}var tf=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");af(this,e)}},af=(e,t)=>of(e,qh,t);function rf(e,t){if(e[qh]){let a=e[Zh];a||of(e,Zh,a=new Set),a.has(t)||(a.add(t),e.observerAdded&&e.observerAdded(a.size,t))}return t}function nf(e,t){const a=e[Zh];if(a&&a.has(t)){const r=a.size-1;r?a.delete(t):e[Zh]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var sf,of=(e,t,a)=>Object.defineProperty(e,t,{value:a,writable:!0,configurable:!0}),lf=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,cf=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,df=new RegExp(`(${lf.source})(%|[a-z]+)`,"i"),uf=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,mf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,hf=e=>{const[t,a]=ff(e);if(!t||gh())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(a&&a.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(a);return t||e}return a&&mf.test(a)?hf(a):a||e},ff=e=>{const t=mf.exec(e);if(!t)return[,];const[,a,r]=t;return[a,r]},pf=(e,t,a,r,n)=>`rgba(${Math.round(t)}, ${Math.round(a)}, ${Math.round(r)}, ${n})`,gf=e=>{sf||(sf=xh?new RegExp(`(${Object.keys(xh).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(e=>Xh(e).replace(mf,hf).replace(cf,Kh).replace(sf,Kh)),a=t.map(e=>e.match(lf).map(Number)),r=a[0].map((e,t)=>a.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>Gh({...e,output:t}));return e=>{const a=!df.test(t[0])&&t.find(e=>df.test(e))?.replace(lf,"");let n=0;return t[0].replace(lf,()=>`${r[n++](e)}${a||""}`).replace(uf,pf)}},xf="react-spring: ",yf=e=>{const t=e;let a=!1;if("function"!=typeof t)throw new TypeError(`${xf}once requires a function parameter`);return(...e)=>{a||(t(...e),a=!0)}},bf=yf(console.warn);var vf=yf(console.warn);function jf(e){return oh.str(e)&&("#"==e[0]||/\d/.test(e)||!gh()&&mf.test(e)||e in(xh||{}))}var wf=gh()?a.useEffect:a.useLayoutEffect;function Nf(){const e=a.useState()[1],t=(()=>{const e=a.useRef(!1);return wf(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return()=>{t.current&&e(Math.random())}}var kf=e=>a.useEffect(e,_f),_f=[];function Cf(e){const t=a.useRef(void 0);return a.useEffect(()=>{t.current=e}),t.current}var Sf=Symbol.for("Animated:node"),Df=e=>e&&e[Sf],Af=(e,t)=>{return a=e,r=Sf,n=t,Object.defineProperty(a,r,{value:n,writable:!0,configurable:!0});var a,r,n},Of=e=>e&&e[Sf]&&e[Sf].getPayload(),zf=class{constructor(){Af(this,this)}getPayload(){return this.payload||[]}},Tf=class e extends zf{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,oh.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new e(t)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return oh.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,oh.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Ef=class e extends Tf{constructor(e){super(0),this._string=null,this._toString=Gh({output:[e,e]})}static create(t){return new e(t)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(oh.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Gh({output:[this.getValue(),e]})),this._value=0,super.reset()}},Mf={dependencies:null},Pf=class extends zf{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return dh(this.source,(a,r)=>{var n;(n=a)&&n[Sf]===n?t[r]=a.getValue(e):Qh(a)?t[r]=Xh(a):e||(t[r]=a)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ch(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return dh(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Mf.dependencies&&Qh(e)&&Mf.dependencies.add(e);const t=Of(e);t&&ch(t,e=>this.add(e))}},Lf=class e extends Pf{constructor(e){super(e)}static create(t){return new e(t)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((t,a)=>t.setValue(e[a])).some(Boolean):(super.setValue(e.map(If)),!0)}};function If(e){return(jf(e)?Ef:Tf).create(e)}function $f(e){const t=Df(e);return t?t.constructor:oh.arr(e)?Lf:jf(e)?Ef:Tf}var Ff=(e,t)=>{const r=!oh.fun(e)||e.prototype&&e.prototype.isReactComponent;return a.forwardRef((n,s)=>{const i=a.useRef(null),o=r&&a.useCallback(e=>{i.current=function(e,t){e&&(oh.fun(e)?e(t):e.current=t);return t}(s,e)},[s]),[l,c]=function(e,t){const a=new Set;Mf.dependencies=a,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new Pf(e),Mf.dependencies=null,[e,a]}(n,t),d=Nf(),u=()=>{const e=i.current;if(r&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&d()},m=new Rf(u,c),h=a.useRef(void 0);wf(()=>(h.current=m,ch(c,e=>rf(e,m)),()=>{h.current&&(ch(h.current.deps,e=>nf(e,h.current)),Bm.cancel(h.current.update))})),a.useEffect(u,[]),kf(()=>()=>{const e=h.current;ch(e.deps,t=>nf(t,e))});const f=t.getComponentProps(l.getValue());return a.createElement(e,{...f,ref:o})})},Rf=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Bm.write(this.update)}};var Bf=Symbol.for("AnimatedComponent"),Wf=e=>oh.str(e)?e:e&&oh.str(e.displayName)?e.displayName:oh.fun(e)&&e.name||null;function Uf(e,...t){return oh.fun(e)?e(...t):e}var Hf=(e,t)=>!0===e||!!(t&&e&&(oh.fun(e)?e(t):uh(e).includes(t))),Yf=(e,t)=>oh.obj(e)?t&&e[t]:e,Vf=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Kf=e=>e,Gf=(e,t=Kf)=>{let a=qf;e.default&&!0!==e.default&&(e=e.default,a=Object.keys(e));const r={};for(const n of a){const a=t(e[n],n);oh.und(a)||(r[n]=a)}return r},qf=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Zf={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Qf(e){const t=function(e){const t={};let a=0;if(dh(e,(e,r)=>{Zf[r]||(t[r]=e,a++)}),a)return t}(e);if(t){const a={to:t};return dh(e,(e,r)=>r in t||(a[r]=e)),a}return{...e}}function Xf(e){return e=Xh(e),oh.arr(e)?e.map(Xf):jf(e)?sh.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Jf(e){for(const t in e)return!0;return!1}function ep(e){return oh.fun(e)||oh.arr(e)&&oh.obj(e[0])}function tp(e,t){e.ref?.delete(e),t?.delete(e)}function ap(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var rp={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},np={...rp.default,mass:1,damping:1,easing:e=>e,clamp:!1},sp=class{constructor(){this.velocity=0,Object.assign(this,np)}};function ip(e,t){if(oh.und(t.decay)){const a=!oh.und(t.tension)||!oh.und(t.friction);!a&&oh.und(t.frequency)&&oh.und(t.damping)&&oh.und(t.mass)||(e.duration=void 0,e.decay=void 0),a&&(e.frequency=void 0)}else e.duration=void 0}var op=[],lp=class{constructor(){this.changed=!1,this.values=op,this.toValues=null,this.fromValues=op,this.config=new sp,this.immediate=!1}};function cp(e,{key:t,props:a,defaultProps:r,state:n,actions:s}){return new Promise((i,o)=>{let l,c,d=Hf(a.cancel??r?.cancel,t);if(d)h();else{oh.und(a.pause)||(n.paused=Hf(a.pause,t));let e=r?.pause;!0!==e&&(e=n.paused||Hf(e,t)),l=Uf(a.delay||0,t),e?(n.resumeQueue.add(m),s.pause()):(s.resume(),m())}function u(){n.resumeQueue.add(m),n.timeouts.delete(c),c.cancel(),l=c.time-Bm.now()}function m(){l>0&&!sh.skipAnimation?(n.delayed=!0,c=Bm.setTimeout(h,l),n.pauseQueue.add(u),n.timeouts.add(c)):h()}function h(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(u),n.timeouts.delete(c),e<=(n.cancelId||0)&&(d=!0);try{s.start({...a,callId:e,cancel:d},i)}catch(t){o(t)}}})}var dp=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?hp(e.get()):t.every(e=>e.noop)?up(e.get()):mp(e.get(),t.every(e=>e.finished)),up=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),mp=(e,t,a=!1)=>({value:e,finished:t,cancelled:a}),hp=e=>({value:e,cancelled:!0,finished:!1});function fp(e,t,a,r){const{callId:n,parentId:s,onRest:i}=t,{asyncTo:o,promise:l}=a;return s||e!==o||t.reset?a.promise=(async()=>{a.asyncId=n,a.asyncTo=e;const c=Gf(t,(e,t)=>"onRest"===t?void 0:e);let d,u;const m=new Promise((e,t)=>(d=e,u=t)),h=e=>{const t=n<=(a.cancelId||0)&&hp(r)||n!==a.asyncId&&mp(r,!1);if(t)throw e.result=t,u(e),e},f=(e,t)=>{const s=new gp,i=new xp;return(async()=>{if(sh.skipAnimation)throw pp(a),i.result=mp(r,!1),u(i),i;h(s);const o=oh.obj(e)?{...e}:{...t,to:e};o.parentId=n,dh(c,(e,t)=>{oh.und(o[t])&&(o[t]=e)});const l=await r.start(o);return h(s),a.paused&&await new Promise(e=>{a.resumeQueue.add(e)}),l})()};let p;if(sh.skipAnimation)return pp(a),mp(r,!1);try{let t;t=oh.arr(e)?(async e=>{for(const t of e)await f(t)})(e):Promise.resolve(e(f,r.stop.bind(r))),await Promise.all([t.then(d),m]),p=mp(r.get(),!0,!1)}catch(g){if(g instanceof gp)p=g.result;else{if(!(g instanceof xp))throw g;p=g.result}}finally{n==a.asyncId&&(a.asyncId=s,a.asyncTo=s?o:void 0,a.promise=s?l:void 0)}return oh.fun(i)&&Bm.batchedUpdates(()=>{i(p,r,r.item)}),p})():l}function pp(e,t){mh(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var gp=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},xp=class extends Error{constructor(){super("SkipAnimationSignal")}},yp=e=>e instanceof vp,bp=1,vp=class extends tf{constructor(){super(...arguments),this.id=bp++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Df(this);return e&&e.getValue()}to(...e){return sh.to(this,e)}interpolate(...e){return bf(`${xf}The "interpolate" function is deprecated in v9 (use "to" instead)`),sh.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){ef(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||_h.sort(this),ef(this,{type:"priority",parent:this,priority:e})}},jp=Symbol.for("SpringPhase"),wp=e=>(1&e[jp])>0,Np=e=>(2&e[jp])>0,kp=e=>(4&e[jp])>0,_p=(e,t)=>t?e[jp]|=3:e[jp]&=-3,Cp=(e,t)=>t?e[jp]|=4:e[jp]&=-5,Sp=class extends vp{constructor(e,t){if(super(),this.animation=new lp,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!oh.und(e)||!oh.und(t)){const a=oh.obj(e)?{...e}:{...t,from:e};oh.und(a.default)&&(a.default=!0),this.start(a)}}get idle(){return!(Np(this)||this._state.asyncTo)||kp(this)}get goal(){return Xh(this.animation.to)}get velocity(){const e=Df(this);return e instanceof Tf?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return wp(this)}get isAnimating(){return Np(this)}get isPaused(){return kp(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,a=!1;const r=this.animation;let{toValues:n}=r;const{config:s}=r,i=Of(r.to);!i&&Qh(r.to)&&(n=uh(Xh(r.to))),r.values.forEach((o,l)=>{if(o.done)return;const c=o.constructor==Ef?1:i?i[l].lastPosition:n[l];let d=r.immediate,u=c;if(!d){if(u=o.lastPosition,s.tension<=0)return void(o.done=!0);let t=o.elapsedTime+=e;const a=r.fromValues[l],n=null!=o.v0?o.v0:o.v0=oh.arr(s.velocity)?s.velocity[l]:s.velocity;let i;const m=s.precision||(a==c?.005:Math.min(1,.001*Math.abs(c-a)));if(oh.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,r=Math.exp(-(1-e)*t);u=a+n/(1-e)*(1-r),d=Math.abs(o.lastPosition-u)<=m,i=n*r}else{i=null==o.lastVelocity?n:o.lastVelocity;const t=s.restVelocity||m/10,r=s.clamp?0:s.bounce,l=!oh.und(r),h=a==c?o.v0>0:a<c;let f,p=!1;const g=1,x=Math.ceil(e/g);for(let e=0;e<x&&(f=Math.abs(i)>t,f||(d=Math.abs(c-u)<=m,!d));++e){l&&(p=u==c||u>c==h,p&&(i=-i*r,u=c));i+=(1e-6*-s.tension*(u-c)+.001*-s.friction*i)/s.mass*g,u+=i*g}}else{let r=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,o.durationProgress>0&&(o.elapsedTime=s.duration*o.durationProgress,t=o.elapsedTime+=e)),r=(s.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,o.durationProgress=r),u=a+s.easing(r)*(c-a),i=(u-o.lastPosition)/e,d=1==r}o.lastVelocity=i,Number.isNaN(u)&&(d=!0)}i&&!i[l].done&&(d=!1),d?o.done=!0:t=!1,o.setValue(u,s.round)&&(a=!0)});const o=Df(this),l=o.getValue();if(t){const e=Xh(r.to);l===e&&!a||s.decay?a&&s.decay&&this._onChange(l):(o.setValue(e),this._onChange(e)),this._stop()}else a&&this._onChange(l)}set(e){return Bm.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Np(this)){const{to:e,config:t}=this.animation;Bm.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let a;return oh.und(e)?(a=this.queue||[],this.queue=[]):a=[oh.obj(e)?e:{...t,to:e}],Promise.all(a.map(e=>this._update(e))).then(e=>dp(this,e))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),pp(this._state,e&&this._lastCallId),Bm.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:a,from:r}=e;a=oh.obj(a)?a[t]:a,(null==a||ep(a))&&(a=void 0),r=oh.obj(r)?r[t]:r,null==r&&(r=void 0);const n={to:a,from:r};return wp(this)||(e.reverse&&([a,r]=[r,a]),r=Xh(r),oh.und(r)?Df(this)||this._set(a):this._set(r)),n}_update({...e},t){const{key:a,defaultProps:r}=this;e.default&&Object.assign(r,Gf(e,(e,t)=>/^on/.test(t)?Yf(e,a):e)),Mp(this,e,"onProps"),Pp(this,"onProps",e,this);const n=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return cp(++this._lastCallId,{key:a,props:e,defaultProps:r,state:s,actions:{pause:()=>{kp(this)||(Cp(this,!0),ph(s.pauseQueue),Pp(this,"onPause",mp(this,Dp(this,this.animation.to)),this))},resume:()=>{kp(this)&&(Cp(this,!1),Np(this)&&this._resume(),ph(s.resumeQueue),Pp(this,"onResume",mp(this,Dp(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(a=>{if(e.loop&&a.finished&&(!t||!a.noop)){const t=Ap(e);if(t)return this._update(t,!0)}return a})}_merge(e,t,a){if(t.cancel)return this.stop(!0),a(hp(this));const r=!oh.und(e.to),n=!oh.und(e.from);if(r||n){if(!(t.callId>this._lastToId))return a(hp(this));this._lastToId=t.callId}const{key:s,defaultProps:i,animation:o}=this,{to:l,from:c}=o;let{to:d=l,from:u=c}=e;!n||r||t.default&&!oh.und(d)||(d=u),t.reverse&&([d,u]=[u,d]);const m=!lh(u,c);m&&(o.from=u),u=Xh(u);const h=!lh(d,l);h&&this._focus(d);const f=ep(t.to),{config:p}=o,{decay:g,velocity:x}=p;(r||n)&&(p.velocity=0),t.config&&!f&&function(e,t,a){a&&(ip(a={...a},t),t={...a,...t}),ip(e,t),Object.assign(e,t);for(const i in np)null==e[i]&&(e[i]=np[i]);let{frequency:r,damping:n}=e;const{mass:s}=e;oh.und(r)||(r<.01&&(r=.01),n<0&&(n=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*n*s/r)}(p,Uf(t.config,s),t.config!==i.config?Uf(i.config,s):void 0);let y=Df(this);if(!y||oh.und(d))return a(mp(this,!0));const b=oh.und(t.reset)?n&&!t.default:!oh.und(u)&&Hf(t.reset,s),v=b?u:this.get(),j=Xf(d),w=oh.num(j)||oh.arr(j)||jf(j),N=!f&&(!w||Hf(i.immediate||t.immediate,s));if(h){const e=$f(d);if(e!==y.constructor){if(!N)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(j)}}const k=y.constructor;let _=Qh(d),C=!1;if(!_){const e=b||!wp(this)&&m;(h||e)&&(C=lh(Xf(v),j),_=!C),(lh(o.immediate,N)||N)&&lh(p.decay,g)&&lh(p.velocity,x)||(_=!0)}if(C&&Np(this)&&(o.changed&&!b?_=!0:_||this._stop(l)),!f&&((_||Qh(l))&&(o.values=y.getPayload(),o.toValues=Qh(d)?null:k==Ef?[1]:uh(j)),o.immediate!=N&&(o.immediate=N,N||b||this._set(l)),_)){const{onRest:e}=o;ch(Ep,e=>Mp(this,t,e));const r=mp(this,Dp(this,l));ph(this._pendingCalls,r),this._pendingCalls.add(a),o.changed&&Bm.batchedUpdates(()=>{o.changed=!b,e?.(r,this),b?Uf(i.onRest,r):o.onStart?.(r,this)})}b&&this._set(v),f?a(fp(t.to,t,this._state,this)):_?this._start():Np(this)&&!h?this._pendingCalls.add(a):a(up(v))}_focus(e){const t=this.animation;e!==t.to&&(Jh(this)&&this._detach(),t.to=e,Jh(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Qh(t)&&(rf(t,this),yp(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Qh(e)&&nf(e,this)}_set(e,t=!0){const a=Xh(e);if(!oh.und(a)){const e=Df(this);if(!e||!lh(a,e.getValue())){const r=$f(a);e&&e.constructor==r?e.setValue(a):Af(this,r.create(a)),e&&Bm.batchedUpdates(()=>{this._onChange(a,t)})}}return Df(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Pp(this,"onStart",mp(this,Dp(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Uf(this.animation.onChange,e,this)),Uf(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Df(this).reset(Xh(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),Np(this)||(_p(this,!0),kp(this)||this._resume())}_resume(){sh.skipAnimation?this.finish():_h.start(this)}_stop(e,t){if(Np(this)){_p(this,!1);const a=this.animation;ch(a.values,e=>{e.done=!0}),a.toValues&&(a.onChange=a.onPause=a.onResume=void 0),ef(this,{type:"idle",parent:this});const r=t?hp(this.get()):mp(this.get(),Dp(this,e??a.to));ph(this._pendingCalls,r),a.changed&&(a.changed=!1,Pp(this,"onRest",r,this))}}};function Dp(e,t){const a=Xf(t);return lh(Xf(e.get()),a)}function Ap(e,t=e.loop,a=e.to){const r=Uf(t);if(r){const n=!0!==r&&Qf(r),s=(n||e).reverse,i=!n||n.reset;return Op({...e,loop:t,default:!1,pause:void 0,to:!s||ep(a)?a:void 0,from:i?e.from:void 0,reset:i,...n})}}function Op(e){const{to:t,from:a}=e=Qf(e),r=new Set;return oh.obj(t)&&Tp(t,r),oh.obj(a)&&Tp(a,r),e.keys=r.size?Array.from(r):null,e}function zp(e){const t=Op(e);return oh.und(t.default)&&(t.default=Gf(t)),t}function Tp(e,t){dh(e,(e,a)=>null!=e&&t.add(a))}var Ep=["onStart","onRest","onChange","onPause","onResume"];function Mp(e,t,a){e.animation[a]=t[a]!==Vf(t,a)?Yf(t[a],e.key):void 0}function Pp(e,t,...a){e.animation[t]?.(...a),e.defaultProps[t]?.(...a)}var Lp=["onStart","onChange","onRest"],Ip=1,$p=class{constructor(e,t){this.id=Ip++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,a)=>e[a]=t.get()),e}set(e){for(const t in e){const a=e[t];oh.und(a)||this.springs[t].set(a)}}update(e){return e&&this.queue.push(Op(e)),this}start(e){let{queue:t}=this;return e?t=uh(e).map(Op):this.queue=[],this._flush?this._flush(this,t):(Yp(this,t),Fp(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const a=this.springs;ch(uh(t),t=>a[t].stop(!!e))}else pp(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(oh.und(e))this.start({pause:!0});else{const t=this.springs;ch(uh(e),e=>t[e].pause())}return this}resume(e){if(oh.und(e))this.start({pause:!1});else{const t=this.springs;ch(uh(e),e=>t[e].resume())}return this}each(e){dh(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:a}=this._events,r=this._active.size>0,n=this._changed.size>0;(r&&!this._started||n&&!this._started)&&(this._started=!0,mh(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));const s=!r&&this._started,i=n||s&&a.size?this.get():null;n&&t.size&&mh(t,([e,t])=>{t.value=i,e(t,this,this._item)}),s&&(this._started=!1,mh(a,([e,t])=>{t.value=i,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Bm.onFrame(this._onFrame)}};function Fp(e,t){return Promise.all(t.map(t=>Rp(e,t))).then(t=>dp(e,t))}async function Rp(e,t,a){const{keys:r,to:n,from:s,loop:i,onRest:o,onResolve:l}=t,c=oh.obj(t.default)&&t.default;i&&(t.loop=!1),!1===n&&(t.to=null),!1===s&&(t.from=null);const d=oh.arr(n)||oh.fun(n)?n:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):ch(Lp,a=>{const r=t[a];if(oh.fun(r)){const n=e._events[a];t[a]=({finished:e,cancelled:t})=>{const a=n.get(r);a?(e||(a.finished=!1),t&&(a.cancelled=!0)):n.set(r,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[a]=t[a])}});const u=e._state;t.pause===!u.paused?(u.paused=t.pause,ph(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const m=(r||Object.keys(e.springs)).map(a=>e.springs[a].start(t)),h=!0===t.cancel||!0===Vf(t,"cancel");(d||h&&u.asyncId)&&m.push(cp(++e._lastAsyncId,{props:t,state:u,actions:{pause:ih,resume:ih,start(t,a){h?(pp(u,e._lastAsyncId),a(hp(e))):(t.onRest=o,a(fp(d,t,u,e)))}}})),u.paused&&await new Promise(e=>{u.resumeQueue.add(e)});const f=dp(e,await Promise.all(m));if(i&&f.finished&&(!a||!f.noop)){const a=Ap(t,i,n);if(a)return Yp(e,[a]),Rp(e,a,!0)}return l&&Bm.batchedUpdates(()=>l(f,e,e.item)),f}function Bp(e,t){const a={...e.springs};return t&&ch(uh(t),e=>{oh.und(e.keys)&&(e=Op(e)),oh.obj(e.to)||(e={...e,to:void 0}),Hp(a,e,e=>Up(e))}),Wp(e,a),a}function Wp(e,t){dh(t,(t,a)=>{e.springs[a]||(e.springs[a]=t,rf(t,e))})}function Up(e,t){const a=new Sp;return a.key=e,t&&rf(a,t),a}function Hp(e,t,a){t.keys&&ch(t.keys,r=>{(e[r]||(e[r]=a(r)))._prepareNode(t)})}function Yp(e,t){ch(t,t=>{Hp(e.springs,t,t=>Up(t,e))})}var Vp=a.createContext({pause:!1,immediate:!1}),Kp=()=>{const e=[],t=function(t){vf(`${xf}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return ch(e,(e,n)=>{if(oh.und(t))r.push(e.start());else{const s=a(t,e,n);s&&r.push(e.start(s))}}),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const a=e.indexOf(t);~a&&e.splice(a,1)},t.pause=function(){return ch(e,e=>e.pause(...arguments)),this},t.resume=function(){return ch(e,e=>e.resume(...arguments)),this},t.set=function(t){ch(e,(e,a)=>{const r=oh.fun(t)?t(a,e):t;r&&e.set(r)})},t.start=function(t){const a=[];return ch(e,(e,r)=>{if(oh.und(t))a.push(e.start());else{const n=this._getProps(t,e,r);n&&a.push(e.start(n))}}),a},t.stop=function(){return ch(e,e=>e.stop(...arguments)),this},t.update=function(t){return ch(e,(e,a)=>e.update(this._getProps(t,e,a))),this};const a=function(e,t,a){return oh.fun(e)?e(a,t):e};return t._getProps=a,t};function Gp(e,t,r){const n=oh.fun(t)&&t;n&&!r&&(r=[]);const s=a.useMemo(()=>n||3==arguments.length?Kp():void 0,[]),i=a.useRef(0),o=Nf(),l=a.useMemo(()=>({ctrls:[],queue:[],flush(e,t){const a=Bp(e,t);return i.current>0&&!l.queue.length&&!Object.keys(a).some(t=>!e.springs[t])?Fp(e,t):new Promise(r=>{Wp(e,a),l.queue.push(()=>{r(Fp(e,t))}),o()})}}),[]),c=a.useRef([...l.ctrls]),d=a.useRef([]),u=Cf(e)||0;function m(e,a){for(let r=e;r<a;r++){const e=c.current[r]||(c.current[r]=new $p(null,l.flush)),a=n?n(r,e):t[r];a&&(d.current[r]=zp(a))}}a.useMemo(()=>{ch(c.current.slice(e,u),e=>{tp(e,s),e.stop(!0)}),c.current.length=e,m(u,e)},[e]),a.useMemo(()=>{m(0,Math.min(u,e))},r);const h=c.current.map((e,t)=>Bp(e,d.current[t])),f=a.useContext(Vp),p=Cf(f),g=f!==p&&Jf(f);wf(()=>{i.current++,l.ctrls=c.current;const{queue:e}=l;e.length&&(l.queue=[],ch(e,e=>e())),ch(c.current,(e,t)=>{s?.add(e),g&&e.start({default:f});const a=d.current[t];a&&(ap(e,a.ref),e.ref?e.queue.push(a):e.start(a))})}),kf(()=>()=>{ch(l.ctrls,e=>e.stop(!0))});const x=h.map(e=>({...e}));return s?[x,s]:x}function qp(e,t){const a=oh.fun(e),[[r],n]=Gp(1,a?e:[e],a?[]:t);return a||2==arguments.length?[r,n]:r}function Zp(e,t,r){const n=oh.fun(t)&&t,{reset:s,sort:i,trail:o=0,expires:l=!0,exitBeforeEnter:c=!1,onDestroyed:d,ref:u,config:m}=n?n():t,h=a.useMemo(()=>n||3==arguments.length?Kp():void 0,[]),f=uh(e),p=[],g=a.useRef(null),x=s?null:g.current;wf(()=>{g.current=p}),kf(()=>(ch(p,e=>{h?.add(e.ctrl),e.ctrl.ref=h}),()=>{ch(g.current,e=>{e.expired&&clearTimeout(e.expirationId),tp(e.ctrl,h),e.ctrl.stop(!0)})}));const y=function(e,{key:t,keys:a=t},r){if(null===a){const t=new Set;return e.map(e=>{const a=r&&r.find(a=>a.item===e&&"leave"!==a.phase&&!t.has(a));return a?(t.add(a),a.key):Qp++})}return oh.und(a)?e:oh.fun(a)?e.map(a):uh(a)}(f,n?n():t,x),b=s&&g.current||[];wf(()=>ch(b,({ctrl:e,item:t,key:a})=>{tp(e,h),Uf(d,t,a)}));const v=[];if(x&&ch(x,(e,t)=>{e.expired?(clearTimeout(e.expirationId),b.push(e)):~(t=v[t]=y.indexOf(e.key))&&(p[t]=e)}),ch(f,(e,t)=>{p[t]||(p[t]={key:y[t],item:e,phase:"mount",ctrl:new $p},p[t].ctrl.item=e)}),v.length){let e=-1;const{leave:a}=n?n():t;ch(v,(t,r)=>{const n=x[r];~t?(e=p.indexOf(n),p[e]={...n,item:f[t]}):a&&p.splice(++e,0,n)})}oh.fun(i)&&p.sort((e,t)=>i(e.item,t.item));let j=-o;const w=Nf(),N=Gf(t),k=new Map,_=a.useRef(new Map),C=a.useRef(!1);ch(p,(e,a)=>{const r=e.key,s=e.phase,i=n?n():t;let d,h;const f=Uf(i.delay||0,r);if("mount"==s)d=i.enter,h="enter";else{const e=y.indexOf(r)<0;if("leave"!=s)if(e)d=i.leave,h="leave";else{if(!(d=i.update))return;h="update"}else{if(e)return;d=i.enter,h="enter"}}if(d=Uf(d,e.item,a),d=oh.obj(d)?Qf(d):{to:d},!d.config){const t=m||N.config;d.config=Uf(t,e.item,a,h)}j+=o;const p={...N,delay:f+j,ref:u,immediate:i.immediate,reset:!1,...d};if("enter"==h&&oh.und(p.from)){const r=n?n():t,s=oh.und(r.initial)||x?r.from:r.initial;p.from=Uf(s,e.item,a)}const{onResolve:b}=p;p.onResolve=e=>{Uf(b,e);const t=g.current,a=t.find(e=>e.key===r);if(a&&(!e.cancelled||"update"==a.phase)&&a.ctrl.idle){const e=t.every(e=>e.ctrl.idle);if("leave"==a.phase){const t=Uf(l,a.item);if(!1!==t){const r=!0===t?0:t;if(a.expired=!0,!e&&r>0)return void(r<=2147483647&&(a.expirationId=setTimeout(w,r)))}}e&&t.some(e=>e.expired)&&(_.current.delete(a),c&&(C.current=!0),w())}};const v=Bp(e.ctrl,p);"leave"===h&&c?_.current.set(e,{phase:h,springs:v,payload:p}):k.set(e,{phase:h,springs:v,payload:p})});const S=a.useContext(Vp),D=Cf(S),A=S!==D&&Jf(S);wf(()=>{A&&ch(p,e=>{e.ctrl.start({default:S})})},[S]),ch(k,(e,t)=>{if(_.current.size){const e=p.findIndex(e=>e.key===t.key);p.splice(e,1)}}),wf(()=>{ch(_.current.size?_.current:k,({phase:e,payload:t},a)=>{const{ctrl:r}=a;a.phase=e,h?.add(r),A&&"enter"==e&&r.start({default:S}),t&&(ap(r,t.ref),!r.ref&&!h||C.current?(r.start(t),C.current&&(C.current=!1)):r.update(t))})},s?void 0:r);const O=e=>a.createElement(a.Fragment,null,p.map((t,r)=>{const{springs:n}=k.get(t)||t.ctrl,s=e({...n},t.item,t,r),i=oh.str(t.key)||oh.num(t.key)?t.key:t.ctrl.id,o=a.version<"19.0.0",l=s?.props??{};return o&&(l.ref=s.ref),s&&s.type?a.createElement(s.type,{key:i,...l}):s}));return h?[O,h]:O}var Qp=1;var Xp=class extends vp{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Gh(...t);const a=this._get(),r=$f(a);Af(this,r.create(a))}advance(e){const t=this._get();lh(t,this.get())||(Df(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&eg(this._active)&&tg(this)}_get(){const e=oh.arr(this.source)?this.source.map(Xh):uh(Xh(this.source));return this.calc(...e)}_start(){this.idle&&!eg(this._active)&&(this.idle=!1,ch(Of(this),e=>{e.done=!1}),sh.skipAnimation?(Bm.batchedUpdates(()=>this.advance()),tg(this)):_h.start(this))}_attach(){let e=1;ch(uh(this.source),t=>{Qh(t)&&rf(t,this),yp(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){ch(uh(this.source),e=>{Qh(e)&&nf(e,this)}),this._active.clear(),tg(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=uh(this.source).reduce((e,t)=>Math.max(e,(yp(t)?t.priority:0)+1),0))}};function Jp(e){return!1!==e.idle}function eg(e){return!e.size||Array.from(e).every(Jp)}function tg(e){e.idle||(e.idle=!0,ch(Of(e),e=>{e.done=!0}),ef(e,{type:"idle",parent:e}))}var ag=(e,...t)=>new Xp(e,t);sh.assign({createStringInterpolator:gf,to:(e,t)=>new Xp(e,t)});var rg=/^--/;function ng(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||rg.test(e)||ig.hasOwnProperty(e)&&ig[e]?(""+t).trim():t+"px"}var sg={};var ig={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},og=["Webkit","Ms","Moz","O"];ig=Object.keys(ig).reduce((e,t)=>(og.forEach(a=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(a,t)]=e[t]),e),ig);var lg=/^(matrix|translate|scale|rotate|skew)/,cg=/^(translate)/,dg=/^(rotate|skew)/,ug=(e,t)=>oh.num(e)&&0!==e?e+t:e,mg=(e,t)=>oh.arr(e)?e.every(e=>mg(e,t)):oh.num(e)?e===t:parseFloat(e)===t,hg=class extends Pf{constructor({x:e,y:t,z:a,...r}){const n=[],s=[];(e||t||a)&&(n.push([e||0,t||0,a||0]),s.push(e=>[`translate3d(${e.map(e=>ug(e,"px")).join(",")})`,mg(e,0)])),dh(r,(e,t)=>{if("transform"===t)n.push([e||""]),s.push(e=>[e,""===e]);else if(lg.test(t)){if(delete r[t],oh.und(e))return;const a=cg.test(t)?"px":dg.test(t)?"deg":"";n.push(uh(e)),s.push("rotate3d"===t?([e,t,r,n])=>[`rotate3d(${e},${t},${r},${ug(n,a)})`,mg(n,0)]:e=>[`${t}(${e.map(e=>ug(e,a)).join(",")})`,mg(e,t.startsWith("scale")?1:0)])}}),n.length&&(r.transform=new fg(n,s)),super(r)}},fg=class extends tf{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return ch(this.inputs,(a,r)=>{const n=Xh(a[0]),[s,i]=this.transforms[r](oh.arr(n)?n:a.map(Xh));e+=" "+s,t=t&&i}),t?"none":e}observerAdded(e){1==e&&ch(this.inputs,e=>ch(e,e=>Qh(e)&&rf(e,this)))}observerRemoved(e){0==e&&ch(this.inputs,e=>ch(e,e=>Qh(e)&&nf(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),ef(this,e)}};sh.assign({batchedUpdates:o.unstable_batchedUpdates,createStringInterpolator:gf,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var pg,gg,xg,yg,bg,vg,jg,wg,Ng,kg,_g,Cg,Sg,Dg,Ag,Og,zg=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:a=e=>new Pf(e),getComponentProps:r=e=>e}={})=>{const n={applyAnimatedValues:t,createAnimatedStyle:a,getComponentProps:r},s=e=>{const t=Wf(e)||"Anonymous";return(e=oh.str(e)?s[e]||(s[e]=Ff(e,n)):e[Bf]||(e[Bf]=Ff(e,n))).displayName=`Animated(${t})`,e};return dh(e,(t,a)=>{oh.arr(e)&&(a=Wf(t)),s[a]=s(t)}),{animated:s}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const a="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:r,style:n,children:s,scrollTop:i,scrollLeft:o,viewBox:l,...c}=t,d=Object.values(c),u=Object.keys(c).map(t=>a||e.hasAttribute(t)?t:sg[t]||(sg[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));void 0!==s&&(e.textContent=s);for(const m in n)if(n.hasOwnProperty(m)){const t=ng(m,n[m]);rg.test(m)?e.style.setProperty(m,t):e.style[m]=t}u.forEach((t,a)=>{e.setAttribute(t,d[a])}),void 0!==r&&(e.className=r),void 0!==i&&(e.scrollTop=i),void 0!==o&&(e.scrollLeft=o),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new hg(e),getComponentProps:({scrollTop:e,scrollLeft:t,...a})=>a}).animated;function Tg(){if(gg)return pg;gg=1;var e=Ce(),t=Se();return pg=function(a,r,n){(void 0!==n&&!t(a[r],n)||void 0===n&&!(r in a))&&e(a,r,n)}}function Eg(){if(yg)return xg;yg=1;var e=De(),t=Ae();return xg=function(a){return t(a)&&e(a)}}function Mg(){if(vg)return bg;return vg=1,bg=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}}function Pg(){if(kg)return Ng;kg=1;var e=Tg(),t=Te(),a=Ee(),r=Me(),n=Pe(),s=Le(),i=Ie(),o=Eg(),l=$e(),c=Fe(),d=Re(),u=Be(),m=We(),h=Mg(),f=function(){if(wg)return jg;wg=1;var e=Oe(),t=ze();return jg=function(a){return e(a,t(a))}}();return Ng=function(p,g,x,y,b,v,j){var w=h(p,x),N=h(g,x),k=j.get(N);if(k)e(p,x,k);else{var _=v?v(w,N,x+"",p,g,j):void 0,C=void 0===_;if(C){var S=i(N),D=!S&&l(N),A=!S&&!D&&m(N);_=N,S||D||A?i(w)?_=w:o(w)?_=r(w):D?(C=!1,_=t(N,!0)):A?(C=!1,_=a(N,!0)):_=[]:u(N)||s(N)?(_=w,s(w)?_=f(w):d(w)&&!c(w)||(_=n(N))):C=!1}C&&(j.set(N,_),b(_,N,y,v,j),j.delete(N)),e(p,x,_)}}}const Lg=l(function(){if(Og)return Ag;Og=1;var e=function(){if(Cg)return _g;Cg=1;var e=Ue(),t=Tg(),a=He(),r=Pg(),n=Re(),s=ze(),i=Mg();return _g=function o(l,c,d,u,m){l!==c&&a(c,function(a,s){if(m||(m=new e),n(a))r(l,c,s,d,o,u,m);else{var h=u?u(i(l,s),a,s+"",l,c,m):void 0;void 0===h&&(h=a),t(l,s,h)}},s)},_g}(),t=function(){if(Dg)return Sg;Dg=1;var e=Ye(),t=Ve();return Sg=function(a){return e(function(e,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(i=a.length>3&&"function"==typeof i?(s--,i):void 0,o&&t(r[0],r[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++n<s;){var l=r[n];l&&a(e,l,n,i)}return e})}}()(function(t,a,r){e(t,a,r)});return Ag=t}());var Ig,$g,Fg,Rg;function Bg(){if($g)return Ig;$g=1;var e=Ke(),t=Ge(),a=qe(),r=Re(),n=Ze();return Ig=function(s,i,o,l){if(!r(s))return s;for(var c=-1,d=(i=t(i,s)).length,u=d-1,m=s;null!=m&&++c<d;){var h=n(i[c]),f=o;if("__proto__"===h||"constructor"===h||"prototype"===h)return s;if(c!=u){var p=m[h];void 0===(f=l?l(p,h,m):void 0)&&(f=r(p)?p:a(i[c+1])?[]:{})}e(m,h,f),m=m[h]}return s}}const Wg=l(function(){if(Rg)return Fg;Rg=1;var e=Bg();return Fg=function(t,a,r){return null==t?t:e(t,a,r)}}());function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ug.apply(null,arguments)}var Hg=["outlineWidth","outlineColor","outlineOpacity"],Yg=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,Hg)},Vg=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Kg=function(e,t){var a=Lg({},e,t);return Vg.forEach(function(e){Wg(a,e,function(e,t){return Ug({},t,e)}(Qe(a,e),a.text))}),a},Gg={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"#ffffff",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},qg=a.createContext(null),Zg={},Qg=function(e){var t=e.theme,r=void 0===t?Zg:t,n=e.children,s=function(e){return a.useMemo(function(){return Kg(Gg,e)},[e])}(r);return ma.jsx(qg.Provider,{value:s,children:n})},Xg=function(){var e=a.useContext(qg);if(null===e)throw new Error("Unable to find the theme, did you forget to wrap your component with ThemeProvider?");return e};function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jg.apply(null,arguments)}var ex=["basic","chip","container","table","tableCell","tableCellValue"],tx={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},ax=function(e,t){return"translate("+e+"px, "+t+"px)"},rx=a.memo(function(e){var t,r=e.position,n=e.anchor,s=e.children,i=Xg(),o=bj(),l=o.animate,c=o.config,d=cw(),u=d[0],m=d[1],h=a.useRef(!1),f=void 0,p=!1,g=m.width>0&&m.height>0,x=Math.round(r[0]),y=Math.round(r[1]);g&&("top"===n?(x-=m.width/2,y-=m.height+14):"right"===n?(x+=14,y-=m.height/2):"bottom"===n?(x-=m.width/2,y+=14):"left"===n?(x-=m.width+14,y-=m.height/2):"center"===n&&(x-=m.width/2,y-=m.height/2),f={transform:ax(x,y)},h.current||(p=!0),h.current=[x,y]);var b=qp({to:f,config:c,immediate:!l||p}),v=i.tooltip;v.basic,v.chip,v.container,v.table,v.tableCell,v.tableCellValue;var j=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(v,ex),w=Jg({},tx,j,{transform:null!=(t=b.transform)?t:ax(x,y),opacity:b.transform?1:0});return ma.jsx(zg.div,{ref:u,style:w,children:s})});rx.displayName="TooltipWrapper";var nx=a.memo(function(e){var t=e.size,a=void 0===t?12:t,r=e.color,n=e.style;return ma.jsx("span",{style:Jg({display:"block",width:a,height:a,background:r},void 0===n?{}:n)})}),sx=a.memo(function(e){var t,a=e.id,r=e.value,n=e.format,s=e.enableChip,i=void 0!==s&&s,o=e.color,l=e.renderContent,c=Xg(),d=dw(n);if("function"==typeof l)t=l();else{var u=r;void 0!==d&&void 0!==u&&(u=d(u)),t=ma.jsxs("div",{style:c.tooltip.basic,children:[i&&ma.jsx(nx,{color:o,style:c.tooltip.chip}),void 0!==u?ma.jsxs("span",{children:[a,": ",ma.jsx("strong",{children:""+u})]}):a]})}return ma.jsx("div",{style:c.tooltip.container,role:"tooltip",children:t})}),ix={width:"100%",borderCollapse:"collapse"};a.memo(function(e){var t,a=e.title,r=e.rows,n=void 0===r?[]:r,s=e.renderContent,i=Xg();return n.length?(t="function"==typeof s?s():ma.jsxs("div",{children:[a&&a,ma.jsx("table",{style:Jg({},ix,i.tooltip.table),children:ma.jsx("tbody",{children:n.map(function(e,t){return ma.jsx("tr",{children:e.map(function(e,t){return ma.jsx("td",{style:i.tooltip.tableCell,children:e},t)})},t)})})})]}),ma.jsx("div",{style:i.tooltip.container,children:t})):null}).displayName="TableTooltip";var ox=a.memo(function(e){var t=e.x0,r=e.x1,n=e.y0,s=e.y1,i=Xg(),o=bj(),l=o.animate,c=o.config,d=a.useMemo(function(){return Jg({},i.crosshair.line,{pointerEvents:"none"})},[i.crosshair.line]),u=qp({x1:t,x2:r,y1:n,y2:s,config:c,immediate:!l});return ma.jsx(zg.line,Jg({},u,{fill:"none",style:d}))});ox.displayName="CrosshairLine",a.memo(function(e){var t,a,r=e.width,n=e.height,s=e.type,i=e.x,o=e.y;return"cross"===s?(t={x0:i,x1:i,y0:0,y1:n},a={x0:0,x1:r,y0:o,y1:o}):"top-left"===s?(t={x0:i,x1:i,y0:0,y1:o},a={x0:0,x1:i,y0:o,y1:o}):"top"===s?t={x0:i,x1:i,y0:0,y1:o}:"top-right"===s?(t={x0:i,x1:i,y0:0,y1:o},a={x0:i,x1:r,y0:o,y1:o}):"right"===s?a={x0:i,x1:r,y0:o,y1:o}:"bottom-right"===s?(t={x0:i,x1:i,y0:o,y1:n},a={x0:i,x1:r,y0:o,y1:o}):"bottom"===s?t={x0:i,x1:i,y0:o,y1:n}:"bottom-left"===s?(t={x0:i,x1:i,y0:o,y1:n},a={x0:0,x1:i,y0:o,y1:o}):"left"===s?a={x0:0,x1:i,y0:o,y1:o}:"x"===s?t={x0:i,x1:i,y0:0,y1:n}:"y"===s&&(a={x0:0,x1:r,y0:o,y1:o}),ma.jsxs(ma.Fragment,{children:[t&&ma.jsx(ox,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),a&&ma.jsx(ox,{x0:a.x0,x1:a.x1,y0:a.y0,y1:a.y1})]})}).displayName="Crosshair";var lx=a.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),cx={isVisible:!1,position:[null,null],content:null,anchor:null},dx=a.createContext(cx),ux=function(){var e=a.useContext(lx);if(void 0===e)throw new Error("useTooltip must be used within a TooltipProvider");return e},mx=function(){var e=function(){var e=a.useContext(dx);if(void 0===e)throw new Error("useTooltipState must be used within a TooltipProvider");return e}();return function(e){return e.isVisible}(e)?ma.jsx(rx,{position:e.position,anchor:e.anchor,children:e.content}):null},hx=function(e){var t=e.container,r=e.children,n=function(e){var t=a.useState(cx),r=t[0],n=t[1],s=a.useCallback(function(e,t,a){var r=t[0],s=t[1];void 0===a&&(a="top"),n({isVisible:!0,position:[r,s],anchor:a,content:e})},[n]),i=a.useCallback(function(t,a,r){void 0===r&&(r="top");var s=e.current.getBoundingClientRect(),i=e.current.offsetWidth,o=i===s.width?1:i/s.width,l="touches"in a?a.touches[0]:a,c=l.clientX,d=l.clientY,u=(c-s.left)*o,m=(d-s.top)*o;"left"!==r&&"right"!==r||(r=u<s.width/2?"right":"left"),n({isVisible:!0,position:[u,m],anchor:r,content:t})},[e,n]),o=a.useCallback(function(){n(cx)},[n]);return{actions:a.useMemo(function(){return{showTooltipAt:s,showTooltipFromEvent:i,hideTooltip:o}},[s,i,o]),state:r}}(t),s=n.actions,i=n.state;return ma.jsx(lx.Provider,{value:s,children:ma.jsx(dx.Provider,{value:i,children:r})})};let fx;fx="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;let px=null,gx=null;const xx=fx.clearTimeout,yx=fx.setTimeout,bx=fx.cancelAnimationFrame||fx.mozCancelAnimationFrame||fx.webkitCancelAnimationFrame,vx=fx.requestAnimationFrame||fx.mozRequestAnimationFrame||fx.webkitRequestAnimationFrame;function jx(e){let t,a,r,n,s,i,o;const l="undefined"!=typeof document&&document.attachEvent;if(!l){i=function(e){const t=e.__resizeTriggers__,a=t.firstElementChild,r=t.lastElementChild,n=a.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,n.style.width=a.offsetWidth+1+"px",n.style.height=a.offsetHeight+1+"px",a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight},s=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},o=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;i(this),this.__resizeRAF__&&px(this.__resizeRAF__),this.__resizeRAF__=gx(function(){s(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(a){a.call(t,e)}))})};let e=!1,l="";r="animationstart";const c="Webkit Moz O ms".split(" ");let d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let a=0;a<c.length;a++)if(void 0!==t.style[c[a]+"AnimationName"]){u=c[a],l="-"+u.toLowerCase()+"-",r=d[a],e=!0;break}}a="resizeanim",t="@"+l+"keyframes "+a+" { from { opacity: 0; } to { opacity: 0; } } ",n=l+"animation: 1ms "+a+"; "}return{addResizeListener:function(s,c){if(l)s.attachEvent("onresize",c);else{if(!s.__resizeTriggers__){const l=s.ownerDocument,c=fx.getComputedStyle(s);c&&"static"===c.position&&(s.style.position="relative"),function(a){if(!a.getElementById("detectElementResize")){const r=(t||"")+".resize-triggers { "+(n||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',s=a.head||a.getElementsByTagName("head")[0],i=a.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(a.createTextNode(r)),s.appendChild(i)}}(l),s.__resizeLast__={},s.__resizeListeners__=[],(s.__resizeTriggers__=l.createElement("div")).className="resize-triggers";const d=l.createElement("div");d.className="expand-trigger",d.appendChild(l.createElement("div"));const u=l.createElement("div");u.className="contract-trigger",s.__resizeTriggers__.appendChild(d),s.__resizeTriggers__.appendChild(u),s.appendChild(s.__resizeTriggers__),i(s),s.addEventListener("scroll",o,!0),r&&(s.__resizeTriggers__.__animationListener__=function(e){e.animationName===a&&i(s)},s.__resizeTriggers__.addEventListener(r,s.__resizeTriggers__.__animationListener__))}s.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",o,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(a){}}}}}null==bx||null==vx?(px=xx,gx=function(e){return yx(e,20)}):(px=function([e,t]){bx(e),xx(t)},gx=function(e){const t=vx(function(){xx(a),e()}),a=yx(function(){bx(t),e()},20);return[t,a]});class wx extends a.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:a}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},n=parseFloat(r.paddingLeft||"0"),s=parseFloat(r.paddingRight||"0"),i=parseFloat(r.paddingTop||"0"),o=parseFloat(r.paddingBottom||"0"),l=this._parentNode.getBoundingClientRect(),c=l.height-i-o,d=l.width-n-s;if(!e&&this.state.height!==c||!t&&this.state.width!==d){this.setState({height:c,width:d});const e=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0)};"function"==typeof a&&a({height:c,width:d,get scaledHeight(){return e(),c},get scaledWidth(){return e(),d}})}}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const a=t.ownerDocument.defaultView.ResizeObserver;null!=a?(this._resizeObserver=new a(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=jx(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:r,disableHeight:n=!1,disableWidth:s=!1,doNotBailOutOnEmptyChildren:i=!1,nonce:o,onResize:l,style:c={},tagName:d="div",...u}=this.props,{height:m,width:h}=this.state,f={overflow:"visible"},p={};let g=!1;return n||(0===m&&(g=!0),f.height=0,p.height=m,p.scaledHeight=m),s||(0===h&&(g=!0),f.width=0,p.width=h,p.scaledWidth=h),i&&(g=!1),a.createElement(d,{ref:this._setRef,style:{...f,...c},...u},!g&&e(p))}}function Nx(e,t){return e===t}function kx(e,t,r){var n=r&&r.equalityFn||Nx,s=a.useRef(e),i=a.useState({})[1],o=function(e,t,r,n){var s=this,i=a.useRef(null),o=a.useRef(0),l=a.useRef(0),c=a.useRef(null),d=a.useRef([]),u=a.useRef(),m=a.useRef(),h=a.useRef(e),f=a.useRef(!0);h.current=e;var p="undefined"!=typeof window,g=!t&&0!==t&&p;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var x=!!(r=r||{}).leading,y=!("trailing"in r)||!!r.trailing,b="maxWait"in r,v="debounceOnServer"in r&&!!r.debounceOnServer,j=b?Math.max(+r.maxWait||0,t):null;a.useEffect(function(){return f.current=!0,function(){f.current=!1}},[]);var w=a.useMemo(function(){var e=function(e){var t=d.current,a=u.current;return d.current=u.current=null,o.current=e,l.current=l.current||e,m.current=h.current.apply(a,t)},a=function(e,t){g&&cancelAnimationFrame(c.current),c.current=g?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!f.current)return!1;var a=e-i.current;return!i.current||a>=t||a<0||b&&e-o.current>=j},w=function(t){return c.current=null,y&&d.current?e(t):(d.current=u.current=null,m.current)},N=function e(){var n=Date.now();if(x&&l.current===o.current&&k(),r(n))return w(n);if(f.current){var s=t-(n-i.current),c=b?Math.min(s,j-(n-o.current)):s;a(e,c)}},k=function(){n&&n({})},_=function(){if(p||v){var n=Date.now(),l=r(n);if(d.current=[].slice.call(arguments),u.current=s,i.current=n,l){if(!c.current&&f.current)return o.current=i.current,a(N,t),x?e(i.current):m.current;if(b)return a(N,t),e(i.current)}return c.current||a(N,t),m.current}};return _.cancel=function(){var e=c.current;e&&(g?cancelAnimationFrame(c.current):clearTimeout(c.current)),o.current=0,d.current=i.current=u.current=c.current=null,e&&n&&n({})},_.isPending=function(){return!!c.current},_.flush=function(){return c.current?w(Date.now()):m.current},_},[x,b,t,j,y,g,p,v,n]);return w}(a.useCallback(function(e){s.current=e,i({})},[i]),t,r,i),l=a.useRef(e);return n(l.current,e)||(o(e),l.current=e),[s.current,o]}var _x,Cx,Sx,Dx;const Ax=l(function(){if(Dx)return Sx;Dx=1;var e=function(){if(Cx)return _x;Cx=1;var e=Xe(),t=at(),a=rt(),r=Je(),n=et(),s=tt();return _x=function(i,o,l,c){var d=-1,u=t,m=!0,h=i.length,f=[],p=o.length;if(!h)return f;l&&(o=r(o,n(l))),c?(u=a,m=!1):o.length>=200&&(u=s,m=!1,o=new e(o));e:for(;++d<h;){var g=i[d],x=null==l?g:l(g);if(g=c||0!==g?g:0,m&&x==x){for(var y=p;y--;)if(o[y]===x)continue e;f.push(g)}else u(o,x,c)||f.push(g)}return f}}(),t=Ye(),a=Eg(),r=t(function(t,r){return a(t)?e(t,r):[]});return Sx=r}());function Ox(e){for(var t=e.length/6|0,a=new Array(t),r=0;r<t;)a[r]="#"+e.slice(6*r,6*++r);return a}const zx=Ox("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Tx=Ox("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ex=Ox("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Mx=Ox("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Px=Ox("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Lx=Ox("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ix=Ox("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$x=Ox("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Fx=Ox("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Rx=Ox("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Bx=e=>nt(e[e.length-1]);var Wx=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ox);const Ux=Bx(Wx);var Hx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ox);const Yx=Bx(Hx);var Vx=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ox);const Kx=Bx(Vx);var Gx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ox);const qx=Bx(Gx);var Zx=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ox);const Qx=Bx(Zx);var Xx=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ox);const Jx=Bx(Xx);var ey=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ox);const ty=Bx(ey);var ay=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ox);const ry=Bx(ay);var ny=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ox);const sy=Bx(ny);var iy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ox);const oy=Bx(iy);var ly=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ox);const cy=Bx(ly);var dy=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ox);const uy=Bx(dy);var my=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ox);const hy=Bx(my);var fy=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ox);const py=Bx(fy);var gy=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ox);const xy=Bx(gy);var yy=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ox);const by=Bx(yy);var vy=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ox);const jy=Bx(vy);var wy=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ox);const Ny=Bx(wy);var ky=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ox);const _y=Bx(ky);var Cy=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ox);const Sy=Bx(Cy);var Dy=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ox);const Ay=Bx(Dy);var Oy=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ox);const zy=Bx(Oy);var Ty=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ox);const Ey=Bx(Ty);var My=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ox);const Py=Bx(My);var Ly=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ox);const Iy=Bx(Ly);var $y=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ox);const Fy=Bx($y);var Ry=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ox);const By=Bx(Ry);const Wy=st(it(300,.5,0),it(-240,.5,1));var Uy=st(it(-100,.75,.35),it(80,1.5,.8)),Hy=st(it(260,.75,.35),it(80,1.5,.8)),Yy=it();var Vy=ot(),Ky=Math.PI/3,Gy=2*Math.PI/3;function qy(e){var t=e.length;return function(a){return e[Math.max(0,Math.min(t-1,Math.floor(a*t)))]}}const Zy=qy(Ox("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Qy=qy(Ox("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xy=qy(Ox("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Jy=qy(Ox("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function eb(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}Ie();var tb,ab=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rb(e){if(!(t=ab.exec(e)))throw new Error("invalid format: "+e);var t;return new nb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function nb(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sb(e,t){var a=eb(e,t);if(!a)return e+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}rb.prototype=nb.prototype,nb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ib={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return sb(100*e,t)},r:sb,s:function(e,t){var a=eb(e,t);if(!a)return e+"";var r=a[0],n=a[1],s=n-(tb=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,i=r.length;return s===i?r:s>i?r+new Array(s-i+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+eb(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function ob(e){return e}var lb,cb,db=Array.prototype.map,ub=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mb(e){var t,a,r=void 0===e.grouping||void 0===e.thousands?ob:(t=db.call(e.grouping,Number),a=e.thousands+"",function(e,r){for(var n=e.length,s=[],i=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(n-=o,n+o)),!((l+=o+1)>r));)o=t[i=(i+1)%t.length];return s.reverse().join(a)}),n=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=e.decimal+"",o=void 0===e.numerals?ob:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(db.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=rb(e)).fill,a=e.align,u=e.sign,m=e.symbol,h=e.zero,f=e.width,p=e.comma,g=e.precision,x=e.trim,y=e.type;"n"===y?(p=!0,y="g"):ib[y]||(void 0===g&&(g=12),x=!0,y="g"),(h||"0"===t&&"="===a)&&(h=!0,t="0",a="=");var b="$"===m?n:"#"===m&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===m?s:/[%p]/.test(y)?l:"",j=ib[y],w=/[defgprs%]/.test(y);function N(e){var n,s,l,m=b,N=v;if("c"===y)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),g),x&&(e=function(e){e:for(var t,a=e.length,r=1,n=-1;r<a;++r)switch(e[r]){case".":n=t=r;break;case"0":0===n&&(n=r),t=r;break;default:if(!+e[r])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),m=(k?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===y?ub[8+tb/3]:"")+N+(k&&"("===u?")":""),w)for(n=-1,s=e.length;++n<s;)if(48>(l=e.charCodeAt(n))||l>57){N=(46===l?i+e.slice(n+1):e.slice(n))+N,e=e.slice(0,n);break}}p&&!h&&(e=r(e,1/0));var _=m.length+e.length+N.length,C=_<f?new Array(f-_+1).join(t):"";switch(p&&h&&(e=r(C+e,C.length?f-N.length:1/0),C=""),a){case"<":e=m+e+N+C;break;case"=":e=m+C+e+N;break;case"^":e=C.slice(0,_=C.length>>1)+m+e+N+C.slice(_);break;default:e=C+m+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var a,r=u(((e=rb(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor((a=t,((a=eb(Math.abs(a)))?a[1]:NaN)/3)))),s=Math.pow(10,-n),i=ub[8+n/3];return function(e){return r(s*e)+i}}}}lb=mb({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),cb=lb.format,lb.formatPrefix;var hb=new Date,fb=new Date;function pb(e,t,a,r){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=function(t){return e(t=new Date(+t)),t},n.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},n.round=function(e){var t=n(e),a=n.ceil(e);return e-t<a-e?t:a},n.offset=function(e,a){return t(e=new Date(+e),null==a?1:Math.floor(a)),e},n.range=function(a,r,s){var i,o=[];if(a=n.ceil(a),s=null==s?1:Math.floor(s),!(a<r&&s>0))return o;do{o.push(i=new Date(+a)),t(a,s),e(a)}while(i<a&&a<r);return o},n.filter=function(a){return pb(function(t){if(t>=t)for(;e(t),!a(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!a(e););else for(;--r>=0;)for(;t(e,1),!a(e););})},a&&(n.count=function(t,r){return hb.setTime(+t),fb.setTime(+r),e(hb),e(fb),Math.floor(a(hb,fb))},n.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(r?function(t){return r(t)%e===0}:function(t){return n.count(0,t)%e===0}):n:null}),n}const gb=6e4,xb=864e5,yb=6048e5;var bb=pb(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gb)/xb,e=>e.getDate()-1);function vb(e){return pb(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gb)/yb})}bb.range;var jb=vb(0),wb=vb(1),Nb=vb(2),kb=vb(3),_b=vb(4),Cb=vb(5),Sb=vb(6);jb.range,wb.range,Nb.range,kb.range,_b.range,Cb.range,Sb.range;var Db=pb(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Db.every=function(e){return isFinite(e=Math.floor(e))&&e>0?pb(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,a){t.setFullYear(t.getFullYear()+a*e)}):null},Db.range;var Ab=pb(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/xb},function(e){return e.getUTCDate()-1});function Ob(e){return pb(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/yb})}Ab.range;var zb=Ob(0),Tb=Ob(1),Eb=Ob(2),Mb=Ob(3),Pb=Ob(4),Lb=Ob(5),Ib=Ob(6);zb.range,Tb.range,Eb.range,Mb.range,Pb.range,Lb.range,Ib.range;var $b=pb(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function Fb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bb(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}$b.every=function(e){return isFinite(e=Math.floor(e))&&e>0?pb(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,a){t.setUTCFullYear(t.getUTCFullYear()+a*e)}):null},$b.range;var Wb,Ub,Hb,Yb,Vb,Kb,Gb,qb,Zb={"-":"",_:" ",0:"0"},Qb=/^\s*\d+/,Xb=/^%/,Jb=/[\\^$*+?|[\]().{}]/g;function ev(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",s=n.length;return r+(s<a?new Array(a-s+1).join(t)+n:n)}function tv(e){return e.replace(Jb,"\\$&")}function av(e){return new RegExp("^(?:"+e.map(tv).join("|")+")","i")}function rv(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function nv(e,t,a){var r=Qb.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function sv(e,t,a){var r=Qb.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function iv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function ov(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function lv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function cv(e,t,a){var r=Qb.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function dv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function uv(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function mv(e,t,a){var r=Qb.exec(t.slice(a,a+1));return r?(e.q=3*r[0]-3,a+r[0].length):-1}function hv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function fv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function pv(e,t,a){var r=Qb.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function gv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function xv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function yv(e,t,a){var r=Qb.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function bv(e,t,a){var r=Qb.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function vv(e,t,a){var r=Qb.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function jv(e,t,a){var r=Xb.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function wv(e,t,a){var r=Qb.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function Nv(e,t,a){var r=Qb.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function kv(e,t){return ev(e.getDate(),t,2)}function _v(e,t){return ev(e.getHours(),t,2)}function Cv(e,t){return ev(e.getHours()%12||12,t,2)}function Sv(e,t){return ev(1+bb.count(Db(e),e),t,3)}function Dv(e,t){return ev(e.getMilliseconds(),t,3)}function Av(e,t){return Dv(e,t)+"000"}function Ov(e,t){return ev(e.getMonth()+1,t,2)}function zv(e,t){return ev(e.getMinutes(),t,2)}function Tv(e,t){return ev(e.getSeconds(),t,2)}function Ev(e){var t=e.getDay();return 0===t?7:t}function Mv(e,t){return ev(jb.count(Db(e)-1,e),t,2)}function Pv(e){var t=e.getDay();return t>=4||0===t?_b(e):_b.ceil(e)}function Lv(e,t){return e=Pv(e),ev(_b.count(Db(e),e)+(4===Db(e).getDay()),t,2)}function Iv(e){return e.getDay()}function $v(e,t){return ev(wb.count(Db(e)-1,e),t,2)}function Fv(e,t){return ev(e.getFullYear()%100,t,2)}function Rv(e,t){return ev((e=Pv(e)).getFullYear()%100,t,2)}function Bv(e,t){return ev(e.getFullYear()%1e4,t,4)}function Wv(e,t){var a=e.getDay();return ev((e=a>=4||0===a?_b(e):_b.ceil(e)).getFullYear()%1e4,t,4)}function Uv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ev(t/60|0,"0",2)+ev(t%60,"0",2)}function Hv(e,t){return ev(e.getUTCDate(),t,2)}function Yv(e,t){return ev(e.getUTCHours(),t,2)}function Vv(e,t){return ev(e.getUTCHours()%12||12,t,2)}function Kv(e,t){return ev(1+Ab.count($b(e),e),t,3)}function Gv(e,t){return ev(e.getUTCMilliseconds(),t,3)}function qv(e,t){return Gv(e,t)+"000"}function Zv(e,t){return ev(e.getUTCMonth()+1,t,2)}function Qv(e,t){return ev(e.getUTCMinutes(),t,2)}function Xv(e,t){return ev(e.getUTCSeconds(),t,2)}function Jv(e){var t=e.getUTCDay();return 0===t?7:t}function ej(e,t){return ev(zb.count($b(e)-1,e),t,2)}function tj(e){var t=e.getUTCDay();return t>=4||0===t?Pb(e):Pb.ceil(e)}function aj(e,t){return e=tj(e),ev(Pb.count($b(e),e)+(4===$b(e).getUTCDay()),t,2)}function rj(e){return e.getUTCDay()}function nj(e,t){return ev(Tb.count($b(e)-1,e),t,2)}function sj(e,t){return ev(e.getUTCFullYear()%100,t,2)}function ij(e,t){return ev((e=tj(e)).getUTCFullYear()%100,t,2)}function oj(e,t){return ev(e.getUTCFullYear()%1e4,t,4)}function lj(e,t){var a=e.getUTCDay();return ev((e=a>=4||0===a?Pb(e):Pb.ceil(e)).getUTCFullYear()%1e4,t,4)}function cj(){return"+0000"}function dj(){return"%"}function uj(e){return+e}function mj(e){return Math.floor(+e/1e3)}function hj(){if(Kb)return Vb;Kb=1;var e=function(){if(Yb)return Hb;Yb=1;var e=lt(),t=Bg(),a=Ge();return Hb=function(r,n,s){for(var i=-1,o=n.length,l={};++i<o;){var c=n[i],d=e(r,c);s(d,c)&&t(l,a(c,r),d)}return l}}(),t=ct();return Vb=function(a,r){return e(a,r,function(e,r){return t(a,r)})}}!function(e){Wb=function(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=av(n),d=rv(n),u=av(s),m=rv(s),h=av(i),f=rv(i),p=av(o),g=rv(o),x=av(l),y=rv(l),b={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:kv,e:kv,f:Av,g:Rv,G:Wv,H:_v,I:Cv,j:Sv,L:Dv,m:Ov,M:zv,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:uj,s:mj,S:Tv,u:Ev,U:Mv,V:Lv,w:Iv,W:$v,x:null,X:null,y:Fv,Y:Bv,Z:Uv,"%":dj},v={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Hv,e:Hv,f:qv,g:ij,G:lj,H:Yv,I:Vv,j:Kv,L:Gv,m:Zv,M:Qv,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:uj,s:mj,S:Xv,u:Jv,U:ej,V:aj,w:rj,W:nj,x:null,X:null,y:sj,Y:oj,Z:cj,"%":dj},j={a:function(e,t,a){var r=h.exec(t.slice(a));return r?(e.w=f.get(r[0].toLowerCase()),a+r[0].length):-1},A:function(e,t,a){var r=u.exec(t.slice(a));return r?(e.w=m.get(r[0].toLowerCase()),a+r[0].length):-1},b:function(e,t,a){var r=x.exec(t.slice(a));return r?(e.m=y.get(r[0].toLowerCase()),a+r[0].length):-1},B:function(e,t,a){var r=p.exec(t.slice(a));return r?(e.m=g.get(r[0].toLowerCase()),a+r[0].length):-1},c:function(e,a,r){return k(e,t,a,r)},d:fv,e:fv,f:vv,g:dv,G:cv,H:gv,I:gv,j:pv,L:bv,m:hv,M:xv,p:function(e,t,a){var r=c.exec(t.slice(a));return r?(e.p=d.get(r[0].toLowerCase()),a+r[0].length):-1},q:mv,Q:wv,s:Nv,S:yv,u:sv,U:iv,V:ov,w:nv,W:lv,x:function(e,t,r){return k(e,a,t,r)},X:function(e,t,a){return k(e,r,t,a)},y:dv,Y:cv,Z:uv,"%":jv};function w(e,t){return function(a){var r,n,s,i=[],o=-1,l=0,c=e.length;for(a instanceof Date||(a=new Date(+a));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(n=Zb[r=e.charAt(++o)])?r=e.charAt(++o):n="e"===r?" ":"0",(s=t[r])&&(r=s(a,n)),i.push(r),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(a){var r,n,s=Bb(1900,void 0,1);if(k(s,e,a+="",0)!=a.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(n=(r=Rb(Bb(s.y,0,1))).getUTCDay(),r=n>4||0===n?Tb.ceil(r):Tb(r),r=Ab.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(n=(r=Fb(Bb(s.y,0,1))).getDay(),r=n>4||0===n?wb.ceil(r):wb(r),r=bb.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),n="Z"in s?Rb(Bb(s.y,0,1)).getUTCDay():Fb(Bb(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(n+5)%7:s.w+7*s.U-(n+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Rb(s)):Fb(s)}}function k(e,t,a,r){for(var n,s,i=0,o=t.length,l=a.length;i<o;){if(r>=l)return-1;if(37===(n=t.charCodeAt(i++))){if(n=t.charAt(i++),!(s=j[n in Zb?t.charAt(i++):n])||(r=s(e,a,r))<0)return-1}else if(n!=a.charCodeAt(r++))return-1}return r}return b.x=w(a,b),b.X=w(r,b),b.c=w(t,b),v.x=w(a,v),v.X=w(r,v),v.c=w(t,v),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Ub=Wb.format,Wb.parse,Wb.utcFormat,Wb.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const fj=l(function(){if(qb)return Gb;qb=1;var e=hj(),t=dt()(function(t,a){return null==t?{}:e(t,a)});return Gb=t}());var pj=a.createContext(),gj=!0,xj="default",yj=function(e){var t=e.children,r=e.animate,n=void 0===r||r,s=e.config,i=void 0===s?"default":s,o=a.useMemo(function(){var e=zt(i)?rp[i]:i;return{animate:n,config:e}},[n,i]);return ma.jsx(pj.Provider,{value:o,children:t})},bj=function(){return a.useContext(pj)},vj=function(e){var t=e.children,r=e.condition,n=e.wrapper;return r?a.cloneElement(n,{},t):t},jj={position:"relative"},wj=function(e){var t=e.children,r=e.theme,n=e.renderWrapper,s=void 0===n||n,i=e.isInteractive,o=void 0===i||i,l=e.animate,c=e.motionConfig,d=a.useRef(null);return ma.jsx(Qg,{theme:r,children:ma.jsx(yj,{animate:l,config:c,children:ma.jsx(hx,{container:d,children:ma.jsxs(vj,{condition:s,wrapper:ma.jsx("div",{style:jj,ref:d}),children:[t,o&&ma.jsx(mx,{})]})})})})},Nj=function(e,t){return e.width===t.width&&e.height===t.height},kj=function(e){var t=e.children,r=e.width,n=e.height,s=e.onResize,i=kx({width:r,height:n},e.debounceResize,{equalityFn:Nj})[0];return a.useEffect(function(){null==s||s(i)},[i,s]),ma.jsx(ma.Fragment,{children:t(i)})},_j=function(e){var t=e.children,a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=void 0===s?0:s;return ma.jsx(wx,{defaultWidth:a,defaultHeight:r,children:function(e){var a=e.width,r=e.height;return ma.jsx(kj,{width:a,height:r,onResize:n,debounceResize:i,children:t})}})};function Cj(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sj.apply(null,arguments)}function Dj(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var Aj=["id","colors"],Oj={linearGradient:function(e){var t=e.id,a=e.colors,r=Dj(e,Aj);return ma.jsx("linearGradient",Sj({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:a.map(function(e){var t=e.offset,a=e.color,r=e.opacity;return ma.jsx("stop",{offset:t+"%",stopColor:a,stopOpacity:void 0!==r?r:1},t)})}))}},zj="#000000",Tj="#ffffff",Ej=4,Mj=4,Pj=!1,Lj=a.memo(function(e){var t=e.id,a=e.background,r=void 0===a?Tj:a,n=e.color,s=void 0===n?zj:n,i=e.size,o=void 0===i?Ej:i,l=e.padding,c=void 0===l?Mj:l,d=e.stagger,u=void 0===d?Pj:d,m=o+c,h=o/2,f=c/2;return!0===u&&(m=2*o+2*c),ma.jsxs("pattern",{id:t,width:m,height:m,patternUnits:"userSpaceOnUse",children:[ma.jsx("rect",{width:m,height:m,fill:r}),ma.jsx("circle",{cx:f+h,cy:f+h,r:h,fill:s}),u&&ma.jsx("circle",{cx:1.5*c+o+h,cy:1.5*c+o+h,r:h,fill:s})]})}),Ij=function(e){return e*Math.PI/180},$j=5,Fj=0,Rj="#000000",Bj="#ffffff",Wj=2,Uj=a.memo(function(e){var t=e.id,a=e.spacing,r=void 0===a?$j:a,n=e.rotation,s=void 0===n?Fj:n,i=e.background,o=void 0===i?Rj:i,l=e.color,c=void 0===l?Bj:l,d=e.lineWidth,u=void 0===d?Wj:d,m=Math.round(s)%360,h=Math.abs(r);m>180?m-=360:m>90?m-=180:m<-180?m+=360:m<-90&&(m+=180);var f,p=h,g=h;return 0===m?f="\n                M 0 0 L "+p+" 0\n                M 0 "+g+" L "+p+" "+g+"\n            ":90===m?f="\n                M 0 0 L 0 "+g+"\n                M "+p+" 0 L "+p+" "+g+"\n            ":(p=Math.abs(h/Math.sin(Ij(m))),g=h/Math.sin(Ij(90-m)),f=m>0?"\n                    M 0 "+-g+" L "+2*p+" "+g+"\n                    M "+-p+" "+-g+" L "+p+" "+g+"\n                    M "+-p+" 0 L "+p+" "+2*g+"\n                ":"\n                    M "+-p+" "+g+" L "+p+" "+-g+"\n                    M "+-p+" "+2*g+" L "+2*p+" "+-g+"\n                    M 0 "+2*g+" L "+2*p+" 0\n                "),ma.jsxs("pattern",{id:t,width:p,height:g,patternUnits:"userSpaceOnUse",children:[ma.jsx("rect",{width:p,height:g,fill:o,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),ma.jsx("path",{d:f,strokeWidth:u,stroke:c,strokeLinecap:"square"})]})}),Hj="#000000",Yj="#ffffff",Vj=4,Kj=4,Gj=!1,qj={patternDots:Lj,patternLines:Uj,patternSquares:a.memo(function(e){var t=e.id,a=e.color,r=void 0===a?Hj:a,n=e.background,s=void 0===n?Yj:n,i=e.size,o=void 0===i?Vj:i,l=e.padding,c=void 0===l?Kj:l,d=e.stagger,u=void 0===d?Gj:d,m=o+c,h=c/2;return!0===u&&(m=2*o+2*c),ma.jsxs("pattern",{id:t,width:m,height:m,patternUnits:"userSpaceOnUse",children:[ma.jsx("rect",{width:m,height:m,fill:s}),ma.jsx("rect",{x:h,y:h,width:o,height:o,fill:r}),u&&ma.jsx("rect",{x:1.5*c+o,y:1.5*c+o,width:o,height:o,fill:r})]})})},Zj=["type"],Qj=Sj({},Oj,qj),Xj=a.memo(function(e){var t=e.defs;return!t||t.length<1?null:ma.jsx("defs",{"aria-hidden":!0,children:t.map(function(e){var t=e.type,r=Dj(e,Zj);return Qj[t]?a.createElement(Qj[t],Sj({key:r.id},r)):null})})}),Jj=a.forwardRef(function(e,t){var a=e.width,r=e.height,n=e.margin,s=e.defs,i=e.children,o=e.role,l=e.ariaLabel,c=e.ariaLabelledBy,d=e.ariaDescribedBy,u=e.isFocusable,m=Xg();return ma.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:r,role:o,"aria-label":l,"aria-labelledby":c,"aria-describedby":d,focusable:u,tabIndex:u?0:void 0,ref:t,children:[ma.jsx(Xj,{defs:s}),ma.jsx("rect",{width:a,height:r,fill:m.background}),ma.jsx("g",{transform:"translate("+n.left+","+n.top+")",children:i})]})}),ew=a.memo(function(e){var t=e.size,a=e.color,r=e.borderWidth,n=e.borderColor;return ma.jsx("circle",{r:t/2,fill:a,stroke:n,strokeWidth:r,style:{pointerEvents:"none"}})});a.memo(function(e){var t=e.x,r=e.y,n=e.symbol,s=void 0===n?ew:n,i=e.size,o=e.datum,l=e.color,c=e.borderWidth,d=e.borderColor,u=e.label,m=e.labelTextAnchor,h=void 0===m?"middle":m,f=e.labelYOffset,p=void 0===f?-12:f,g=e.ariaLabel,x=e.ariaLabelledBy,y=e.ariaDescribedBy,b=e.ariaHidden,v=e.ariaDisabled,j=e.isFocusable,w=void 0!==j&&j,N=e.tabIndex,k=void 0===N?0:N,_=e.onFocus,C=e.onBlur,S=e.testId,D=Xg(),A=bj(),O=A.animate,z=qp({transform:"translate("+t+", "+r+")",config:A.config,immediate:!O}),T=a.useCallback(function(e){null==_||_(o,e)},[_,o]),E=a.useCallback(function(e){null==C||C(o,e)},[C,o]);return ma.jsxs(zg.g,{transform:z.transform,style:{pointerEvents:"none"},focusable:w,tabIndex:w?k:void 0,"aria-label":g,"aria-labelledby":x,"aria-describedby":y,"aria-disabled":v,"aria-hidden":b,onFocus:w&&_?T:void 0,onBlur:w&&C?E:void 0,"data-testid":S,children:[a.createElement(s,{size:i,color:l,datum:o,borderWidth:c,borderColor:d}),u&&ma.jsx("text",{textAnchor:h,y:p,style:Yg(D.dots.text),children:u})]})});var tw=a.memo(function(e){var t=e.width,a=e.height,r=e.axis,n=e.scale,s=e.value,i=e.lineStyle,o=e.textStyle,l=e.legend,c=e.legendNode,d=e.legendPosition,u=void 0===d?"top-right":d,m=e.legendOffsetX,h=void 0===m?14:m,f=e.legendOffsetY,p=void 0===f?14:f,g=e.legendOrientation,x=void 0===g?"horizontal":g,y=Xg(),b=0,v=0,j=0,w=0;if("y"===r?(j=n(s),v=t):(b=n(s),w=a),l&&!c){var N=function(e){var t=e.width,a=e.height,r=e.position,n=e.offsetX,s=e.offsetY,i=e.orientation,o=0,l=0,c="vertical"===i?-90:0,d="start";if("x"===e.axis)switch(r){case"top-left":o=-n,l=s,d="end";break;case"top":l=-s,d="horizontal"===i?"middle":"start";break;case"top-right":o=n,l=s,d="horizontal"===i?"start":"end";break;case"right":o=n,l=a/2,d="horizontal"===i?"start":"middle";break;case"bottom-right":o=n,l=a-s,d="start";break;case"bottom":l=a+s,d="horizontal"===i?"middle":"end";break;case"bottom-left":l=a-s,o=-n,d="horizontal"===i?"end":"start";break;case"left":o=-n,l=a/2,d="horizontal"===i?"end":"middle"}else switch(r){case"top-left":o=n,l=-s,d="start";break;case"top":o=t/2,l=-s,d="horizontal"===i?"middle":"start";break;case"top-right":o=t-n,l=-s,d="horizontal"===i?"end":"start";break;case"right":o=t+n,d="horizontal"===i?"start":"middle";break;case"bottom-right":o=t-n,l=s,d="end";break;case"bottom":o=t/2,l=s,d="horizontal"===i?"middle":"end";break;case"bottom-left":o=n,l=s,d="horizontal"===i?"start":"end";break;case"left":o=-n,d="horizontal"===i?"end":"middle"}return{x:o,y:l,rotation:c,textAnchor:d}}({axis:r,width:t,height:a,position:u,offsetX:h,offsetY:p,orientation:x});c=ma.jsx("text",{transform:"translate("+N.x+", "+N.y+") rotate("+N.rotation+")",textAnchor:N.textAnchor,dominantBaseline:"central",style:o,children:l})}return ma.jsxs("g",{transform:"translate("+b+", "+j+")",children:[ma.jsx("line",{x1:0,x2:v,y1:0,y2:w,stroke:y.markers.lineColor,strokeWidth:y.markers.lineStrokeWidth,style:i}),c]})});a.memo(function(e){var t=e.markers,a=e.width,r=e.height,n=e.xScale,s=e.yScale;return t&&0!==t.length?t.map(function(e,t){return ma.jsx(tw,Sj({},e,{width:a,height:r,scale:"y"===e.axis?s:n}),t)}):null});var aw=function(e){var t,r,n=bj(),s=n.animate,i=n.config,o=(t=e,r=a.useRef(),a.useEffect(function(){r.current=t},[t]),r.current),l=a.useMemo(function(){return Et(o,e)},[o,e]),c=qp({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!s}).value;return ag(c,l)};a.createContext(void 0);var rw={basis:Ot,basisClosed:At,basisOpen:Dt,bundle:St,cardinal:Ct,cardinalClosed:_t,cardinalOpen:kt,catmullRom:Nt,catmullRomClosed:wt,catmullRomOpen:jt,linear:vt,linearClosed:bt,monotoneX:yt,monotoneY:xt,natural:gt,step:pt,stepAfter:ft,stepBefore:ht},nw=Object.keys(rw);nw.filter(function(e){return e.endsWith("Closed")}),Ax(nw,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),Ax(nw,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),ut(Wx),ut(Hx),ut(Vx),ut(Gx),ut(Zx),ut(Xx),ut(ey),ut(ay),ut(ny),ut(Oy),ut(Ty),ut(My),ut(Ry),ut(Ly),ut($y),ut(iy),ut(ly),ut(dy),ut(my),ut(fy),ut(gy),ut(yy),ut(vy),ut(wy),ut(ky),ut(Cy),ut(Dy),ut(Wx),ut(Hx),ut(Vx),ut(Gx),ut(Zx),ut(Xx),ut(ey),ut(ay),ut(ny),ut(Oy),ut(Ty),ut(My),ut(Ry),ut(Ly),ut($y),ut(iy),ut(ly),ut(dy),ut(my),ut(fy),ut(gy),ut(yy),ut(vy),ut(wy),ut(ky),ut(Cy),ut(Dy),mt(Fx);var sw,iw,ow={top:0,right:0,bottom:0,left:0},lw=function(e,t,r){return void 0===r&&(r={}),a.useMemo(function(){var a=Sj({},ow,r);return{margin:a,innerWidth:e-a.left-a.right,innerHeight:t-a.top-a.bottom,outerWidth:e,outerHeight:t}},[e,t,r])},cw=function(){var e=a.useRef(null),t=a.useState({left:0,top:0,width:0,height:0}),r=t[0],n=t[1],s=a.useState(function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver(function(e){var t=e[0];return n(t.contentRect)})})[0];return a.useEffect(function(){return e.current&&null!==s&&s.observe(e.current),function(){null!==s&&s.disconnect()}},[s]),[e,r]},dw=function(e){return a.useMemo(function(){return function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?Ub(e.slice("5")):cb(e):function(e){return""+e}}(e)},[e])},uw=function(e){return a.useMemo(function(){return function(e){return Tt(e)?e:function(t){return Qe(t,e)}}(e)},[e])},mw=function(e,t,a,r,n,s){return e<=n&&n<=e+a&&t<=s&&s<=t+r},hw=function(e,t){var a,r="touches"in t?t.touches[0]:t,n=r.clientX,s=r.clientY,i=e.getBoundingClientRect(),o=(a=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===i.width?1:a.width/i.width;return[(n-i.left)*o,(s-i.top)*o]},fw=Object.keys(Oj),pw=Object.keys(qj),gw=function(e,t,a,r){var n={},s=n.dataKey,i=n.colorKey,o=void 0===i?"color":i,l=n.targetKey,c=void 0===l?"fill":l,d=[],u={};return e.length&&t.length&&(d=[].concat(e),t.forEach(function(t){for(var r,n=function(){var a=r.value,n=a.id;if(function(e,t,a){if("*"===e)return!0;if(Tt(e))return e(t);if(Mt(e)){var r=a?Qe(t,a):t;return Pt(fj(r,Object.keys(e)),e)}return!1}(a.match,t,s)){var i=e.find(function(e){return e.id===n});if(i)if(pw.includes(i.type))if("inherit"===i.background||"inherit"===i.color){var l=Qe(t,o),m=i.background,h=i.color,f=n;"inherit"===i.background&&(f=f+".bg."+l,m=l),"inherit"===i.color&&(f=f+".fg."+l,h=l),Wg(t,c,"url(#"+f+")"),u[f]||(d.push(Sj({},i,{id:f,background:m,color:h})),u[f]=1)}else Wg(t,c,"url(#"+n+")");else if(fw.includes(i.type))if(i.colors.map(function(e){return e.color}).includes("inherit")){var p=Qe(t,o),g=n,x=Sj({},i,{colors:i.colors.map(function(e,t){return"inherit"!==e.color?e:(g=g+"."+t+"."+p,Sj({},e,{color:"inherit"===e.color?p:e.color}))})});x.id=g,Wg(t,c,"url(#"+g+")"),u[g]||(d.push(x),u[g]=1)}else Wg(t,c,"url(#"+n+")");return 1}},i=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Cj(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Cj(e,t):void 0}}(e))||t){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a);!(r=i()).done&&!n(););})),d};function xw(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){for(var a=0,r=t;a<r.length;a++){var n=r[a];"function"==typeof n?n(e):null!=n&&(n.current=e)}}}const yw=l(function(){if(iw)return sw;iw=1;var e=Lt();return sw=function(t){return e(t,5)}}());var bw,vw,jw,ww,Nw,kw,_w,Cw,Sw,Dw,Aw,Ow,zw,Tw,Ew,Mw,Pw,Lw,Iw,$w;function Fw(){if(kw)return Nw;kw=1;var e=(ww?jw:(ww=1,jw=function(e){return function(t){return null==e?void 0:e[t]}}))({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});return Nw=e}function Rw(){if(Mw)return Ew;Mw=1;var e=function(){if(Dw)return Sw;Dw=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;return Sw=function(t){return t.match(e)||[]}}(),t=function(){if(Ow)return Aw;Ow=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;return Aw=function(t){return e.test(t)}}(),a=It(),r=function(){if(Tw)return zw;Tw=1;var e="\\ud800-\\udfff",t="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+n+"]",i="\\d+",o="["+t+"]",l="["+a+"]",c="[^"+e+n+i+t+a+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+r+"]",h="(?:"+l+"|"+c+")",f="(?:"+m+"|"+c+")",p="(?:['’](?:d|ll|m|re|s|t|ve))?",g="(?:['’](?:D|LL|M|RE|S|T|VE))?",x="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",b=y+x+"(?:\\u200d(?:"+["[^"+e+"]",d,u].join("|")+")"+y+x+")*",v="(?:"+[o,d,u].join("|")+")"+b,j=RegExp([m+"?"+l+"+"+p+"(?="+[s,m,"$"].join("|")+")",f+"+"+g+"(?="+[s,m+h,"$"].join("|")+")",m+"?"+h+"+"+p,m+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,v].join("|"),"g");return zw=function(e){return e.match(j)||[]}}();return Ew=function(n,s,i){return n=a(n),void 0===(s=i?void 0:s)?t(n)?r(n):e(n):n.match(s)||[]}}function Bw(){if(Lw)return Pw;Lw=1;var e=vw?bw:(vw=1,bw=function(e,t,a,r){var n=-1,s=null==e?0:e.length;for(r&&s&&(a=e[++n]);++n<s;)a=t(a,e[n],n,e);return a}),t=function(){if(Cw)return _w;Cw=1;var e=Fw(),t=It(),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");return _w=function(n){return(n=t(n))&&n.replace(a,e).replace(r,"")}}(),a=Rw(),r=RegExp("['’]","g");return Pw=function(n){return function(s){return e(a(t(s).replace(r,"")),n,"")}}}const Ww=l(function(){if($w)return Iw;$w=1;var e=Bw(),t=$t(),a=e(function(e,a,r){return e+(r?" ":"")+t(a)});return Iw=a}());function Uw(e){var t=0,a=e.children,r=a&&a.length;if(r)for(;--r>=0;)t+=a[r].value;else t=1;e.value=t}function Hw(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Vw)):void 0===t&&(t=Yw);for(var a,r,n,s,i,o=new qw(e),l=[o];a=l.pop();)if((n=t(a.data))&&(i=(n=Array.from(n)).length))for(a.children=n,s=i-1;s>=0;--s)l.push(r=n[s]=new qw(n[s])),r.parent=a,r.depth=a.depth+1;return o.eachBefore(Gw)}function Yw(e){return e.children}function Vw(e){return Array.isArray(e)?e[1]:null}function Kw(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Gw(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function qw(e){this.data=e,this.depth=this.height=0,this.parent=null}function Zw(){return 0}function Qw(e){return function(){return e}}function Xw(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Jw(e,t,a,r,n){for(var s,i=e.children,o=-1,l=i.length,c=e.value&&(r-t)/e.value;++o<l;)(s=i[o]).y0=a,s.y1=n,s.x0=t,s.x1=t+=s.value*c}function eN(e,t,a,r,n){for(var s,i=e.children,o=-1,l=i.length,c=e.value&&(n-a)/e.value;++o<l;)(s=i[o]).x0=t,s.x1=r,s.y0=a,s.y1=a+=s.value*c}qw.prototype=Hw.prototype={constructor:qw,count:function(){return this.eachAfter(Uw)},each:function(e,t){let a=-1;for(const r of this)e.call(t,r,++a,this);return this},eachAfter:function(e,t){for(var a,r,n,s=this,i=[s],o=[],l=-1;s=i.pop();)if(o.push(s),a=s.children)for(r=0,n=a.length;r<n;++r)i.push(a[r]);for(;s=o.pop();)e.call(t,s,++l,this);return this},eachBefore:function(e,t){for(var a,r,n=this,s=[n],i=-1;n=s.pop();)if(e.call(t,n,++i,this),a=n.children)for(r=a.length-1;r>=0;--r)s.push(a[r]);return this},find:function(e,t){let a=-1;for(const r of this)if(e.call(t,r,++a,this))return r},sum:function(e){return this.eachAfter(function(t){for(var a=+e(t.data)||0,r=t.children,n=r&&r.length;--n>=0;)a+=r[n].value;t.value=a})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,a=function(e,t){if(e===t)return e;var a=e.ancestors(),r=t.ancestors(),n=null;e=a.pop(),t=r.pop();for(;e===t;)n=e,e=a.pop(),t=r.pop();return n}(t,e),r=[t];t!==a;)t=t.parent,r.push(t);for(var n=r.length;e!==a;)r.splice(n,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(a){a!==e&&t.push({source:a.parent,target:a})}),t},copy:function(){return Hw(this).eachBefore(Kw)},[Symbol.iterator]:function*(){var e,t,a,r,n=this,s=[n];do{for(e=s.reverse(),s=[];n=e.pop();)if(yield n,t=n.children)for(a=0,r=t.length;a<r;++a)s.push(t[a])}while(s.length)}};const tN=function e(t){function a(e,a,r,n,s){!function(e,t,a,r,n,s){for(var i,o,l,c,d,u,m,h,f,p,g,x=[],y=t.children,b=0,v=0,j=y.length,w=t.value;b<j;){l=n-a,c=s-r;do{d=y[v++].value}while(!d&&v<j);for(u=m=d,g=d*d*(p=Math.max(c/l,l/c)/(w*e)),f=Math.max(m/g,g/u);v<j;++v){if(d+=o=y[v].value,o<u&&(u=o),o>m&&(m=o),g=d*d*p,(h=Math.max(m/g,g/u))>f){d-=o;break}f=h}x.push(i={value:d,dice:l<c,children:y.slice(b,v)}),i.dice?Jw(i,a,r,n,w?r+=c*d/w:s):eN(i,a,r,w?a+=l*d/w:n,s),w-=d,b=v}}(t,e,a,r,n,s)}return a.ratio=function(t){return e((t=+t)>1?t:1)},a}((1+Math.sqrt(5))/2);function aN(){var e=tN,t=!1,a=1,r=1,n=[0],s=Zw,i=Zw,o=Zw,l=Zw,c=Zw;function d(e){return e.x0=e.y0=0,e.x1=a,e.y1=r,e.eachBefore(u),n=[0],t&&e.eachBefore(Xw),e}function u(t){var a=n[t.depth],r=t.x0+a,d=t.y0+a,u=t.x1-a,m=t.y1-a;u<r&&(r=u=(r+u)/2),m<d&&(d=m=(d+m)/2),t.x0=r,t.y0=d,t.x1=u,t.y1=m,t.children&&(a=n[t.depth+1]=s(t)/2,r+=c(t)-a,d+=i(t)-a,(u-=o(t)-a)<r&&(r=u=(r+u)/2),(m-=l(t)-a)<d&&(d=m=(d+m)/2),e(t,r,d,u,m))}return d.round=function(e){return arguments.length?(t=!!e,d):t},d.size=function(e){return arguments.length?(a=+e[0],r=+e[1],d):[a,r]},d.tile=function(t){return arguments.length?(e=function(e){if("function"!=typeof e)throw new Error;return e}(t),d):e},d.padding=function(e){return arguments.length?d.paddingInner(e).paddingOuter(e):d.paddingInner()},d.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:Qw(+e),d):s},d.paddingOuter=function(e){return arguments.length?d.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):d.paddingTop()},d.paddingTop=function(e){return arguments.length?(i="function"==typeof e?e:Qw(+e),d):i},d.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:Qw(+e),d):o},d.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:Qw(+e),d):l},d.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:Qw(+e),d):c},d}function rN(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},nN.apply(null,arguments)}var sN={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:zx,accent:Tx,dark2:Ex,paired:Mx,pastel1:Px,pastel2:Lx,set1:Ix,set2:$x,set3:Fx,tableau10:Rx},iN=Object.keys(sN),oN={brown_blueGreen:Wx,purpleRed_green:Hx,pink_yellowGreen:Vx,purple_orange:Gx,red_blue:Zx,red_grey:Xx,red_yellow_blue:ey,red_yellow_green:ay,spectral:ny},lN=Object.keys(oN),cN={brown_blueGreen:Ux,purpleRed_green:Yx,pink_yellowGreen:Kx,purple_orange:qx,red_blue:Qx,red_grey:Jx,red_yellow_blue:ty,red_yellow_green:ry,spectral:sy},dN={blues:Oy,greens:Ty,greys:My,oranges:Ry,purples:Ly,reds:$y,blue_green:iy,blue_purple:ly,green_blue:dy,orange_red:my,purple_blue_green:fy,purple_blue:gy,purple_red:yy,red_purple:vy,yellow_green_blue:wy,yellow_green:ky,yellow_orange_brown:Cy,yellow_orange_red:Dy},uN=Object.keys(dN),mN={blues:zy,greens:Ey,greys:Py,oranges:By,purples:Iy,reds:Fy,turbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:Zy,inferno:Xy,magma:Qy,plasma:Jy,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:Uy,cool:Hy,cubehelixDefault:Wy,blue_green:oy,blue_purple:cy,green_blue:uy,orange_red:hy,purple_blue_green:py,purple_blue:xy,purple_red:by,red_purple:jy,yellow_green_blue:Ny,yellow_green:_y,yellow_orange_brown:Sy,yellow_orange_red:Ay},hN=nN({},sN,oN,dN);nN({},cN,mN,{rainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Yy.h=360*e-100,Yy.s=1.5-1.5*t,Yy.l=.8-.9*t,Yy+""},sinebow:function(e){var t;return e=(.5-e)*Math.PI,Vy.r=255*(t=Math.sin(e))*t,Vy.g=255*(t=Math.sin(e+Ky))*t,Vy.b=255*(t=Math.sin(e+Gy))*t,Vy+""}});var fN=function(e,t){if("function"==typeof e)return e;if(Mt(e)){if(function(e){return void 0!==e.theme}(e)){if(void 0===t)throw new Error("Unable to use color from theme as no theme was provided");var a=Qe(t,e.theme);if(void 0===a)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return a}}if(function(e){return void 0!==e.from}(e)){var r=function(t){return Qe(t,e.from)};if(Array.isArray(e.modifiers)){for(var n,s=[],i=function(){var e=n.value,t=e[0],a=e[1];if("brighter"===t)s.push(function(e){return e.brighter(a)});else if("darker"===t)s.push(function(e){return e.darker(a)});else{if("opacity"!==t)throw new Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");s.push(function(e){return e.opacity=a,e})}},o=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return rN(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?rN(e,t):void 0}}(e))||t){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(n=o()).done;)i();return 0===s.length?r:function(e){return s.reduce(function(e,t){return t(e)},ot(r(e))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},pN=function(e,t){return a.useMemo(function(){return fN(e,t)},[e,t])},gN=function(e,t){if("function"==typeof e)return e;var a="function"==typeof t?t:function(e){return Qe(e,t)};if(Array.isArray(e)){var r=mt(e),n=function(e){return r(a(e))};return n.scale=r,n}if(Mt(e)){if(void 0!==e.datum)return function(t){return Qe(t,e.datum)};if(function(e){return void 0!==e.scheme}(e)){if(function(e){return iN.includes(e)}(e.scheme)){var s=mt(hN[e.scheme]),i=function(e){return s(a(e))};return i.scale=s,i}if(function(e){return lN.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var o=mt(hN[e.scheme][e.size||11]),l=function(e){return o(a(e))};return l.scale=o,l}if(function(e){return uN.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var c=mt(hN[e.scheme][e.size||9]),d=function(e){return c(a(e))};return d.scale=c,d}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},xN=function(e,t){return a.useMemo(function(){return gN(e,t)},[e,t])},yN=function(e,t){e.font=(t.fontWeight?t.fontWeight+" ":"")+t.fontSize+"px "+t.fontFamily},bN=function(e,t,a,r,n){void 0===r&&(r=0),void 0===n&&(n=0),t.outlineWidth>0&&(e.strokeStyle=t.outlineColor,e.lineWidth=2*t.outlineWidth,e.lineJoin="round",e.strokeText(a,r,n)),e.fillStyle=t.fill,e.fillText(a,r,n)};function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vN.apply(null,arguments)}function jN(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var wN=["style","children"],NN=["outlineWidth","outlineColor","outlineOpacity"],kN=function(e){var t=e.style,a=e.children,r=jN(e,wN),n=t.outlineWidth,s=t.outlineColor,i=t.outlineOpacity,o=jN(t,NN);return ma.jsxs(ma.Fragment,{children:[n>0&&ma.jsx(zg.text,vN({},r,{style:vN({},o,{strokeWidth:2*n,stroke:s,strokeOpacity:i,strokeLinejoin:"round"}),children:a})),ma.jsx(zg.text,vN({},r,{style:o,children:a}))]})};function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_N.apply(null,arguments)}function CN(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var SN=function(e,t){return ag([e,t],function(e,t){return"translate("+e+","+t+")"})},DN=function(e,t){return ag([e,t],function(e,t){return"translate("+e+"px, "+t+"px)"})},AN=function(e,t,a){return ag([e,t,a],function(e,t,a){return"translate("+e+","+t+") rotate("+a+")"})},ON=function(e,t,a){return ag([e,t,a],function(e,t,a){return"translate("+e+"px,"+t+"px) rotate("+a+"deg)"})},zN=function(e,t,a){return ag([e,t,a],function(e,t,a){return"translate("+(e-(0===a?0:5))+"px,"+(t-(0===a?5:0))+"px) rotate("+a+"deg)"})},TN=a.memo(function(e){var t=e.node,a=e.animatedProps,r=e.borderWidth,n=e.enableLabel,s=e.enableParentLabel,i=e.labelSkipSize,o=Xg(),l=n&&t.isLeaf&&(0===i||Math.min(t.width,t.height)>i),c=s&&t.isParent;return ma.jsxs(zg.g,{transform:SN(a.x,a.y),children:[ma.jsx(zg.rect,{"data-testid":"node."+t.id,width:ag(a.width,function(e){return Math.max(e,0)}),height:ag(a.height,function(e){return Math.max(e,0)}),fill:t.fill?t.fill:a.color,strokeWidth:r,stroke:t.borderColor,fillOpacity:t.opacity,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),l&&ma.jsx(kN,{"data-testid":"label."+t.id,textAnchor:"middle",dominantBaseline:"central",style:_N({},o.labels.text,{fill:t.labelTextColor,pointerEvents:"none"}),fillOpacity:a.labelOpacity,transform:AN(a.labelX,a.labelY,a.labelRotation),children:t.label}),c&&ma.jsx(kN,{"data-testid":"parentLabel."+t.id,dominantBaseline:"central",style:_N({},o.labels.text,{fill:t.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:a.parentLabelOpacity,transform:AN(a.parentLabelX,a.parentLabelY,a.parentLabelRotation),children:t.parentLabel})]})}),EN=a.memo(function(e){var t=e.node;return ma.jsx(sx,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})}),MN=a.memo(function(e){var t=e.node,a=e.animatedProps,r=e.borderWidth,n=e.enableLabel,s=e.enableParentLabel,i=e.labelSkipSize,o=Xg(),l=n&&t.isLeaf&&(0===i||Math.min(t.width,t.height)>i),c=s&&t.isParent;return ma.jsxs(zg.div,{"data-testid":"node."+t.id,id:t.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:DN(a.x,a.y),width:a.width,height:a.height,borderWidth:r,borderStyle:"solid",borderColor:t.borderColor,overflow:"hidden"},children:[ma.jsx(zg.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:t.opacity,width:a.width,height:a.height,background:a.color},onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),l&&ma.jsx(zg.span,{"data-testid":"label."+t.id,style:_N({},o.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:t.labelTextColor,transformOrigin:"center center",transform:ON(a.labelX,a.labelY,a.labelRotation),opacity:a.labelOpacity,pointerEvents:"none"}),children:t.label}),c&&ma.jsx(zg.span,{"data-testid":"parentLabel."+t.id,style:_N({},o.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:t.parentLabelTextColor,transformOrigin:"top left",transform:zN(a.parentLabelX,a.parentLabelY,a.parentLabelRotation),opacity:a.parentLabelOpacity,pointerEvents:"none"}),children:t.parentLabel})]})}),PN={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:EN,role:"img",animate:!0,motionConfig:"gentle"},LN=_N({},PN,{nodeComponent:TN,defs:[],fill:[]}),IN=_N({},PN,{nodeComponent:MN}),$N=_N({},PN,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),FN={binary:function(e,t,a,r,n){var s,i,o=e.children,l=o.length,c=new Array(l+1);for(c[0]=i=s=0;s<l;++s)c[s+1]=i+=o[s].value;!function e(t,a,r,n,s,i,l){if(t>=a-1){var d=o[t];return d.x0=n,d.y0=s,d.x1=i,void(d.y1=l)}var u=c[t],m=r/2+u,h=t+1,f=a-1;for(;h<f;){var p=h+f>>>1;c[p]<m?h=p+1:f=p}m-c[h-1]<c[h]-m&&t+1<h&&--h;var g=c[h]-u,x=r-g;if(i-n>l-s){var y=r?(n*x+i*g)/r:i;e(t,h,g,n,s,y,l),e(h,a,x,y,s,i,l)}else{var b=r?(s*x+l*g)/r:l;e(t,h,g,n,s,i,b),e(h,a,x,n,b,i,l)}}(0,l,e.value,t,a,r,n)},dice:Jw,slice:eN,sliceDice:function(e,t,a,r,n){(1&e.depth?eN:Jw)(e,t,a,r,n)},squarify:tN},RN=function(e){var t,r,n,s,i,o,l,c,d,u,m=e.data,h=e.width,f=e.height,p=e.identity,g=void 0===p?PN.identity:p,x=e.value,y=void 0===x?PN.value:x,b=e.valueFormat,v=e.leavesOnly,j=void 0===v?PN.leavesOnly:v,w=e.tile,N=void 0===w?PN.tile:w,k=e.innerPadding,_=void 0===k?PN.innerPadding:k,C=e.outerPadding,S=void 0===C?PN.outerPadding:C,D=e.label,A=void 0===D?PN.label:D,O=e.orientLabel,z=void 0===O?PN.orientLabel:O,T=e.enableParentLabel,E=void 0===T?PN.enableParentLabel:T,M=e.parentLabel,P=void 0===M?PN.parentLabel:M,L=e.parentLabelSize,I=void 0===L?PN.parentLabelSize:L,$=e.parentLabelPosition,F=void 0===$?PN.parentLabelPosition:$,R=e.parentLabelPadding,B=void 0===R?PN.parentLabelPadding:R,W=e.colors,U=void 0===W?PN.colors:W,H=e.colorBy,Y=void 0===H?PN.colorBy:H,V=e.nodeOpacity,K=void 0===V?PN.nodeOpacity:V,G=e.borderColor,q=void 0===G?PN.borderColor:G,Z=e.labelTextColor,Q=void 0===Z?PN.labelTextColor:Z,X=e.parentLabelTextColor,J=void 0===X?PN.parentLabelTextColor:X,ee=uw(g),te=uw(y),ae=dw(b),re=uw(A),ne=uw(P),se=(r=(t={width:h,height:f,tile:N,innerPadding:_,outerPadding:S,enableParentLabel:E,parentLabelSize:I,parentLabelPosition:F,leavesOnly:j}).width,n=t.height,s=t.tile,i=t.innerPadding,o=t.outerPadding,l=t.enableParentLabel,c=t.parentLabelSize,d=t.parentLabelPosition,u=t.leavesOnly,a.useMemo(function(){var e=aN().size([r,n]).tile(FN[s]).round(!0).paddingInner(i).paddingOuter(o);if(l&&!u){var t=c+2*o;e["padding"+Ww(d)](t)}return e},[r,n,s,i,o,l,c,d,u])),ie=function(e){var t=e.root,r=e.getValue;return a.useMemo(function(){return Hw(t).sum(r)},[t,r])}({root:m,getValue:te}),oe=a.useMemo(function(){var e=yw(ie);return se(e),j?e.leaves():e.descendants()},[ie,se,j]),le=a.useMemo(function(){return oe.map(function(e){var t,a,r=(t=ee,{path:(a=e.ancestors().map(function(e){return t(e.data)}).reverse()).join("."),pathComponents:a}),n=r.path,s=r.pathComponents,i={id:ee(e.data),path:n,pathComponents:s,data:Ft(e.data,"children"),x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,value:e.value,formattedValue:ae(e.value),treeDepth:e.depth,treeHeight:e.height,isParent:e.height>0,isLeaf:0===e.height,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return i.labelRotation=z&&i.height>i.width?-90:0,"top"===F&&(i.parentLabelX=S+B,i.parentLabelY=S+I/2),"right"===F&&(i.parentLabelX=i.width-S-I/2,i.parentLabelY=i.height-S-B,i.parentLabelRotation=-90),"bottom"===F&&(i.parentLabelX=S+B,i.parentLabelY=i.height-S-I/2),"left"===F&&(i.parentLabelX=S+I/2,i.parentLabelY=i.height-S-B,i.parentLabelRotation=-90),i.label=re(i),i.parentLabel=ne(i),i})},[oe,ee,ae,re,z,ne,I,F,B,S]),ce=Xg(),de=xN(U,Y),ue=pN(q,ce),me=pN(Q,ce),he=pN(J,ce),fe=a.useMemo(function(){return le.map(function(e){var t=_N({},e,{color:de(e),opacity:K});return t.borderColor=ue(t),t.labelTextColor=me(t),t.parentLabelTextColor=he(t),t})},[le,de,K,ue,me,he]);return{hierarchy:ie,nodes:fe,layout:se}},BN=function(e){var t=e.nodes;return a.useMemo(function(){return{nodes:t}},[t])},WN=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,labelX:e.width/2,labelY:e.height/2,labelRotation:e.labelRotation,labelOpacity:1,parentLabelX:e.parentLabelX,parentLabelY:e.parentLabelY,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:1}},UN=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2,width:0,height:0,color:e.color,labelX:0,labelY:0,labelRotation:e.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:0}},HN=a.memo(function(e){var t,r,n,s,i,o,l,c,d,u,m,h,f,p,g,x,y=e.nodes,b=e.nodeComponent,v=e.borderWidth,j=e.enableLabel,w=e.labelSkipSize,N=e.enableParentLabel,k=(t=y,r={isInteractive:e.isInteractive,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,tooltip:e.tooltip},n=r.isInteractive,s=r.onMouseEnter,i=r.onMouseMove,o=r.onMouseLeave,l=r.onClick,c=r.tooltip,d=ux(),u=d.showTooltipFromEvent,m=d.hideTooltip,h=a.useCallback(function(e,t){u(a.createElement(c,{node:e}),t,"left")},[u,c]),f=a.useCallback(function(e,t){h(e,t),null==s||s(e,t)},[s,h]),p=a.useCallback(function(e,t){h(e,t),null==i||i(e,t)},[i,h]),g=a.useCallback(function(e,t){m(),null==o||o(e,t)},[o,m]),x=a.useCallback(function(e,t){null==l||l(e,t)},[l]),a.useMemo(function(){return t.map(function(e){return n?_N({},e,{onMouseEnter:function(t){return f(e,t)},onMouseMove:function(t){return p(e,t)},onMouseLeave:function(t){return g(e,t)},onClick:function(t){return x(e,t)}}):e})},[n,t,f,p,g,x])),_=bj(),C=_.animate,S=_.config,D=Zp(k,{keys:function(e){return e.path},initial:WN,from:UN,enter:WN,update:WN,leave:UN,config:S,immediate:!C});return ma.jsx(ma.Fragment,{children:D(function(e,t){return a.createElement(b,{key:t.path,node:t,animatedProps:e,borderWidth:v,enableLabel:j,labelSkipSize:w,enableParentLabel:N})})})}),YN=["isInteractive","animate","motionConfig","theme","renderWrapper"],VN=function(e){var t=e.data,r=e.identity,n=void 0===r?LN.identity:r,s=e.value,i=void 0===s?LN.value:s,o=e.valueFormat,l=e.tile,c=void 0===l?LN.tile:l,d=e.nodeComponent,u=void 0===d?LN.nodeComponent:d,m=e.innerPadding,h=void 0===m?LN.innerPadding:m,f=e.outerPadding,p=void 0===f?LN.outerPadding:f,g=e.leavesOnly,x=void 0===g?LN.leavesOnly:g,y=e.width,b=e.height,v=e.margin,j=e.layers,w=void 0===j?LN.layers:j,N=e.colors,k=void 0===N?LN.colors:N,_=e.colorBy,C=void 0===_?LN.colorBy:_,S=e.nodeOpacity,D=void 0===S?LN.nodeOpacity:S,A=e.borderWidth,O=void 0===A?LN.borderWidth:A,z=e.borderColor,T=void 0===z?LN.borderColor:z,E=e.defs,M=void 0===E?LN.defs:E,P=e.fill,L=void 0===P?LN.fill:P,I=e.enableLabel,$=void 0===I?LN.enableLabel:I,F=e.label,R=void 0===F?LN.label:F,B=e.labelTextColor,W=void 0===B?LN.labelTextColor:B,U=e.orientLabel,H=void 0===U?LN.orientLabel:U,Y=e.labelSkipSize,V=void 0===Y?LN.labelSkipSize:Y,K=e.enableParentLabel,G=void 0===K?LN.enableParentLabel:K,q=e.parentLabel,Z=void 0===q?LN.parentLabel:q,Q=e.parentLabelSize,X=void 0===Q?LN.parentLabelSize:Q,J=e.parentLabelPosition,ee=void 0===J?LN.parentLabelPosition:J,te=e.parentLabelPadding,ae=void 0===te?LN.parentLabelPadding:te,re=e.parentLabelTextColor,ne=void 0===re?LN.parentLabelTextColor:re,se=e.isInteractive,ie=void 0===se?LN.isInteractive:se,oe=e.onMouseEnter,le=e.onMouseMove,ce=e.onMouseLeave,de=e.onClick,ue=e.tooltip,me=void 0===ue?LN.tooltip:ue,he=e.role,fe=e.ariaLabel,pe=e.ariaLabelledBy,ge=e.ariaDescribedBy,xe=e.forwardedRef,ye=lw(y,b,v),be=ye.margin,ve=ye.innerWidth,je=ye.innerHeight,we=ye.outerWidth,Ne=ye.outerHeight,ke=RN({data:t,identity:n,value:i,valueFormat:o,leavesOnly:x,width:ve,height:je,tile:c,innerPadding:h,outerPadding:p,colors:k,colorBy:C,nodeOpacity:D,borderColor:T,label:R,labelTextColor:W,orientLabel:H,enableParentLabel:G,parentLabel:Z,parentLabelSize:X,parentLabelPosition:ee,parentLabelPadding:ae,parentLabelTextColor:ne}).nodes,_e={nodes:null};w.includes("nodes")&&(_e.nodes=ma.jsx(HN,{nodes:ke,nodeComponent:u,borderWidth:O,enableLabel:$,labelSkipSize:V,enableParentLabel:G,isInteractive:ie,onMouseEnter:oe,onMouseMove:le,onMouseLeave:ce,onClick:de,tooltip:me},"nodes"));var Ce=BN({nodes:ke}),Se=gw(M,ke,L);return ma.jsx(Jj,{width:we,height:Ne,margin:be,defs:Se,role:he,ariaLabel:fe,ariaLabelledBy:pe,ariaDescribedBy:ge,ref:xe,children:w.map(function(e,t){var r;return"function"==typeof e?ma.jsx(a.Fragment,{children:a.createElement(e,Ce)},t):null!=(r=null==_e?void 0:_e[e])?r:null})})},KN=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?LN.isInteractive:a,n=e.animate,s=void 0===n?LN.animate:n,i=e.motionConfig,o=void 0===i?LN.motionConfig:i,l=e.theme,c=e.renderWrapper,d=CN(e,YN);return ma.jsx(wj,{animate:s,isInteractive:r,motionConfig:o,renderWrapper:c,theme:l,children:ma.jsx(VN,_N({},d,{isInteractive:r,forwardedRef:t}))})}),GN=["defaultWidth","defaultHeight","onResize","debounceResize"],qN=a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=CN(e,GN);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(KN,_N({},i,{width:a,height:r,ref:t}))}})}),ZN=["isInteractive","animate","motionConfig","theme","renderWrapper"],QN=function(e){var t=e.data,r=e.identity,n=void 0===r?IN.identity:r,s=e.value,i=void 0===s?IN.value:s,o=e.tile,l=void 0===o?IN.tile:o,c=e.nodeComponent,d=void 0===c?IN.nodeComponent:c,u=e.valueFormat,m=e.innerPadding,h=void 0===m?IN.innerPadding:m,f=e.outerPadding,p=void 0===f?IN.outerPadding:f,g=e.leavesOnly,x=void 0===g?IN.leavesOnly:g,y=e.width,b=e.height,v=e.margin,j=e.layers,w=void 0===j?LN.layers:j,N=e.colors,k=void 0===N?IN.colors:N,_=e.colorBy,C=void 0===_?IN.colorBy:_,S=e.nodeOpacity,D=void 0===S?IN.nodeOpacity:S,A=e.borderWidth,O=void 0===A?IN.borderWidth:A,z=e.borderColor,T=void 0===z?IN.borderColor:z,E=e.enableLabel,M=void 0===E?IN.enableLabel:E,P=e.label,L=void 0===P?IN.label:P,I=e.labelTextColor,$=void 0===I?IN.labelTextColor:I,F=e.orientLabel,R=void 0===F?IN.orientLabel:F,B=e.labelSkipSize,W=void 0===B?IN.labelSkipSize:B,U=e.enableParentLabel,H=void 0===U?IN.enableParentLabel:U,Y=e.parentLabel,V=void 0===Y?IN.parentLabel:Y,K=e.parentLabelSize,G=void 0===K?IN.parentLabelSize:K,q=e.parentLabelPosition,Z=void 0===q?IN.parentLabelPosition:q,Q=e.parentLabelPadding,X=void 0===Q?IN.parentLabelPadding:Q,J=e.parentLabelTextColor,ee=void 0===J?IN.parentLabelTextColor:J,te=e.isInteractive,ae=void 0===te?IN.isInteractive:te,re=e.onMouseEnter,ne=e.onMouseMove,se=e.onMouseLeave,ie=e.onClick,oe=e.tooltip,le=void 0===oe?IN.tooltip:oe,ce=e.role,de=e.ariaLabel,ue=e.ariaLabelledBy,me=e.ariaDescribedBy,he=e.forwardedRef,fe=lw(y,b,v),pe=fe.margin,ge=fe.innerWidth,xe=fe.innerHeight,ye=fe.outerWidth,be=fe.outerHeight,ve=RN({data:t,identity:n,value:i,valueFormat:u,leavesOnly:x,width:ge,height:xe,tile:l,innerPadding:h,outerPadding:p,colors:k,colorBy:C,nodeOpacity:D,borderColor:T,label:L,labelTextColor:$,orientLabel:R,enableParentLabel:H,parentLabel:V,parentLabelSize:G,parentLabelPosition:Z,parentLabelPadding:X,parentLabelTextColor:ee}).nodes,je={nodes:null};w.includes("nodes")&&(je.nodes=ma.jsx(HN,{nodes:ve,nodeComponent:d,borderWidth:O,enableLabel:M,labelSkipSize:W,enableParentLabel:H,isInteractive:ae,onMouseEnter:re,onMouseMove:ne,onMouseLeave:se,onClick:ie,tooltip:le},"nodes"));var we=BN({nodes:ve});return ma.jsx("div",{role:ce,"aria-label":de,"aria-labelledby":ue,"aria-describedby":me,style:{position:"relative",width:ye,height:be},ref:he,children:ma.jsx("div",{style:{position:"absolute",top:pe.top,left:pe.left},children:w.map(function(e,t){var r;return"function"==typeof e?ma.jsx(a.Fragment,{children:a.createElement(e,we)},t):null!=(r=null==je?void 0:je[e])?r:null})})})},XN=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?IN.isInteractive:a,n=e.animate,s=void 0===n?IN.animate:n,i=e.motionConfig,o=void 0===i?IN.motionConfig:i,l=e.theme,c=e.renderWrapper,d=CN(e,ZN);return ma.jsx(wj,{animate:s,isInteractive:r,motionConfig:o,renderWrapper:c,theme:l,children:ma.jsx(QN,_N({},d,{isInteractive:r,forwardedRef:t}))})}),JN=["defaultWidth","defaultHeight","onResize","debounceResize"];a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=CN(e,JN);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(XN,_N({},i,{width:a,height:r,ref:t}))}})});var ek=["theme","isInteractive","animate","motionConfig","renderWrapper"],tk=function(e,t,a,r){return e.find(function(e){return mw(e.x+t.left,e.y+t.top,e.width,e.height,a,r)})},ak=function(e){var t=e.data,r=e.identity,n=void 0===r?$N.identity:r,s=e.value,i=void 0===s?$N.identity:s,o=e.tile,l=void 0===o?$N.tile:o,c=e.valueFormat,d=e.innerPadding,u=void 0===d?$N.innerPadding:d,m=e.outerPadding,h=void 0===m?$N.outerPadding:m,f=e.leavesOnly,p=void 0===f?$N.leavesOnly:f,g=e.width,x=e.height,y=e.margin,b=e.colors,v=void 0===b?$N.colors:b,j=e.colorBy,w=void 0===j?$N.colorBy:j,N=e.nodeOpacity,k=void 0===N?$N.nodeOpacity:N,_=e.borderWidth,C=void 0===_?$N.borderWidth:_,S=e.borderColor,D=void 0===S?$N.borderColor:S,A=e.enableLabel,O=void 0===A?$N.enableLabel:A,z=e.label,T=void 0===z?$N.label:z,E=e.labelTextColor,M=void 0===E?$N.labelTextColor:E,P=e.orientLabel,L=void 0===P?$N.orientLabel:P,I=e.labelSkipSize,$=void 0===I?$N.labelSkipSize:I,F=e.isInteractive,R=void 0===F?$N.isInteractive:F,B=e.onMouseMove,W=e.onClick,U=e.tooltip,H=void 0===U?$N.tooltip:U,Y=e.pixelRatio,V=void 0===Y?$N.pixelRatio:Y,K=e.role,G=e.ariaLabel,q=e.ariaLabelledBy,Z=e.ariaDescribedBy,Q=e.forwardedRef,X=a.useRef(null),J=lw(g,x,y),ee=J.margin,te=J.innerWidth,ae=J.innerHeight,re=J.outerWidth,ne=J.outerHeight,se=RN({data:t,identity:n,value:i,valueFormat:c,leavesOnly:p,width:te,height:ae,tile:l,innerPadding:u,outerPadding:h,colors:v,colorBy:w,nodeOpacity:k,borderColor:D,label:T,labelTextColor:M,orientLabel:L,enableParentLabel:!1}).nodes,ie=Xg();a.useEffect(function(){if(null!==X.current){var e=X.current.getContext("2d");null!==e&&(X.current.width=re*V,X.current.height=ne*V,e.scale(V,V),e.fillStyle=ie.background,e.fillRect(0,0,re,ne),e.translate(ee.left,ee.top),se.forEach(function(t){e.fillStyle=t.color,e.fillRect(t.x,t.y,t.width,t.height),C>0&&(e.strokeStyle=t.borderColor,e.lineWidth=C,e.strokeRect(t.x,t.y,t.width,t.height))}),O&&(e.textAlign="center",e.textBaseline="middle",yN(e,ie.labels.text),se.forEach(function(t){if(t.isLeaf&&(0===$||Math.min(t.width,t.height)>$)){var a=L&&t.height>t.width;e.save(),e.translate(t.x+t.width/2,t.y+t.height/2),e.rotate(Ij(a?-90:0)),bN(e,_N({},ie.labels.text,{fill:t.labelTextColor}),String(t.label)),e.restore()}})))}},[X,se,re,ne,te,ae,ee,C,O,L,$,ie,V]);var oe=ux(),le=oe.showTooltipFromEvent,ce=oe.hideTooltip,de=a.useCallback(function(e){if(null!==X.current){var t=hw(X.current,e),r=t[0],n=t[1],s=tk(se,ee,r,n);void 0!==s?(le(a.createElement(H,{node:s}),e,"left"),null==B||B(s,e)):ce()}},[X,se,ee,le,ce,H,B]),ue=a.useCallback(function(){ce()},[ce]),me=a.useCallback(function(e){if(null!==X.current){var t=hw(X.current,e),a=t[0],r=t[1],n=tk(se,ee,a,r);void 0!==n&&(null==W||W(n,e))}},[X,se,ee,W]);return ma.jsx("canvas",{ref:xw(X,Q),width:re*V,height:ne*V,style:{width:re,height:ne},onMouseEnter:R?de:void 0,onMouseMove:R?de:void 0,onMouseLeave:R?ue:void 0,onClick:R?me:void 0,role:K,"aria-label":G,"aria-labelledby":q,"aria-describedby":Z})},rk=a.forwardRef(function(e,t){var a=e.theme,r=e.isInteractive,n=void 0===r?$N.isInteractive:r,s=e.animate,i=void 0===s?$N.animate:s,o=e.motionConfig,l=void 0===o?$N.motionConfig:o,c=e.renderWrapper,d=CN(e,ek);return ma.jsx(wj,{isInteractive:n,animate:i,motionConfig:l,theme:a,renderWrapper:c,children:ma.jsx(ak,_N({},d,{isInteractive:n,forwardedRef:t}))})}),nk=["defaultWidth","defaultHeight","onResize","debounceResize"];a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=CN(e,nk);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(rk,_N({},i,{width:a,height:r,ref:t}))}})});const sk={},ik=(e,t,a,r)=>{dk(a)&&sk[a]||(dk(a)&&(sk[a]=new Date),((e,t,a,r)=>{const n=[a,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);dk(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...n):console})(e,t,a,r))},ok=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},lk=(e,t,a)=>{e.loadNamespaces(t,ok(e,a))},ck=(e,t,a,r)=>{if(dk(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return lk(e,a,r);a.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,ok(e,r))},dk=e=>"string"==typeof e,uk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},hk=e=>mk[e];let fk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(uk,hk)};const pk=a.createContext();class gk{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const xk=(e,t,a,r)=>e.getFixedT(t,a,r),yk=(e,t={})=>{const{i18n:r}=t,{i18n:n,defaultNS:s}=a.useContext(pk)||{},i=r||n||void 0;if(i&&!i.reportNamespaces&&(i.reportNamespaces=new gk),!i){ik(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return dk(t)?t:"object"==typeof(a=t)&&null!==a&&dk(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var a},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}i.options.react?.wait&&ik(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...fk,...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let d=s||i.options?.defaultNS;d=dk(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(e=>((e,t,a={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:a.lng,precheck:(t,r)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(ik(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,i,o)),m=((e,t,r,n)=>a.useCallback(xk(e,t,r,n),[e,t,r,n]))(i,t.lng||null,"fallback"===o.nsMode?d:d[0],c),h=()=>m,f=()=>xk(i,t.lng||null,"fallback"===o.nsMode?d:d[0],c),[p,g]=a.useState(h);let x=d.join();t.lng&&(x=`${t.lng}${x}`);const y=((e,t)=>{const r=a.useRef();return a.useEffect(()=>{r.current=e},[e,t]),r.current})(x),b=a.useRef(!0);a.useEffect(()=>{const{bindI18n:e,bindI18nStore:a}=o;b.current=!0,u||l||(t.lng?ck(i,t.lng,d,()=>{b.current&&g(f)}):lk(i,d,()=>{b.current&&g(f)})),u&&y&&y!==x&&b.current&&g(f);const r=()=>{b.current&&g(f)};return e&&i?.on(e,r),a&&i?.store.on(a,r),()=>{b.current=!1,i&&e&&e?.split(" ").forEach(e=>i.off(e,r)),a&&i&&a.split(" ").forEach(e=>i.store.off(e,r))}},[i,x]),a.useEffect(()=>{b.current&&u&&g(h)},[i,c,u]);const v=[p,i,u];if(v.t=p,v.i18n=i,v.ready=u,u)return v;if(!u&&!l)return v;throw new Promise(e=>{t.lng?ck(i,t.lng,d,()=>e()):lk(i,d,()=>e())})},bk=["ar","fa","he","ur","ku","dv"],vk=()=>{const{i18n:e}=yk(),[t,r]=a.useState("ltr");return a.useEffect(()=>{const t=e.language||"es",a=(n=t,bk.includes(n.split("-")[0].toLowerCase())?"rtl":"ltr");var n;r(a),document.documentElement.dir=a,document.documentElement.lang=t,document.documentElement.style.setProperty("--direction-factor","rtl"===a?"-1":"1"),document.documentElement.style.setProperty("--text-align","rtl"===a?"right":"left"),document.documentElement.style.setProperty("--text-align-opposite","rtl"===a?"left":"right")},[e.language]),t},jk=()=>{const e=vk(),t=(()=>{const[e,t]=a.useState(!1);return a.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)");t(e.matches);const a=e=>{t(e.matches)};return e.addEventListener?(e.addEventListener("change",a),()=>e.removeEventListener("change",a)):(e.addListener(a),()=>e.removeListener(a))},[]),e})(),r=(()=>{const[e,t]=a.useState(!1);return a.useEffect(()=>(()=>{if(window.matchMedia){const e=window.matchMedia("(prefers-contrast: high)");t(e.matches);const a=e=>{t(e.matches)};return e.addEventListener?(e.addEventListener("change",a),()=>e.removeEventListener("change",a)):(e.addListener(a),()=>e.removeListener(a))}})(),[]),e})(),n=(()=>{const[e,t]=a.useState(!1);return a.useEffect(()=>{(()=>{const e=window.navigator.userAgent.includes("NVDA")||window.navigator.userAgent.includes("JAWS")||window.navigator.userAgent.includes("VoiceOver")||void 0!==window.speechSynthesis;t(e)})();let e=0;const a=()=>{e++,e>10&&t(!0)};return document.addEventListener("focusin",a),setTimeout(()=>{e=0},5e3),()=>{document.removeEventListener("focusin",a)}},[]),e})(),s=(()=>{const[e,t]=a.useState("light");return a.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");t(e.matches?"dark":"light");const a=e=>{t(e.matches?"dark":"light")};return e.addEventListener?(e.addEventListener("change",a),()=>e.removeEventListener("change",a)):(e.addListener(a),()=>e.removeListener(a))},[]),e})(),{i18n:i}=yk(),o=a.useMemo(()=>({dir:e,lang:i.language||"es","data-reduced-motion":t,"data-motion":t?"reduce":"auto","data-high-contrast":r,"data-color-scheme":s,"data-screen-reader":n,className:["rtl"===e?"rtl":"ltr",t?"reduced-motion":"motion-auto",r?"high-contrast":"standard-contrast","dark"===s?"dark":"light",n?"screen-reader":"visual"].join(" ")}),[e,t,r,n,s,i.language]);return{direction:e,prefersReducedMotion:t,prefersHighContrast:r,isScreenReader:n,colorScheme:s,language:i.language||"es",isRTL:"rtl"===e,accessibilityProps:o}},wk=(e,t,a="es")=>{const r={es:{chart:"gráfico",showing:"mostrando",dataPoints:"puntos de datos",highest:"el más alto",lowest:"el más bajo",average:"promedio",total:"total"},en:{chart:"chart",showing:"showing",dataPoints:"data points",highest:"highest",lowest:"lowest",average:"average",total:"total"}},n=r[a]||r.en;if(!t||0===t.length)return`${e} ${n.chart} - Sin datos disponibles`;const s=t.map(e=>"number"==typeof e.value?e.value:e.amount||0),i=s.reduce((e,t)=>e+t,0),o=i/s.length,l=Math.max(...s),c=Math.min(...s);return`${e} ${n.chart} ${n.showing} ${t.length} ${n.dataPoints}. ${n.total}: ${i.toLocaleString()}, ${n.average}: ${o.toLocaleString()}, ${n.highest}: ${l.toLocaleString()}, ${n.lowest}: ${c.toLocaleString()}.`},Nk=e=>ma.jsx("div",{...e,className:"animate-pulse bg-gray-200 rounded-lg w-full h-64"}),kk=e=>"object"==typeof e&&null!==e&&"string"==typeof e.name&&("number"==typeof e.value||void 0!==e.children)&&(void 0===e.children||Array.isArray(e.children)),_k=({data:e,title:t,height:r=400,className:n="",onNodeClick:s,onNodeHover:i,colorScheme:o=["#3B82F6","#10B981","#F59E0B","#EF4444"]})=>{const{prefersReducedMotion:l,isScreenReader:c,language:d}=jk(),[u,m]=a.useState(null),[h,f]=a.useState(null);a.useEffect(()=>{const t=performance.now();try{if(null==e){if(null===e){const e=new Error("Data cannot be null.");m(e),dl.captureError(e,{tags:{chartType:"treemap"}})}return void f(null)}if(!Array.isArray(e))throw new Error("Data must be an array.");const a=e=>e.filter(e=>kk(e)?(e.children&&(e.children=a(e.children)),!0):(dl.captureError(new Error("Invalid data node detected"),{tags:{chartType:"treemap"},extra:{node:e}}),!1)),r=a(e);f({name:"root",children:r}),m(null);const n=performance.now()-t;dl.captureMetric({name:"chart_render_time",value:n,unit:"ms",tags:{chartType:"treemap"}})}catch(a){m(a),dl.captureError(a,{tags:{chartType:"treemap"}})}},[e]);const p=a.useCallback(()=>{if(!h)return;const e="data:text/csv;charset=utf-8,Path,Value\n"+h.children.map(e=>`${e.name},${e.value}`).join("\n"),t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","treemap-data.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),dl.captureMetric({name:"chart_export",value:1,unit:"count",tags:{chartType:"treemap",exportFormat:"csv"}})},[h]);if(u)return ma.jsx("div",{className:"flex items-center justify-center h-full bg-red-50 text-red-700 p-4 rounded-lg",children:"Error al cargar el gráfico."});if(void 0===e)return ma.jsx(Nk,{"data-testid":"chart-skeleton"});if(!h||0===h.children.length)return ma.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 p-4",children:"No hay datos disponibles"});const g=wk("treemap",t||"Treemap chart",h.children.length);return ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:l?0:.5},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${n} ${l?"motion-reduce:animate-none":""}`,role:"img","aria-label":g,children:[t&&ma.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),ma.jsx("button",{onClick:p,className:"text-sm text-gray-600 hover:text-gray-900",children:"Exportar"})]}),ma.jsx("div",{style:{height:r},children:ma.jsx(qN,{data:h,identity:"name",value:"value",valueFormat:e=>`${new Intl.NumberFormat(d).format(e)}`,margin:{top:10,right:10,bottom:10,left:10},colors:o,borderColor:{from:"color",modifiers:[["darker",.3]]},labelSkipSize:12,labelTextColor:{from:"color",modifiers:[["darker",1.2]]},parentLabelTextColor:{from:"color",modifiers:[["darker",2]]},animate:!l,motionStiffness:90,motionDamping:15,onClick:s,onMouseMove:i,tooltip:({node:e})=>ma.jsxs("div",{className:"bg-white p-2 shadow-lg rounded border border-gray-200",children:[ma.jsx("div",{className:"font-semibold",children:e.data.name}),ma.jsxs("div",{className:"text-sm text-gray-600",children:["Value: ",e.value?.toLocaleString(d)||"N/A"]})]})})}),c&&ma.jsx("div",{"data-testid":"treemap-description",className:"sr-only",children:g})]})},Ck=Object.freeze(Object.defineProperty({__proto__:null,default:_k},Symbol.toStringTag,{value:"Module"})),Sk=e=>"object"==typeof e&&null!==e&&"string"==typeof e.label&&"number"==typeof e.value&&["start","increase","decrease","end"].includes(e.type),Dk=({data:e,currency:t="ARS",showTotal:r=!0,colorScheme:n={positive:"#10B981",negative:"#EF4444",neutral:"#6B7280",start:"#3B82F6",end:"#8B5CF6"},onStepClick:s,className:i=""})=>{const{prefersReducedMotion:o,isScreenReader:l,language:c}=jk(),[d,u]=a.useState(null),[m,h]=a.useState([]),[f,p]=a.useState(0);a.useEffect(()=>{const t=performance.now();try{if(null==e){if(null===e){const e=new Error("Data cannot be null.");u(e),dl.captureError(e,{tags:{chartType:"waterfall"}})}return}if(!Array.isArray(e))throw new Error("Data must be an array.");const a=e.filter(e=>{const t=Sk(e);return t||dl.captureError(new Error("Invalid data point detected"),{tags:{chartType:"waterfall"},extra:{item:e}}),t});let r=0;const n=a.map(e=>{const t=r;return"start"===e.type||"end"===e.type?(r=e.value,{...e,cumulative:e.value,previous:0}):(r+=e.value,{...e,cumulative:r,previous:t})});h(n),p(r),u(null);const s=performance.now()-t;dl.captureMetric({name:"chart_render_time",value:s,unit:"ms",tags:{chartType:"waterfall"}})}catch(a){u(a),dl.captureError(a,{tags:{chartType:"waterfall"}})}},[e]);const g=a.useCallback(()=>{const e="data:text/csv;charset=utf-8,Label,Value,Type\n"+m.map(e=>`${e.label},${e.value},${e.type}`).join("\n"),t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","waterfall-chart-data.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),dl.captureMetric({name:"chart_export",value:1,unit:"count",tags:{chartType:"waterfall"}})},[m]),x=a.useMemo(()=>new Intl.NumberFormat(c,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}),[t,c]),y=({active:e,payload:t,label:a})=>{if(e&&t&&t.length){const e=t[0].payload,r=e.value,s=0!==e.previous?r/e.previous*100:0;return ma.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 text-sm",children:[ma.jsx("p",{className:"font-semibold text-gray-800",children:a}),ma.jsxs("p",{style:{color:e.value>0?n.positive:n.negative},children:["Change: ",x.format(r)]}),"start"!==e.type&&ma.jsxs("p",{className:"text-gray-600",children:[s.toFixed(2),"% vs previous"]}),ma.jsxs("p",{className:"text-gray-600",children:["Cumulative: ",x.format(e.cumulative)]})]})}return null};if(d)return ma.jsx("div",{className:"flex items-center justify-center h-full bg-red-50 text-red-700 p-4 rounded-lg",children:"Error al cargar el gráfico."});if(!e)return ma.jsx(Nk,{"data-testid":"chart-skeleton"});if(0===m.length)return ma.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 p-4",children:"No hay datos disponibles."});const b=wk("waterfall","Budget evolution",m.length);return ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:o?0:.5},className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${i} ${o?"motion-reduce:animate-none":""}`,role:"img","aria-label":b,children:[ma.jsx(ue,{width:"100%",height:400,children:ma.jsxs(ke,{data:m,onClick:e=>e&&s&&s(e.activePayload?.[0]?.payload,e.activeTooltipIndex),children:[ma.jsx(he,{strokeDasharray:"3 3"}),ma.jsx(fe,{dataKey:"label"}),ma.jsx(pe,{tickFormatter:e=>x.format(e)}),ma.jsx(ge,{content:ma.jsx(y,{})}),ma.jsx(_e,{dataKey:"value",children:m.map((e,t)=>{let a=n.neutral;return"start"===e.type?a=n.start:"end"===e.type?a=n.end:e.value>0?a=n.positive:e.value<0&&(a=n.negative),ma.jsx(Ne,{fill:a},`cell-${t}`)})})]})}),r&&ma.jsxs("div",{className:"text-right font-bold text-lg p-2",children:["Total: ",x.format(f)]}),l&&ma.jsx("div",{"data-testid":"waterfall-description",className:"sr-only",children:b}),ma.jsx("button",{onClick:g,className:"text-sm text-gray-600 hover:text-gray-900",children:"Exportar"})]})},Ak=Object.freeze(Object.defineProperty({__proto__:null,default:Dk},Symbol.toStringTag,{value:"Module"}));var Ok,zk,Tk,Ek;const Mk=l(function(){if(Ek)return Tk;Ek=1;var e=Bt(),t=function(){if(zk)return Ok;zk=1;var e=Rt();return Ok=function(t,a){var r=[];return e(t,function(e,t,n){a(e,t,n)&&r.push(e)}),r}}(),a=Wt(),r=Ie();return Tk=function(n,s){return(r(n)?e:t)(n,a(s,3))}}());function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pk.apply(null,arguments)}var Lk=4,Ik=120,$k=8,Fk=function(e){return"circle"===e.type},Rk=function(e){return"dot"===e.type},Bk=function(e){return"rect"===e.type},Wk=function(e,t,a,r){return function(e){var t=e%360;return t<0&&(t+=360),t}(function(e){return 180*e/Math.PI}(Math.atan2(r-t,a-e)))},Uk=function(e){var t,a,r=e.x,n=e.y,s=e.noteX,i=e.noteY,o=e.noteWidth,l=void 0===o?Ik:o,c=e.noteTextOffset,d=void 0===c?$k:c;if(Ut(s))t=r+s;else{if(void 0===s.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=s.abs}if(Ut(i))a=n+i;else{if(void 0===i.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");a=i.abs}var u=r,m=n,h=Wk(r,n,t,a);if(Fk(e)){var f=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}}(Ij(h),e.size/2);u+=f.x,m+=f.y}if(Bk(e)){var p=Math.round((h+90)/45)%8;0===p&&(m-=e.height/2),1===p&&(u+=e.width/2,m-=e.height/2),2===p&&(u+=e.width/2),3===p&&(u+=e.width/2,m+=e.height/2),4===p&&(m+=e.height/2),5===p&&(u-=e.width/2,m+=e.height/2),6===p&&(u-=e.width/2),7===p&&(u-=e.width/2,m-=e.height/2)}var g=t,x=t;return(h+90)%360>180?(g-=l,x-=l):x+=l,{points:[[u,m],[t,a],[x,a]],text:[g,a-d],angle:h+90}},Hk=function(e){var t=e.data,r=e.annotations,n=e.getPosition,s=e.getDimensions;return a.useMemo(function(){return function(e){var t=e.data,a=e.annotations,r=e.getPosition,n=e.getDimensions;return a.reduce(function(e,a){var s=a.offset||0;return[].concat(e,Mk(t,a.match).map(function(e){var t=r(e),i=n(e);return(Fk(a)||Bk(a))&&(i.size=i.size+2*s,i.width=i.width+2*s,i.height=i.height+2*s),Pk({},Ft(a,["match","offset"]),t,i,{size:a.size||i.size,datum:e})}))},[])}({data:t,annotations:r,getPosition:n,getDimensions:s})},[t,r,n,s])},Yk=function(e){var t=e.datum,r=e.x,n=e.y,s=e.note,i=Xg(),o=bj(),l=o.animate,c=qp({x:r,y:n,config:o.config,immediate:!l});return"function"==typeof s?a.createElement(s,{x:r,y:n,datum:t}):ma.jsxs(ma.Fragment,{children:[i.annotations.text.outlineWidth>0&&ma.jsx(zg.text,{x:c.x,y:c.y,style:Pk({},i.annotations.text,{strokeLinejoin:"round",strokeWidth:2*i.annotations.text.outlineWidth,stroke:i.annotations.text.outlineColor}),children:s}),ma.jsx(zg.text,{x:c.x,y:c.y,style:Ft(i.annotations.text,["outlineWidth","outlineColor"]),children:s})]})},Vk=function(e){var t=e.points,r=e.isOutline,n=void 0!==r&&r,s=Xg(),i=a.useMemo(function(){var e=t[0];return t.slice(1).reduce(function(e,t){return e+" L"+t[0]+","+t[1]},"M"+e[0]+","+e[1])},[t]),o=aw(i);if(n&&s.annotations.link.outlineWidth<=0)return null;var l=Pk({},s.annotations.link);return n&&(l.strokeLinecap="square",l.strokeWidth=s.annotations.link.strokeWidth+2*s.annotations.link.outlineWidth,l.stroke=s.annotations.link.outlineColor,l.opacity=s.annotations.link.outlineOpacity),ma.jsx(zg.path,{fill:"none",d:o,style:l})},Kk=function(e){var t=e.x,a=e.y,r=e.size,n=Xg(),s=bj(),i=s.animate,o=qp({x:t,y:a,radius:r/2,config:s.config,immediate:!i});return ma.jsxs(ma.Fragment,{children:[n.annotations.outline.outlineWidth>0&&ma.jsx(zg.circle,{cx:o.x,cy:o.y,r:o.radius,style:Pk({},n.annotations.outline,{fill:"none",strokeWidth:n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,stroke:n.annotations.outline.outlineColor,opacity:n.annotations.outline.outlineOpacity})}),ma.jsx(zg.circle,{cx:o.x,cy:o.y,r:o.radius,style:n.annotations.outline})]})},Gk=function(e){var t=e.x,a=e.y,r=e.size,n=void 0===r?Lk:r,s=Xg(),i=bj(),o=i.animate,l=qp({x:t,y:a,radius:n/2,config:i.config,immediate:!o});return ma.jsxs(ma.Fragment,{children:[s.annotations.outline.outlineWidth>0&&ma.jsx(zg.circle,{cx:l.x,cy:l.y,r:l.radius,style:Pk({},s.annotations.outline,{fill:"none",strokeWidth:2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),ma.jsx(zg.circle,{cx:l.x,cy:l.y,r:l.radius,style:s.annotations.symbol})]})},qk=function(e){var t=e.x,a=e.y,r=e.width,n=e.height,s=e.borderRadius,i=void 0===s?6:s,o=Xg(),l=bj(),c=l.animate,d=qp({x:t-r/2,y:a-n/2,width:r,height:n,config:l.config,immediate:!c});return ma.jsxs(ma.Fragment,{children:[o.annotations.outline.outlineWidth>0&&ma.jsx(zg.rect,{x:d.x,y:d.y,rx:i,ry:i,width:d.width,height:d.height,style:Pk({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),ma.jsx(zg.rect,{x:d.x,y:d.y,rx:i,ry:i,width:d.width,height:d.height,style:o.annotations.outline})]})},Zk=function(e){var t=e.datum,r=e.x,n=e.y,s=e.note,i=function(e){return a.useMemo(function(){return Uk(e)},[e])}(e);if(!function(e){var t=typeof e;return a.isValidElement(e)||"string"===t||"function"===t||"object"===t}(s))throw new Error("note should be a valid react element");return ma.jsxs(ma.Fragment,{children:[ma.jsx(Vk,{points:i.points,isOutline:!0}),Fk(e)&&ma.jsx(Kk,{x:r,y:n,size:e.size}),Rk(e)&&ma.jsx(Gk,{x:r,y:n,size:e.size}),Bk(e)&&ma.jsx(qk,{x:r,y:n,width:e.width,height:e.height,borderRadius:e.borderRadius}),ma.jsx(Vk,{points:i.points}),ma.jsx(Yk,{datum:t,x:i.text[0],y:i.text[1],note:s})]})};function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qk.apply(null,arguments)}function Xk(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var Jk={layers:["separators","parts","labels","annotations"],direction:"vertical",interpolation:"smooth",spacing:0,shapeBlending:.66,colors:{scheme:"nivo"},size:void 0,fillOpacity:1,borderWidth:6,borderColor:{from:"color"},borderOpacity:.66,enableLabel:!0,labelColor:{theme:"background"},enableBeforeSeparators:!0,beforeSeparatorLength:0,beforeSeparatorOffset:0,enableAfterSeparators:!0,afterSeparatorLength:0,afterSeparatorOffset:0,annotations:[],isInteractive:!0,currentPartSizeExtension:0,role:"img",animate:gj,motionConfig:xj},e_=function(e){var t=e.part;return ma.jsx(sx,{id:t.data.label,value:t.formattedValue,color:t.color,enableChip:!0})},t_=function(e,t){return a.useMemo(function(){return function(e,t){if("function"==typeof e)return e;if(Array.isArray(e)){var a=mt(e);return function(e){return Number(a(String(e.id)))}}if(Mt(e)){if(void 0!==e.datum)return function(t){var a=Qe(t,e.datum);return"number"==typeof a?a:0};throw new Error("Invalid size, when using an object, you should specify a 'datum' property")}return function(e){return t(e.value)}}(e,t)},[e,t])},a_=function(e){var t,r,n=e.data,s=e.width,i=e.height,o=e.direction,l=void 0===o?Jk.direction:o,c=e.interpolation,d=void 0===c?Jk.interpolation:c,u=e.spacing,m=void 0===u?Jk.spacing:u,h=e.shapeBlending,f=void 0===h?Jk.shapeBlending:h,p=e.valueFormat,g=e.colors,x=void 0===g?Jk.colors:g,y=e.size,b=void 0===y?Jk.size:y,v=e.fillOpacity,j=void 0===v?Jk.fillOpacity:v,w=e.borderWidth,N=void 0===w?Jk.borderWidth:w,k=e.borderColor,_=void 0===k?Jk.borderColor:k,C=e.borderOpacity,S=void 0===C?Jk.borderOpacity:C,D=e.labelColor,A=void 0===D?Jk.labelColor:D,O=e.enableBeforeSeparators,z=void 0===O?Jk.enableBeforeSeparators:O,T=e.beforeSeparatorLength,E=void 0===T?Jk.beforeSeparatorLength:T,M=e.beforeSeparatorOffset,P=void 0===M?Jk.beforeSeparatorOffset:M,L=e.enableAfterSeparators,I=void 0===L?Jk.enableAfterSeparators:L,$=e.afterSeparatorLength,F=void 0===$?Jk.afterSeparatorLength:$,R=e.afterSeparatorOffset,B=void 0===R?Jk.afterSeparatorOffset:R,W=e.isInteractive,U=void 0===W?Jk.isInteractive:W,H=e.currentPartSizeExtension,Y=void 0===H?Jk.currentPartSizeExtension:H,V=e.currentBorderWidth,K=e.onMouseEnter,G=e.onMouseMove,q=e.onMouseLeave,Z=e.onClick,Q=e.tooltip,X=Xg(),J=xN(x,"id"),ee=pN(_,X),te=pN(A,X),ae=dw(p),re=a.useMemo(function(){return function(e,t){var a=Ht();return"vertical"===t?a.curve("smooth"===e?Ot:vt).x0(function(e){return e.x0}).x1(function(e){return e.x1}).y(function(e){return e.y}):a.curve("smooth"===e?Ot:vt).y0(function(e){return e.y0}).y1(function(e){return e.y1}).x(function(e){return e.x}),[a,Yt().defined(function(e){return null!==e}).x(function(e){return e.x}).y(function(e){return e.y}).curve("smooth"===e?Ot:vt)]}(d,l)},[d,l]),ne=re[0],se=re[1],ie=z?E+P:0,oe=I?F+B:0;"vertical"===l?(t=s-ie-oe,r=i):(t=s,r=i-ie-oe);var le=a.useMemo(function(){return function(e){var t,a,r=e.data,n=e.direction,s=e.width,i=e.height,o=e.spacing;"vertical"===n?(t=i,a=s):(t=s,a=i);var l=(t-o*(r.length-1))/r.length,c=function(e){return o*e+l*e};c.bandwidth=l;var d=r.map(function(e){return e.value});return[c,Vt().domain([0,Math.max.apply(Math,d)]).range([0,a])]}({data:n,direction:l,width:t,height:r,spacing:m})},[n,l,t,r,m]),ce=le[0],de=le[1],ue=t_(b,de),me=a.useState(null),he=me[0],fe=me[1],pe=a.useMemo(function(){var e=n.map(function(e,a){var n,s,i,o,c=e.id===he,d=ue(e);"vertical"===l?(n=d,s=ce.bandwidth,o=ie+.5*(t-n),i=ce(a)):(n=ce.bandwidth,s=d,o=ce(a),i=ie+.5*(r-s));var u=o+n,m=o+.5*n,h=i+s,f=i+.5*s,p={data:e,width:n,height:s,color:J(e),fillOpacity:j,borderWidth:c&&void 0!==V?V:N,borderOpacity:S,formattedValue:ae(e.value),isCurrent:c,x:m,x0:o,x1:u,y:f,y0:i,y1:h,borderColor:"",labelColor:"",points:[],areaPoints:[],borderPoints:[]};return p.borderColor=ee(p),p.labelColor=te(p),p}),a=f/2;return e.forEach(function(t,r){var n=e[r+1];if("vertical"===l){t.points.push({x:t.x0,y:t.y0}),t.points.push({x:t.x1,y:t.y0}),n?(t.points.push({x:n.x1,y:t.y1}),t.points.push({x:n.x0,y:t.y1})):(t.points.push({x:t.points[1].x,y:t.y1}),t.points.push({x:t.points[0].x,y:t.y1})),t.isCurrent&&(t.points[0].x-=Y,t.points[1].x+=Y,t.points[2].x+=Y,t.points[3].x-=Y),t.areaPoints=[{x:0,x0:t.points[0].x,x1:t.points[1].x,y:t.y0,y0:0,y1:0}],t.areaPoints.push(Qk({},t.areaPoints[0],{y:t.y0+t.height*a}));var s={x:0,x0:t.points[3].x,x1:t.points[2].x,y:t.y1,y0:0,y1:0};t.areaPoints.push(Qk({},s,{y:t.y1-t.height*a})),t.areaPoints.push(s),[0,1,2,3].map(function(e){t.borderPoints.push({x:t.areaPoints[e].x0,y:t.areaPoints[e].y})}),t.borderPoints.push(null),[3,2,1,0].map(function(e){t.borderPoints.push({x:t.areaPoints[e].x1,y:t.areaPoints[e].y})})}else{t.points.push({x:t.x0,y:t.y0}),n?(t.points.push({x:t.x1,y:n.y0}),t.points.push({x:t.x1,y:n.y1})):(t.points.push({x:t.x1,y:t.y0}),t.points.push({x:t.x1,y:t.y1})),t.points.push({x:t.x0,y:t.y1}),t.isCurrent&&(t.points[0].y-=Y,t.points[1].y-=Y,t.points[2].y+=Y,t.points[3].y+=Y),t.areaPoints=[{x:t.x0,x0:0,x1:0,y:0,y0:t.points[0].y,y1:t.points[3].y}],t.areaPoints.push(Qk({},t.areaPoints[0],{x:t.x0+t.width*a}));var i={x:t.x1,x0:0,x1:0,y:0,y0:t.points[1].y,y1:t.points[2].y};t.areaPoints.push(Qk({},i,{x:t.x1-t.width*a})),t.areaPoints.push(i),[0,1,2,3].map(function(e){t.borderPoints.push({x:t.areaPoints[e].x,y:t.areaPoints[e].y0})}),t.borderPoints.push(null),[3,2,1,0].map(function(e){t.borderPoints.push({x:t.areaPoints[e].x,y:t.areaPoints[e].y1})})}}),e},[n,l,ce,t,r,ie,f,J,ae,ee,te,he,S,N,V,Y,j,ue]),ge=ux(),xe=ge.showTooltipFromEvent,ye=ge.hideTooltip,be=a.useMemo(function(){return function(e){var t=e.parts,r=e.setCurrentPartId,n=e.isInteractive,s=e.onMouseEnter,i=e.onMouseLeave,o=e.onMouseMove,l=e.onClick,c=e.showTooltipFromEvent,d=e.hideTooltip,u=e.tooltip,m=void 0===u?e_:u;return n?t.map(function(e){return Qk({},e,{onMouseEnter:function(t){r(e.data.id),c(a.createElement(m,{part:e}),t),null==s||s(e,t)},onMouseLeave:function(t){r(null),d(),null==i||i(e,t)},onMouseMove:function(t){c(a.createElement(m,{part:e}),t),null==o||o(e,t)},onClick:void 0!==l?function(t){l(e,t)}:void 0})}):t}({parts:pe,setCurrentPartId:fe,isInteractive:U,onMouseEnter:K,onMouseLeave:q,onMouseMove:G,onClick:Z,showTooltipFromEvent:xe,hideTooltip:ye,tooltip:Q})},[pe,fe,U,K,q,G,Z,xe,ye,Q]),ve=a.useMemo(function(){return function(e){var t=e.parts,a=e.direction,r=e.width,n=e.height,s=e.spacing,i=e.enableBeforeSeparators,o=e.beforeSeparatorOffset,l=e.enableAfterSeparators,c=e.afterSeparatorOffset,d=[],u=[],m=t[t.length-1];if("vertical"===a){t.forEach(function(e){var t=e.y0-s/2;i&&d.push({partId:e.data.id,x0:0,x1:e.x0-o,y0:t,y1:t}),l&&u.push({partId:e.data.id,x0:e.x1+c,x1:r,y0:t,y1:t})});var h=m.y1;i&&d.push(Qk({},d[d.length-1],{partId:"none",y0:h,y1:h})),l&&u.push(Qk({},u[u.length-1],{partId:"none",y0:h,y1:h}))}else if("horizontal"===a){t.forEach(function(e){var t=e.x0-s/2;d.push({partId:e.data.id,x0:t,x1:t,y0:0,y1:e.y0-o}),u.push({partId:e.data.id,x0:t,x1:t,y0:e.y1+c,y1:n})});var f=m.x1;d.push(Qk({},d[d.length-1],{partId:"none",x0:f,x1:f})),u.push(Qk({},u[u.length-1],{partId:"none",x0:f,x1:f}))}return[d,u]}({parts:pe,direction:l,width:s,height:i,spacing:m,enableBeforeSeparators:z,beforeSeparatorOffset:P,enableAfterSeparators:I,afterSeparatorOffset:B})},[pe,l,s,i,m,z,P,I,B]),je=ve[0],we=ve[1],Ne=a.useMemo(function(){return{width:s,height:i,parts:be,areaGenerator:ne,borderGenerator:se,beforeSeparators:je,afterSeparators:we,setCurrentPartId:fe}},[s,i,be,ne,se,je,we,fe]);return{parts:be,areaGenerator:ne,borderGenerator:se,beforeSeparators:je,afterSeparators:we,setCurrentPartId:fe,currentPartId:he,customLayerProps:Ne}},r_=function(e){var t=e.part,a=e.areaGenerator,r=e.borderGenerator,n=bj(),s=n.animate,i=n.config,o=aw(a(t.areaPoints)),l=aw(r(t.borderPoints)),c=qp({areaColor:t.color,borderWidth:t.borderWidth,borderColor:t.borderColor,config:i,immediate:!s});return ma.jsxs(ma.Fragment,{children:[t.borderWidth>0&&ma.jsx(zg.path,{d:l,stroke:c.borderColor,strokeWidth:c.borderWidth,strokeOpacity:t.borderOpacity,fill:"none"}),ma.jsx(zg.path,{d:o,fill:c.areaColor,fillOpacity:t.fillOpacity,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onMouseMove:t.onMouseMove,onClick:t.onClick})]})},n_=function(e){var t=e.parts,a=e.areaGenerator,r=e.borderGenerator;return ma.jsx(ma.Fragment,{children:t.map(function(e){return ma.jsx(r_,{part:e,areaGenerator:a,borderGenerator:r},e.data.id)})})},s_=function(e){var t=e.part,a=Xg(),r=bj(),n=r.animate,s=r.config,i=qp({transform:"translate("+t.x+", "+t.y+")",color:t.labelColor,config:s,immediate:!n});return ma.jsx(zg.g,{transform:i.transform,children:ma.jsx(kN,{textAnchor:"middle",dominantBaseline:"central",style:Qk({},a.labels.text,{fill:i.color,pointerEvents:"none"}),children:t.formattedValue})})},i_=function(e){var t=e.parts;return ma.jsx(ma.Fragment,{children:t.map(function(e){return ma.jsx(s_,{part:e},e.data.id)})})},o_=function(e){var t=e.separator,a=Xg(),r=bj(),n=r.animate,s=r.config,i=qp({x1:t.x0,x2:t.x1,y1:t.y0,y2:t.y1,config:s,immediate:!n});return ma.jsx(zg.line,Qk({x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,fill:"none"},a.grid.line))},l_=function(e){var t=e.beforeSeparators,a=e.afterSeparators;return ma.jsxs(ma.Fragment,{children:[t.map(function(e){return ma.jsx(o_,{separator:e},e.partId)}),a.map(function(e){return ma.jsx(o_,{separator:e},e.partId)})]})},c_=function(e){var t=function(e,t){return Hk({data:e,annotations:t,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,a=e.height;return{size:Math.max(t,a),width:t,height:a}}})}(e.parts,e.annotations);return ma.jsx(ma.Fragment,{children:t.map(function(e,t){return ma.jsx(Zk,Qk({},e),t)})})},d_=["isInteractive","animate","motionConfig","theme","renderWrapper"],u_=function(e){var t=e.data,r=e.width,n=e.height,s=e.margin,i=e.direction,o=void 0===i?Jk.direction:i,l=e.interpolation,c=void 0===l?Jk.interpolation:l,d=e.spacing,u=void 0===d?Jk.spacing:d,m=e.shapeBlending,h=void 0===m?Jk.shapeBlending:m,f=e.valueFormat,p=e.colors,g=void 0===p?Jk.colors:p,x=e.size,y=void 0===x?Jk.size:x,b=e.fillOpacity,v=void 0===b?Jk.fillOpacity:b,j=e.borderWidth,w=void 0===j?Jk.borderWidth:j,N=e.borderColor,k=void 0===N?Jk.borderColor:N,_=e.borderOpacity,C=void 0===_?Jk.borderOpacity:_,S=e.enableLabel,D=void 0===S?Jk.enableLabel:S,A=e.labelColor,O=void 0===A?Jk.labelColor:A,z=e.enableBeforeSeparators,T=void 0===z?Jk.enableBeforeSeparators:z,E=e.beforeSeparatorLength,M=void 0===E?Jk.beforeSeparatorLength:E,P=e.beforeSeparatorOffset,L=void 0===P?Jk.beforeSeparatorOffset:P,I=e.enableAfterSeparators,$=void 0===I?Jk.enableAfterSeparators:I,F=e.afterSeparatorLength,R=void 0===F?Jk.afterSeparatorLength:F,B=e.afterSeparatorOffset,W=void 0===B?Jk.afterSeparatorOffset:B,U=e.layers,H=void 0===U?Jk.layers:U,Y=e.annotations,V=void 0===Y?Jk.annotations:Y,K=e.isInteractive,G=void 0===K?Jk.isInteractive:K,q=e.currentPartSizeExtension,Z=void 0===q?Jk.currentPartSizeExtension:q,Q=e.currentBorderWidth,X=e.onMouseEnter,J=e.onMouseMove,ee=e.onMouseLeave,te=e.onClick,ae=e.tooltip,re=e.role,ne=void 0===re?Jk.role:re,se=e.ariaLabel,ie=e.ariaLabelledBy,oe=e.ariaDescribedBy,le=e.forwardedRef,ce=lw(r,n,s),de=ce.margin,ue=ce.innerWidth,me=ce.innerHeight,he=ce.outerWidth,fe=ce.outerHeight,pe=a_({data:t,width:ue,height:me,direction:o,interpolation:c,spacing:u,shapeBlending:h,valueFormat:f,colors:g,size:y,fillOpacity:v,borderWidth:w,borderColor:k,borderOpacity:C,labelColor:O,enableBeforeSeparators:T,beforeSeparatorLength:M,beforeSeparatorOffset:L,enableAfterSeparators:$,afterSeparatorLength:R,afterSeparatorOffset:W,isInteractive:G,currentPartSizeExtension:Z,currentBorderWidth:Q,onMouseEnter:X,onMouseMove:J,onMouseLeave:ee,onClick:te,tooltip:ae}),ge=pe.areaGenerator,xe=pe.borderGenerator,ye=pe.parts,be=pe.beforeSeparators,ve=pe.afterSeparators,je=pe.customLayerProps,we={separators:null,parts:null,annotations:null,labels:null};return H.includes("separators")&&(we.separators=ma.jsx(l_,{beforeSeparators:be,afterSeparators:ve},"separators")),H.includes("parts")&&(we.parts=ma.jsx(n_,{parts:ye,areaGenerator:ge,borderGenerator:xe},"parts")),null!=H&&H.includes("annotations")&&(we.annotations=ma.jsx(c_,{parts:ye,annotations:V},"annotations")),H.includes("labels")&&D&&(we.labels=ma.jsx(i_,{parts:ye},"labels")),ma.jsx(Jj,{width:he,height:fe,margin:de,role:ne,ariaLabel:se,ariaLabelledBy:ie,ariaDescribedBy:oe,ref:le,children:H.map(function(e,t){var r;return"function"==typeof e?ma.jsx(a.Fragment,{children:a.createElement(e,je)},t):null!=(r=null==we?void 0:we[e])?r:null})})},m_=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?Jk.isInteractive:a,n=e.animate,s=void 0===n?Jk.animate:n,i=e.motionConfig,o=void 0===i?Jk.motionConfig:i,l=e.theme,c=e.renderWrapper,d=Xk(e,d_);return ma.jsx(wj,{animate:s,isInteractive:r,motionConfig:o,renderWrapper:c,theme:l,children:ma.jsx(u_,Qk({isInteractive:r},d,{forwardedRef:t}))})}),h_=["defaultWidth","defaultHeight","onResize","debounceResize"],f_=a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=Xk(e,h_);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(m_,Qk({width:a,height:r},i,{ref:t}))}})});const p_=({data:e,title:t,height:a=400,className:r=""})=>ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${r}`,children:[t&&ma.jsx("div",{className:"p-4 border-b border-gray-100",children:ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})}),ma.jsx("div",{style:{height:a},children:ma.jsx(f_,{data:e,margin:{top:20,right:20,bottom:20,left:20},valueFormat:">-.0s",colors:{scheme:"blues"},borderWidth:20,labelColor:{from:"color",modifiers:[["darker",3]]},beforeSeparatorLength:100,beforeSeparatorOffset:20,afterSeparatorLength:100,afterSeparatorOffset:20,currentPartSizeExtension:10,currentBorderWidth:40,motionConfig:"wobbly",tooltip:({data:e})=>ma.jsxs("div",{className:"bg-white p-2 shadow-lg rounded border border-gray-200",children:[ma.jsx("div",{className:"font-semibold",children:e.label}),ma.jsxs("div",{className:"text-sm text-gray-600",children:["Value: ",e.value.toLocaleString()]})]})})})]}),g_=Object.freeze(Object.defineProperty({__proto__:null,default:p_},Symbol.toStringTag,{value:"Module"}));var x_,y_;const b_=l(function(){if(y_)return x_;y_=1;var e=Kt();return x_=function(t){return t&&t.length?e(t):[]}}());function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},v_.apply(null,arguments)}var j_=0,w_=0,N_=0,k_=0,__="left-to-right",C_=!1,S_="square",D_=16,A_=8,O_={top:0,right:0,bottom:0,left:0},z_=function(e){var t,a=e.direction,r=e.itemsSpacing,n=e.padding,s=e.itemCount,i=e.itemWidth,o=e.itemHeight;if("number"!=typeof n&&("object"!=typeof(t=n)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var l="number"==typeof n?{top:n,right:n,bottom:n,left:n}:v_({},O_,n),c=l.left+l.right,d=l.top+l.bottom,u=i+c,m=o+d,h=(s-1)*r;return"row"===a?u=i*s+h+c:"column"===a&&(m=o*s+h+d),{width:u,height:m,padding:l}},T_=function(e){var t=e.anchor,a=e.translateX,r=e.translateY,n=e.containerWidth,s=e.containerHeight,i=e.width,o=e.height,l=a,c=r;switch(t){case"top":l+=(n-i)/2;break;case"top-right":l+=n-i;break;case"right":l+=n-i,c+=(s-o)/2;break;case"bottom-right":l+=n-i,c+=s-o;break;case"bottom":l+=(n-i)/2,c+=s-o;break;case"bottom-left":c+=s-o;break;case"left":c+=(s-o)/2;break;case"center":l+=(n-i)/2,c+=(s-o)/2}return{x:l,y:c}},E_=function(e){var t,a,r,n,s,i,o=e.direction,l=e.justify,c=e.symbolSize,d=e.symbolSpacing,u=e.width,m=e.height;switch(o){case"left-to-right":t=0,a=(m-c)/2,n=m/2,i="central",l?(r=u,s="end"):(r=c+d,s="start");break;case"right-to-left":t=u-c,a=(m-c)/2,n=m/2,i="central",l?(r=0,s="start"):(r=u-c-d,s="end");break;case"top-to-bottom":t=(u-c)/2,a=0,r=u/2,s="middle",l?(n=m,i="alphabetic"):(n=c+d,i="text-before-edge");break;case"bottom-to-top":t=(u-c)/2,a=m-c,r=u/2,s="middle",l?(n=0,i="text-before-edge"):(n=m-c-d,i="alphabetic")}return{symbolX:t,symbolY:a,labelX:r,labelY:n,labelAnchor:s,labelAlignment:i}},M_={circle:function(e){var t=e.x,a=e.y,r=e.size,n=e.fill,s=e.opacity,i=void 0===s?1:s,o=e.borderWidth,l=void 0===o?0:o,c=e.borderColor;return ma.jsx("circle",{r:r/2,cx:t+r/2,cy:a+r/2,fill:n,opacity:i,strokeWidth:l,stroke:void 0===c?"transparent":c,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,a=e.y,r=e.size,n=e.fill,s=e.opacity,i=void 0===s?1:s,o=e.borderWidth,l=void 0===o?0:o,c=e.borderColor;return ma.jsx("g",{transform:"translate("+t+","+a+")",children:ma.jsx("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:n,opacity:i,strokeWidth:l,stroke:void 0===c?"transparent":c,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,a=e.y,r=e.size,n=e.fill,s=e.opacity,i=void 0===s?1:s,o=e.borderWidth,l=void 0===o?0:o,c=e.borderColor;return ma.jsx("rect",{x:t,y:a,fill:n,opacity:i,strokeWidth:l,stroke:void 0===c?"transparent":c,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,a=e.y,r=e.size,n=e.fill,s=e.opacity,i=void 0===s?1:s,o=e.borderWidth,l=void 0===o?0:o,c=e.borderColor;return ma.jsx("g",{transform:"translate("+t+","+a+")",children:ma.jsx("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:n,opacity:i,strokeWidth:l,stroke:void 0===c?"transparent":c,style:{pointerEvents:"none"}})})}},P_=function(e){var t,r,n,s,i,o,l,c,d,u,m,h=e.x,f=e.y,p=e.width,g=e.height,x=e.data,y=e.direction,b=void 0===y?__:y,v=e.justify,j=void 0===v?C_:v,w=e.textColor,N=e.background,k=void 0===N?"transparent":N,_=e.opacity,C=void 0===_?1:_,S=e.symbolShape,D=void 0===S?S_:S,A=e.symbolSize,O=void 0===A?D_:A,z=e.symbolSpacing,T=void 0===z?A_:z,E=e.symbolBorderWidth,M=void 0===E?0:E,P=e.symbolBorderColor,L=void 0===P?"transparent":P,I=e.onClick,$=e.onMouseEnter,F=e.onMouseLeave,R=e.toggleSerie,B=e.effects,W=a.useState({}),U=W[0],H=W[1],Y=Xg(),V=a.useCallback(function(e){if(B){var t=B.filter(function(e){return"hover"===e.on}).reduce(function(e,t){return v_({},e,t.style)},{});H(t)}null==$||$(x,e)},[$,x,B]),K=a.useCallback(function(e){if(B){var t=B.filter(function(e){return"hover"!==e.on}).reduce(function(e,t){return v_({},e,t.style)},{});H(t)}null==F||F(x,e)},[F,x,B]),G=E_({direction:b,justify:j,symbolSize:null!=(t=U.symbolSize)?t:O,symbolSpacing:T,width:p,height:g}),q=G.symbolX,Z=G.symbolY,Q=G.labelX,X=G.labelY,J=G.labelAnchor,ee=G.labelAlignment,te=[I,$,F,R].some(function(e){return void 0!==e}),ae="function"==typeof D?D:M_[D];return ma.jsxs("g",{transform:"translate("+h+","+f+")",style:{opacity:null!=(r=U.itemOpacity)?r:C},children:[ma.jsx("rect",{width:p,height:g,fill:null!=(n=U.itemBackground)?n:k,style:{cursor:te?"pointer":"auto"},onClick:function(e){null==I||I(x,e),null==R||R(x.id)},onMouseEnter:V,onMouseLeave:K}),a.createElement(ae,v_({id:x.id,x:q,y:Z,size:null!=(s=U.symbolSize)?s:O,fill:null!=(i=null!=(o=x.fill)?o:x.color)?i:"black",borderWidth:null!=(l=U.symbolBorderWidth)?l:M,borderColor:null!=(c=U.symbolBorderColor)?c:L},x.hidden?Y.legends.hidden.symbol:void 0)),ma.jsx(kN,{textAnchor:J,style:v_({},Y.legends.text,{fill:null!=(d=null!=(u=null!=(m=U.itemTextColor)?m:w)?u:Y.legends.text.fill)?d:"black",dominantBaseline:ee,pointerEvents:"none",userSelect:"none"},x.hidden?Y.legends.hidden.text:void 0),x:Q,y:X,children:x.label})]})},L_=function(e){var t=e.data,a=e.x,r=e.y,n=e.direction,s=e.padding,i=void 0===s?N_:s,o=e.justify,l=e.effects,c=e.itemWidth,d=e.itemHeight,u=e.itemDirection,m=void 0===u?__:u,h=e.itemsSpacing,f=void 0===h?k_:h,p=e.itemTextColor,g=e.itemBackground,x=void 0===g?"transparent":g,y=e.itemOpacity,b=void 0===y?1:y,v=e.symbolShape,j=e.symbolSize,w=e.symbolSpacing,N=e.symbolBorderWidth,k=e.symbolBorderColor,_=e.onClick,C=e.onMouseEnter,S=e.onMouseLeave,D=e.toggleSerie,A=z_({itemCount:t.length,itemWidth:c,itemHeight:d,itemsSpacing:f,direction:n,padding:i}).padding,O="row"===n?c+f:0,z="column"===n?d+f:0;return ma.jsx("g",{transform:"translate("+a+","+r+")",children:t.map(function(e,t){return ma.jsx(P_,{data:e,x:t*O+A.left,y:t*z+A.top,width:c,height:d,direction:m,justify:o,effects:l,textColor:p,background:x,opacity:b,symbolShape:v,symbolSize:j,symbolSpacing:w,symbolBorderWidth:N,symbolBorderColor:k,onClick:_,onMouseEnter:C,onMouseLeave:S,toggleSerie:D},t)})})},I_=function(e){var t=e.data,a=e.containerWidth,r=e.containerHeight,n=e.translateX,s=void 0===n?j_:n,i=e.translateY,o=void 0===i?w_:i,l=e.anchor,c=e.direction,d=e.padding,u=void 0===d?N_:d,m=e.justify,h=e.itemsSpacing,f=void 0===h?k_:h,p=e.itemWidth,g=e.itemHeight,x=e.itemDirection,y=e.itemTextColor,b=e.itemBackground,v=e.itemOpacity,j=e.symbolShape,w=e.symbolSize,N=e.symbolSpacing,k=e.symbolBorderWidth,_=e.symbolBorderColor,C=e.onClick,S=e.onMouseEnter,D=e.onMouseLeave,A=e.toggleSerie,O=e.effects,z=z_({itemCount:t.length,itemsSpacing:f,itemWidth:p,itemHeight:g,direction:c,padding:u}),T=z.width,E=z.height,M=T_({anchor:l,translateX:s,translateY:o,containerWidth:a,containerHeight:r,width:T,height:E}),P=M.x,L=M.y;return ma.jsx(L_,{data:t,x:P,y:L,direction:c,padding:u,justify:m,effects:O,itemsSpacing:f,itemWidth:p,itemHeight:g,itemDirection:x,itemTextColor:y,itemBackground:b,itemOpacity:v,symbolShape:j,symbolSize:w,symbolSpacing:N,symbolBorderWidth:k,symbolBorderColor:_,onClick:C,onMouseEnter:S,onMouseLeave:D,toggleSerie:"boolean"==typeof A?void 0:A})},$_={start:"left",middle:"center",end:"right"};function F_(e,t){let a;if(void 0===t)for(const r of e)null!=r&&(a<r||void 0===a&&r>=r)&&(a=r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(a<n||void 0===a&&n>=n)&&(a=n)}return a}function R_(e,t){let a;if(void 0===t)for(const r of e)null!=r&&(a>r||void 0===a&&r>=r)&&(a=r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(a>n||void 0===a&&n>=n)&&(a=n)}return a}function B_(e,t){let a=0;if(void 0===t)for(let r of e)(r=+r)&&(a+=r);else{let r=-1;for(let n of e)(n=+t(n,++r,e))&&(a+=n)}return a}function W_(e){return e.target.depth}function U_(e,t){return e.sourceLinks.length?e.depth:t-1}function H_(e){return function(){return e}}function Y_(e,t){return K_(e.source,t.source)||e.index-t.index}function V_(e,t){return K_(e.target,t.target)||e.index-t.index}function K_(e,t){return e.y0-t.y0}function G_(e){return e.value}function q_(e){return e.index}function Z_(e){return e.nodes}function Q_(e){return e.links}function X_(e,t){const a=e.get(t);if(!a)throw new Error("missing: "+t);return a}function J_({nodes:e}){for(const t of e){let e=t.y0,a=e;for(const r of t.sourceLinks)r.y0=e+r.width/2,e+=r.width;for(const r of t.targetLinks)r.y1=a+r.width/2,a+=r.width}}function eC(){let e,t,a,r=0,n=0,s=1,i=1,o=24,l=8,c=q_,d=U_,u=Z_,m=Q_,h=6;function f(){const f={nodes:u.apply(null,arguments),links:m.apply(null,arguments)};return function({nodes:e,links:t}){for(const[a,n]of e.entries())n.index=a,n.sourceLinks=[],n.targetLinks=[];const r=new Map(e.map((t,a)=>[c(t,a,e),t]));for(const[a,n]of t.entries()){n.index=a;let{source:e,target:t}=n;"object"!=typeof e&&(e=n.source=X_(r,e)),"object"!=typeof t&&(t=n.target=X_(r,t)),e.sourceLinks.push(n),t.targetLinks.push(n)}if(null!=a)for(const{sourceLinks:n,targetLinks:s}of e)n.sort(a),s.sort(a)}(f),function({nodes:e}){for(const t of e)t.value=void 0===t.fixedValue?Math.max(B_(t.sourceLinks,G_),B_(t.targetLinks,G_)):t.fixedValue}(f),function({nodes:e}){const t=e.length;let a=new Set(e),r=new Set,n=0;for(;a.size;){for(const e of a){e.depth=n;for(const{target:t}of e.sourceLinks)r.add(t)}if(++n>t)throw new Error("circular link");a=r,r=new Set}}(f),function({nodes:e}){const t=e.length;let a=new Set(e),r=new Set,n=0;for(;a.size;){for(const e of a){e.height=n;for(const{source:t}of e.targetLinks)r.add(t)}if(++n>t)throw new Error("circular link");a=r,r=new Set}}(f),function(a){const c=function({nodes:e}){const a=F_(e,e=>e.depth)+1,n=(s-r-o)/(a-1),i=new Array(a);for(const t of e){const e=Math.max(0,Math.min(a-1,Math.floor(d.call(null,t,a))));t.layer=e,t.x0=r+e*n,t.x1=t.x0+o,i[e]?i[e].push(t):i[e]=[t]}if(t)for(const r of i)r.sort(t);return i}(a);e=Math.min(l,(i-n)/(F_(c,e=>e.length)-1)),function(t){const a=R_(t,t=>(i-n-(t.length-1)*e)/B_(t,G_));for(const r of t){let t=n;for(const n of r){n.y0=t,n.y1=t+n.value*a,t=n.y1+e;for(const e of n.sourceLinks)e.width=e.value*a}t=(i-t+e)/(r.length+1);for(let e=0;e<r.length;++e){const a=r[e];a.y0+=t*(e+1),a.y1+=t*(e+1)}j(r)}}(c);for(let e=0;e<h;++e){const t=Math.pow(.99,e),a=Math.max(1-t,(e+1)/h);g(c,t,a),p(c,t,a)}}(f),J_(f),f}function p(e,a,r){for(let n=1,s=e.length;n<s;++n){const s=e[n];for(const e of s){let t=0,r=0;for(const{source:a,value:s}of e.targetLinks){let n=s*(e.layer-a.layer);t+=w(a,e)*n,r+=n}if(!(r>0))continue;let n=(t/r-e.y0)*a;e.y0+=n,e.y1+=n,v(e)}void 0===t&&s.sort(K_),x(s,r)}}function g(e,a,r){for(let n=e.length-2;n>=0;--n){const s=e[n];for(const e of s){let t=0,r=0;for(const{target:a,value:s}of e.sourceLinks){let n=s*(a.layer-e.layer);t+=N(e,a)*n,r+=n}if(!(r>0))continue;let n=(t/r-e.y0)*a;e.y0+=n,e.y1+=n,v(e)}void 0===t&&s.sort(K_),x(s,r)}}function x(t,a){const r=t.length>>1,s=t[r];b(t,s.y0-e,r-1,a),y(t,s.y1+e,r+1,a),b(t,i,t.length-1,a),y(t,n,0,a)}function y(t,a,r,n){for(;r<t.length;++r){const s=t[r],i=(a-s.y0)*n;i>1e-6&&(s.y0+=i,s.y1+=i),a=s.y1+e}}function b(t,a,r,n){for(;r>=0;--r){const s=t[r],i=(s.y1-a)*n;i>1e-6&&(s.y0-=i,s.y1-=i),a=s.y0-e}}function v({sourceLinks:e,targetLinks:t}){if(void 0===a){for(const{source:{sourceLinks:e}}of t)e.sort(V_);for(const{target:{targetLinks:t}}of e)t.sort(Y_)}}function j(e){if(void 0===a)for(const{sourceLinks:t,targetLinks:a}of e)t.sort(V_),a.sort(Y_)}function w(t,a){let r=t.y0-(t.sourceLinks.length-1)*e/2;for(const{target:n,width:s}of t.sourceLinks){if(n===a)break;r+=s+e}for(const{source:e,width:n}of a.targetLinks){if(e===t)break;r-=n}return r}function N(t,a){let r=a.y0-(a.targetLinks.length-1)*e/2;for(const{source:n,width:s}of a.targetLinks){if(n===t)break;r+=s+e}for(const{target:e,width:n}of t.sourceLinks){if(e===a)break;r-=n}return r}return f.update=function(e){return J_(e),e},f.nodeId=function(e){return arguments.length?(c="function"==typeof e?e:H_(e),f):c},f.nodeAlign=function(e){return arguments.length?(d="function"==typeof e?e:H_(e),f):d},f.nodeSort=function(e){return arguments.length?(t=e,f):t},f.nodeWidth=function(e){return arguments.length?(o=+e,f):o},f.nodePadding=function(t){return arguments.length?(l=e=+t,f):l},f.nodes=function(e){return arguments.length?(u="function"==typeof e?e:H_(e),f):u},f.links=function(e){return arguments.length?(m="function"==typeof e?e:H_(e),f):m},f.linkSort=function(e){return arguments.length?(a=e,f):a},f.size=function(e){return arguments.length?(r=n=0,s=+e[0],i=+e[1],f):[s-r,i-n]},f.extent=function(e){return arguments.length?(r=+e[0][0],s=+e[1][0],n=+e[0][1],i=+e[1][1],f):[[r,n],[s,i]]},f.iterations=function(e){return arguments.length?(h=+e,f):h},f}function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},tC.apply(null,arguments)}function aC(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var rC={container:{display:"flex",alignItems:"center"},sourceChip:{marginRight:7},targetChip:{marginLeft:7,marginRight:7}},nC={center:function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?R_(e.sourceLinks,W_)-1:0},justify:U_,start:function(e){return e.depth},end:function(e,t){return t-1-e.height}},sC={layout:"horizontal",align:"center",sort:"auto",colors:{scheme:"nivo"},nodeOpacity:.75,nodeHoverOpacity:1,nodeHoverOthersOpacity:.15,nodeThickness:12,nodeInnerPadding:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:0,linkOpacity:.25,linkHoverOpacity:.6,linkHoverOthersOpacity:.15,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!1,enableLabels:!0,label:"id",labelPosition:"inside",labelPadding:9,labelOrientation:"horizontal",labelTextColor:{from:"color",modifiers:[["darker",.8]]},labelComponent:kN,isInteractive:!0,nodeTooltip:function(e){var t=e.node;return ma.jsx(sx,{id:t.label,enableChip:!0,color:t.color})},linkTooltip:function(e){var t=e.link;return ma.jsx(sx,{id:ma.jsxs("span",{style:rC.container,children:[ma.jsx(nx,{color:t.source.color,style:rC.sourceChip}),ma.jsx("strong",{children:t.source.label})," > ",ma.jsx("strong",{children:t.target.label}),ma.jsx(nx,{color:t.target.color,style:rC.targetChip}),ma.jsx("strong",{children:t.formattedValue})]})})},legends:[],layers:["links","nodes","labels","legends"],role:"img",animate:!0,motionConfig:"gentle"},iC=function(e){return e.id},oC=function(e){var t=e.data,r=e.valueFormat,n=e.layout,s=e.width,i=e.height,o=e.sort,l=e.align,c=e.colors,d=e.nodeThickness,u=e.nodeSpacing,m=e.nodeInnerPadding,h=e.nodeBorderColor,f=e.label,p=e.labelTextColor,g=a.useState(null),x=g[0],y=g[1],b=a.useState(null),v=b[0],j=b[1],w=a.useMemo(function(){if("auto"!==o)return"input"===o?null:"ascending"===o?function(e,t){return e.value-t.value}:"descending"===o?function(e,t){return t.value-e.value}:o},[o]),N="input"===o?null:void 0,k=a.useMemo(function(){return"function"==typeof l?l:nC[l]},[l]),_=Xg(),C=xN(c,"id"),S=pN(h,_),D=uw(f),A=pN(p,_),O=dw(r),z=a.useMemo(function(){return a=(e={data:t,formatValue:O,layout:n,alignFunction:k,sortFunction:w,linkSortMode:N,nodeThickness:d,nodeSpacing:u,nodeInnerPadding:m,width:s,height:i,getColor:C,getLabel:D}).data,r=e.formatValue,o=e.layout,l=e.alignFunction,c=e.sortFunction,h=e.linkSortMode,f=e.nodeThickness,p=e.nodeSpacing,g=e.nodeInnerPadding,x=e.width,y=e.height,b=e.getColor,v=e.getLabel,j=eC().nodeAlign(l).nodeSort(c).linkSort(h).nodeWidth(f).nodePadding(p).size("horizontal"===o?[x,y]:[y,x]).nodeId(iC),_=yw(a),j(_),_.nodes.forEach(function(e){if(e.color=b(e),e.label=v(e),e.formattedValue=r(e.value),"horizontal"===o)e.x=e.x0+g,e.y=e.y0,e.width=Math.max(e.x1-e.x0-2*g,0),e.height=Math.max(e.y1-e.y0,0);else{e.x=e.y0,e.y=e.x0+g,e.width=Math.max(e.y1-e.y0,0),e.height=Math.max(e.x1-e.x0-2*g,0);var t=e.x0,a=e.x1;e.x0=e.y0,e.x1=e.y1,e.y0=t,e.y1=a}}),_.links.forEach(function(e){e.formattedValue=r(e.value),e.color=e.source.color,e.pos0=e.y0,e.pos1=e.y1,e.thickness=e.width,delete e.y0,delete e.y1,delete e.width}),_;var e,a,r,o,l,c,h,f,p,g,x,y,b,v,j,_},[t,O,n,k,w,N,d,u,m,s,i,C,D]),T=z.nodes,E=z.links,M=a.useMemo(function(){return T.map(function(e){return{id:e.id,label:e.label,color:e.color}})},[T]);return{nodes:T,links:E,legendData:M,getNodeBorderColor:S,currentNode:x,setCurrentNode:y,currentLink:v,setCurrentLink:j,getLabelTextColor:A}},lC=function(e){var t=e.node,r=e.x,n=e.y,s=e.width,i=e.height,o=e.color,l=e.opacity,c=e.borderWidth,d=e.borderColor,u=e.borderRadius,m=e.setCurrent,h=e.isInteractive,f=e.onClick,p=e.tooltip,g=bj(),x=g.animate,y=qp({x:r,y:n,width:s,height:i,opacity:l,color:o,config:g.config,immediate:!x}),b=ux(),v=b.showTooltipFromEvent,j=b.hideTooltip,w=a.useCallback(function(e){m(t),v(a.createElement(p,{node:t}),e,"left")},[m,t,v,p]),N=a.useCallback(function(e){v(a.createElement(p,{node:t}),e,"left")},[v,t,p]),k=a.useCallback(function(){m(null),j()},[m,j]),_=a.useCallback(function(e){null==f||f(t,e)},[f,t]);return ma.jsx(zg.rect,{x:y.x,y:y.y,rx:u,ry:u,width:y.width.to(function(e){return Math.max(e,0)}),height:y.height.to(function(e){return Math.max(e,0)}),fill:y.color,fillOpacity:y.opacity,strokeWidth:c,stroke:d,strokeOpacity:l,onMouseEnter:h?w:void 0,onMouseMove:h?N:void 0,onMouseLeave:h?k:void 0,onClick:h?_:void 0})},cC=function(e){var t=e.nodes,a=e.nodeOpacity,r=e.nodeHoverOpacity,n=e.nodeHoverOthersOpacity,s=e.borderWidth,i=e.getBorderColor,o=e.borderRadius,l=e.setCurrentNode,c=e.currentNode,d=e.currentLink,u=e.isCurrentNode,m=e.isInteractive,h=e.onClick,f=e.tooltip,p=function(e){return c||d?u(e)?r:n:a};return ma.jsx(ma.Fragment,{children:t.map(function(e){return ma.jsx(lC,{node:e,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:p(e),borderWidth:s,borderColor:i(e),borderRadius:o,setCurrent:l,isInteractive:m,onClick:h,tooltip:f},e.id)})})},dC=function(e){var t=e.id,a=e.layout,r=e.startColor,n=e.endColor;return ma.jsxs("linearGradient",tC({id:t,spreadMethod:"pad"},"horizontal"===a?{x1:"0%",x2:"100%",y1:"0%",y2:"0%"}:{x1:"0%",x2:"0%",y1:"0%",y2:"100%"},{children:[ma.jsx("stop",{offset:"0%",stopColor:r}),ma.jsx("stop",{offset:"100%",stopColor:n})]}))},uC=function(e){var t=e.link,r=e.layout,n=e.path,s=e.color,i=e.opacity,o=e.blendMode,l=e.enableGradient,c=e.setCurrent,d=e.tooltip,u=e.isInteractive,m=e.onClick,h=t.source.id+"."+t.target.id+"."+t.index,f=bj(),p=f.animate,g=f.config,x=aw(n),y=qp({color:s,opacity:i,config:g,immediate:!p}),b=ux(),v=b.showTooltipFromEvent,j=b.hideTooltip,w=a.useCallback(function(e){c(t),v(a.createElement(d,{link:t}),e,"left")},[c,t,v,d]),N=a.useCallback(function(e){v(a.createElement(d,{link:t}),e,"left")},[v,t,d]),k=a.useCallback(function(){c(null),j()},[c,j]),_=a.useCallback(function(e){null==m||m(t,e)},[m,t]);return ma.jsxs(ma.Fragment,{children:[l&&ma.jsx(dC,{id:h,layout:r,startColor:t.startColor||t.source.color,endColor:t.endColor||t.target.color}),ma.jsx(zg.path,{fill:l?'url("#'+encodeURI(h)+'")':y.color,d:x,fillOpacity:y.opacity,onMouseEnter:u?w:void 0,onMouseMove:u?N:void 0,onMouseLeave:u?k:void 0,onClick:u?_:void 0,style:{mixBlendMode:o}})]})},mC=function(e){var t=e.links,r=e.layout,n=e.linkOpacity,s=e.linkHoverOpacity,i=e.linkHoverOthersOpacity,o=e.linkContract,l=e.linkBlendMode,c=e.enableLinkGradient,d=e.setCurrentLink,u=e.currentLink,m=e.currentNode,h=e.isCurrentLink,f=e.isInteractive,p=e.onClick,g=e.tooltip,x=function(e){return m||u?h(e)?s:i:n},y=a.useMemo(function(){return"horizontal"===r?(t=Yt().curve(yt),function(e,a){var r=Math.max(1,e.thickness-2*a)/2,n=.12*(e.target.x0-e.source.x1),s=[[e.source.x1,e.pos0-r],[e.source.x1+n,e.pos0-r],[e.target.x0-n,e.pos1-r],[e.target.x0,e.pos1-r],[e.target.x0,e.pos1+r],[e.target.x0-n,e.pos1+r],[e.source.x1+n,e.pos0+r],[e.source.x1,e.pos0+r],[e.source.x1,e.pos0-r]];return t(s)+"Z"}):(e=Yt().curve(xt),function(t,a){var r=Math.max(1,t.thickness-2*a)/2,n=.12*(t.target.y0-t.source.y1),s=[[t.pos0+r,t.source.y1],[t.pos0+r,t.source.y1+n],[t.pos1+r,t.target.y0-n],[t.pos1+r,t.target.y0],[t.pos1-r,t.target.y0],[t.pos1-r,t.target.y0-n],[t.pos0-r,t.source.y1+n],[t.pos0-r,t.source.y1],[t.pos0+r,t.source.y1]];return e(s)+"Z"});var e,t},[r]);return ma.jsx(ma.Fragment,{children:t.map(function(e){return ma.jsx(uC,{link:e,layout:r,path:y(e,o),color:e.color,opacity:x(e),blendMode:l,enableGradient:c,setCurrent:d,isInteractive:f,onClick:p,tooltip:g},e.source.id+"."+e.target.id+"."+e.index)})})},hC=function(e){var t=e.nodes,a=e.layout,r=e.width,n=e.height,s=e.labelPosition,i=e.labelPadding,o=e.labelOrientation,l=e.getLabelTextColor,c=e.labelComponent,d=Xg(),u="vertical"===o?-90:0,m=t.map(function(e){var t,c,d;return"horizontal"===a?(c=e.y+e.height/2,e.x<r/2?"inside"===s?(t=e.x1+i,d="vertical"===o?"middle":"start"):(t=e.x-i,d="vertical"===o?"middle":"end"):"inside"===s?(t=e.x-i,d="vertical"===o?"middle":"end"):(t=e.x1+i,d="vertical"===o?"middle":"start")):"vertical"===a&&(t=e.x+e.width/2,e.y<n/2?"inside"===s?(c=e.y1+i,d="vertical"===o?"end":"middle"):(c=e.y-i,d="vertical"===o?"start":"middle"):"inside"===s?(c=e.y-i,d="vertical"===o?"start":"middle"):(c=e.y1+i,d="vertical"===o?"end":"middle")),{id:e.id,label:e.label,x:t,y:c,textAnchor:d,color:l(e)}}),h=bj(),f=h.animate,p=h.config,g=Gp(m.length,m.map(function(e){return{transform:"translate("+e.x+", "+e.y+") rotate("+u+")",color:e.color,config:p,immediate:!f}}));return ma.jsx(ma.Fragment,{children:g.map(function(e,a){var r=m[a];return ma.jsx(c,{dominantBaseline:"central",textAnchor:r.textAnchor,transform:e.transform,style:tC({},d.labels.text,{fill:e.color,pointerEvents:"none"}),node:t[a],children:r.label},r.id)})})},fC=["isInteractive","animate","motionConfig","theme","renderWrapper"],pC=function(e){var t=e.data,r=e.valueFormat,n=e.layout,s=void 0===n?sC.layout:n,i=e.sort,o=void 0===i?sC.sort:i,l=e.align,c=void 0===l?sC.align:l,d=e.width,u=e.height,m=e.margin,h=e.colors,f=void 0===h?sC.colors:h,p=e.nodeThickness,g=void 0===p?sC.nodeThickness:p,x=e.nodeSpacing,y=void 0===x?sC.nodeThickness:x,b=e.nodeInnerPadding,v=void 0===b?sC.nodeInnerPadding:b,j=e.nodeBorderColor,w=void 0===j?sC.nodeBorderColor:j,N=e.nodeOpacity,k=void 0===N?sC.nodeOpacity:N,_=e.nodeHoverOpacity,C=void 0===_?sC.nodeHoverOpacity:_,S=e.nodeHoverOthersOpacity,D=void 0===S?sC.nodeHoverOthersOpacity:S,A=e.nodeBorderWidth,O=void 0===A?sC.nodeBorderWidth:A,z=e.nodeBorderRadius,T=void 0===z?sC.nodeBorderRadius:z,E=e.linkOpacity,M=void 0===E?sC.linkOpacity:E,P=e.linkHoverOpacity,L=void 0===P?sC.linkHoverOpacity:P,I=e.linkHoverOthersOpacity,$=void 0===I?sC.linkHoverOthersOpacity:I,F=e.linkContract,R=void 0===F?sC.linkContract:F,B=e.linkBlendMode,W=void 0===B?sC.linkBlendMode:B,U=e.enableLinkGradient,H=void 0===U?sC.enableLinkGradient:U,Y=e.enableLabels,V=void 0===Y?sC.enableLabels:Y,K=e.labelComponent,G=void 0===K?sC.labelComponent:K,q=e.labelPosition,Z=void 0===q?sC.labelPosition:q,Q=e.labelPadding,X=void 0===Q?sC.labelPadding:Q,J=e.labelOrientation,ee=void 0===J?sC.labelOrientation:J,te=e.label,ae=void 0===te?sC.label:te,re=e.labelTextColor,ne=void 0===re?sC.labelTextColor:re,se=e.nodeTooltip,ie=void 0===se?sC.nodeTooltip:se,oe=e.linkTooltip,le=void 0===oe?sC.linkTooltip:oe,ce=e.isInteractive,de=void 0===ce?sC.isInteractive:ce,ue=e.onClick,me=e.legends,he=void 0===me?sC.legends:me,fe=e.layers,pe=void 0===fe?sC.layers:fe,ge=e.role,xe=void 0===ge?sC.role:ge,ye=e.ariaLabel,be=e.ariaLabelledBy,ve=e.ariaDescribedBy,je=e.forwardedRef,we=lw(d,u,m),Ne=we.margin,ke=we.innerWidth,_e=we.innerHeight,Ce=we.outerWidth,Se=we.outerHeight,De=oC({data:t,valueFormat:r,layout:s,width:ke,height:_e,sort:o,align:c,colors:f,nodeThickness:g,nodeSpacing:y,nodeInnerPadding:v,nodeBorderColor:w,label:ae,labelTextColor:ne}),Ae=De.nodes,Oe=De.links,ze=De.legendData,Te=De.getNodeBorderColor,Ee=De.currentNode,Me=De.setCurrentNode,Pe=De.currentLink,Le=De.setCurrentLink,Ie=De.getLabelTextColor,$e=a.useMemo(function(){var e=function(){return!1},t=function(){return!1};if(Pe&&(e=function(e){var t=e.id;return t===Pe.source.id||t===Pe.target.id},t=function(e){var t=e.source,a=e.target;return t.id===Pe.source.id&&a.id===Pe.target.id}),Ee){var a=[Ee.id];Oe.filter(function(e){var t=e.source,a=e.target;return t.id===Ee.id||a.id===Ee.id}).forEach(function(e){var t=e.source,r=e.target;a.push(t.id),a.push(r.id)}),a=b_(a),e=function(e){var t=e.id;return a.includes(t)},t=function(e){var t=e.source,a=e.target;return t.id===Ee.id||a.id===Ee.id}}return{isCurrentNode:e,isCurrentLink:t}},[Pe,Ee,Oe]),Fe=$e.isCurrentNode,Re=$e.isCurrentLink,Be=a.useMemo(function(){return{links:Oe,nodes:Ae,margin:Ne,width:d,height:u,outerWidth:Ce,outerHeight:Se,currentNode:Ee,isCurrentNode:Fe,setCurrentNode:Me,currentLink:Pe,isCurrentLink:Re,setCurrentLink:Le,isInteractive:de}},[Oe,Ae,Ne,d,u,Ce,Se,Ee,Fe,Me,Pe,Re,Le,de]),We={links:null,nodes:null,labels:null,legends:null};return pe.includes("links")&&(We.links=ma.jsx(mC,{links:Oe,layout:s,linkContract:R,linkOpacity:M,linkHoverOpacity:L,linkHoverOthersOpacity:$,linkBlendMode:W,enableLinkGradient:H,setCurrentLink:Le,currentNode:Ee,currentLink:Pe,isCurrentLink:Re,isInteractive:de,onClick:ue,tooltip:le},"links")),pe.includes("nodes")&&(We.nodes=ma.jsx(cC,{nodes:Ae,nodeOpacity:k,nodeHoverOpacity:C,nodeHoverOthersOpacity:D,borderWidth:O,borderRadius:T,getBorderColor:Te,setCurrentNode:Me,currentNode:Ee,currentLink:Pe,isCurrentNode:Fe,isInteractive:de,onClick:ue,tooltip:ie},"nodes")),pe.includes("labels")&&V&&(We.labels=ma.jsx(hC,{nodes:Ae,layout:s,width:ke,height:_e,labelPosition:Z,labelPadding:X,labelOrientation:ee,getLabelTextColor:Ie,labelComponent:G},"labels")),pe.includes("legends")&&(We.legends=ma.jsx(a.Fragment,{children:he.map(function(e,t){return ma.jsx(I_,tC({},e,{containerWidth:ke,containerHeight:_e,data:ze}),"legend"+t)})},"legends")),ma.jsx(Jj,{width:Ce,height:Se,margin:Ne,role:xe,ariaLabel:ye,ariaLabelledBy:be,ariaDescribedBy:ve,ref:je,children:pe.map(function(e,t){var r;return"function"==typeof e?ma.jsx(a.Fragment,{children:a.createElement(e,Be)},t):null!=(r=null==We?void 0:We[e])?r:null})})},gC=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?sC.isInteractive:a,n=e.animate,s=void 0===n?sC.animate:n,i=e.motionConfig,o=void 0===i?sC.motionConfig:i,l=e.theme,c=e.renderWrapper,d=aC(e,fC);return ma.jsx(wj,{animate:s,isInteractive:r,motionConfig:o,renderWrapper:c,theme:l,children:ma.jsx(pC,tC({isInteractive:r},d,{forwardedRef:t}))})}),xC=["defaultWidth","defaultHeight","onResize","debounceResize"],yC=a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=aC(e,xC);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(gC,tC({width:a,height:r},i,{ref:t}))}})});const bC=({data:e,title:t,height:a=400,className:r=""})=>ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${r}`,children:[t&&ma.jsx("div",{className:"p-4 border-b border-gray-100",children:ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})}),ma.jsx("div",{style:{height:a},children:ma.jsx(yC,{data:e,margin:{top:40,right:160,bottom:40,left:50},align:"justify",colors:{scheme:"category10"},nodeOpacity:1,nodeThickness:18,nodeInnerPadding:3,nodeSpacing:24,nodeBorderWidth:0,linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!0,labelPosition:"outside",labelOrientation:"vertical",labelPadding:16,labelTextColor:{from:"color",modifiers:[["darker",1]]},tooltip:e=>ma.jsxs("div",{className:"bg-white p-2 shadow-lg rounded border border-gray-200",children:[ma.jsx("div",{className:"font-semibold",children:e.label}),e.value&&ma.jsxs("div",{className:"text-sm text-gray-600",children:["Value: ",e.value.toLocaleString()]})]})})})]}),vC=Object.freeze(Object.defineProperty({__proto__:null,default:bC},Symbol.toStringTag,{value:"Module"})),jC=({year:e,className:t})=>ma.jsx(pm,{type:"debt",year:e,title:`Análisis de Deuda ${e}`,className:t,variant:"pie",showControls:!0}),wC=Object.freeze(Object.defineProperty({__proto__:null,default:jC},Symbol.toStringTag,{value:"Module"})),NC=({year:e,className:t})=>ma.jsx(pm,{type:"budget",year:e,title:`Análisis Presupuestario ${e}`,className:t,variant:"bar",showControls:!0}),kC=["#0056b3","#28a745","#ff8c00","#ffffff","#20c997","#fd7e14","#6f42c1","#e83e8c","#6c757d","#17a2b8"],_C=[{key:"bar",label:"Barras",icon:ma.jsx(g,{size:16})},{key:"line",label:"Líneas",icon:ma.jsx(x,{size:16})},{key:"pie",label:"Circular",icon:ma.jsx(k,{size:16})},{key:"area",label:"Área",icon:ma.jsx(v,{size:16})},{key:"scatter",label:"Dispersión",icon:ma.jsx(x,{size:16})},{key:"composed",label:"Compuesto",icon:ma.jsx(te,{size:16})}],CC=({data:e,chartType:t,title:r,sources:n=[],showValidation:s=!0,xAxisDataKey:i="name",yAxisDataKey:o="value",dataKey:l="value",nameKey:c="name",height:d=400,additionalSeries:u=[],showControls:m=!0,timeRange:h="2000-2025",metadata:f,onChartTypeChange:p,onRetry:g,error:x})=>{const[y,b]=a.useState(t),[v,j]=a.useState(!0);a.useEffect(()=>{b(t)},[t]);const w=e=>e>=1e9?`${(e/1e9).toFixed(1)}B`:e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),N=a.useMemo(()=>{const t=e.map(e=>e[o]||e[l]||0),a=t.reduce((e,t)=>e+t,0);return{totalValue:a,avgValue:e.length>0?a/e.length:0,maxValue:Math.max(...t),minValue:Math.min(...t)}},[e,o,l]),{totalValue:k,avgValue:S,maxValue:D,minValue:z}=N,T=a.useCallback(({active:e,payload:t,label:a})=>e&&t&&t.length?ma.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[ma.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:a}),t.map((e,t)=>ma.jsxs("p",{style:{color:e.color},className:"text-sm",children:[e.name,": ",w(e.value)]},t)),t[0]?.payload?.source&&ma.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Fuente: ",t[0].payload.source]})]}):null,[]);if(x)return ma.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[ma.jsx("div",{className:"flex items-center justify-between mb-4",children:ma.jsxs("div",{children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:r}),ma.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Período: ",h," • ",e.length," elementos"]})]})}),ma.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-center",children:[ma.jsx(A,{className:"h-12 w-12 text-red-500 mb-4"}),ma.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Error al cargar los datos"}),ma.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:x}),g&&ma.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:[ma.jsx(O,{className:"h-4 w-4 mr-2"}),STRINGS.retry]})]})]});return ma.jsxs(ce.div,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[ma.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[ma.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[ma.jsxs("div",{children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r}),ma.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Período: ",h," • ",e.length," elementos"]})]}),m&&ma.jsx("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:_C.map(e=>ma.jsxs("button",{onClick:()=>(e=>{b(e),p&&p(e)})(e.key),className:"flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors "+(y===e.key?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),title:e.label,children:[e.icon,ma.jsx("span",{className:"ml-1 hidden sm:inline",children:e.label})]},e.key))})]}),ma.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[ma.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[ma.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Total"}),ma.jsx("p",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:w(k)})]}),ma.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[ma.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Promedio"}),ma.jsx("p",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:w(S)})]}),ma.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:[ma.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium",children:"Máximo"}),ma.jsx("p",{className:"text-lg font-bold text-yellow-900 dark:text-yellow-100",children:w(D)})]}),ma.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[ma.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Mínimo"}),ma.jsx("p",{className:"text-lg font-bold text-red-900 dark:text-red-100",children:w(z)})]})]})]}),ma.jsx("div",{className:"p-6",children:ma.jsx("div",{style:{height:d},children:ma.jsx(ue,{width:"100%",height:"100%",children:(()=>{switch(y){case"bar":return ma.jsxs(ke,{data:e,margin:{top:20,right:30,left:20,bottom:60},children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.3}),ma.jsx(fe,{dataKey:i,angle:-45,textAnchor:"end",height:60,tick:{fontSize:12},stroke:"#6B7280"}),ma.jsx(pe,{tickFormatter:w,width:80,stroke:"#6B7280"}),ma.jsx(ge,{content:ma.jsx(T,{})}),ma.jsx(be,{}),ma.jsx(_e,{dataKey:o,name:r,fill:kC[0],radius:[4,4,0,0],children:e.map((e,t)=>ma.jsx(Ne,{fill:kC[t%kC.length]},`cell-${t}`))}),u.map((e,t)=>ma.jsx(_e,{dataKey:e.dataKey,name:e.name,fill:e.color,radius:[4,4,0,0]},e.dataKey))]});case"line":return ma.jsxs(ye,{data:e,margin:{top:20,right:30,left:20,bottom:20},children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.3}),ma.jsx(fe,{dataKey:i,stroke:"#6B7280"}),ma.jsx(pe,{tickFormatter:w,stroke:"#6B7280"}),ma.jsx(ge,{content:ma.jsx(T,{})}),ma.jsx(be,{}),ma.jsx(ve,{type:"monotone",dataKey:o,name:r,stroke:kC[0],strokeWidth:3,dot:{r:4,fill:kC[0]},activeDot:{r:6,fill:kC[0]}}),u.map((e,t)=>ma.jsx(ve,{type:"monotone",dataKey:e.dataKey,name:e.name,stroke:e.color,strokeWidth:2,dot:{r:4},activeDot:{r:6}},e.dataKey))]});case"pie":return ma.jsxs(je,{children:[ma.jsx(we,{data:e,cx:"50%",cy:"50%",labelLine:!0,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,outerRadius:.3*d,dataKey:l,nameKey:c,children:e.map((e,t)=>ma.jsx(Ne,{fill:kC[t%kC.length]},`cell-${t}`))}),ma.jsx(ge,{formatter:e=>[w(e),"Monto"]}),ma.jsx(be,{})]});case"area":return ma.jsxs(me,{data:e,margin:{top:20,right:30,left:20,bottom:20},children:[ma.jsx("defs",{children:ma.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[ma.jsx("stop",{offset:"5%",stopColor:kC[0],stopOpacity:.8}),ma.jsx("stop",{offset:"95%",stopColor:kC[0],stopOpacity:.1})]})}),ma.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.3}),ma.jsx(fe,{dataKey:i,stroke:"#6B7280"}),ma.jsx(pe,{tickFormatter:w,stroke:"#6B7280"}),ma.jsx(ge,{content:ma.jsx(T,{})}),ma.jsx(be,{}),ma.jsx(xe,{type:"monotone",dataKey:o,name:r,stroke:kC[0],fill:"url(#colorValue)",fillOpacity:.3})]});case"scatter":return ma.jsxs(ea,{data:e,margin:{top:20,right:30,left:20,bottom:20},children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.3}),ma.jsx(fe,{dataKey:i,name:"X",stroke:"#6B7280"}),ma.jsx(pe,{dataKey:o,name:"Y",tickFormatter:w,stroke:"#6B7280"}),ma.jsx(ge,{content:ma.jsx(T,{})}),ma.jsx(be,{}),ma.jsx(ta,{dataKey:o,name:r,fill:kC[0]})]});case"radar":return ma.jsxs(qt,{cx:"50%",cy:"50%",outerRadius:"80%",data:e,margin:{top:20,right:30,left:20,bottom:20},children:[ma.jsx(Zt,{}),ma.jsx(Qt,{dataKey:i}),ma.jsx(Xt,{}),ma.jsx(Jt,{dataKey:o,name:r,stroke:kC[0],fill:kC[0],fillOpacity:.3}),ma.jsx(ge,{formatter:e=>[w(e),"Monto"]}),ma.jsx(be,{})]});case"composed":return ma.jsxs(Gt,{data:e,margin:{top:20,right:30,left:20,bottom:20},children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.3}),ma.jsx(fe,{dataKey:i,stroke:"#6B7280"}),ma.jsx(pe,{tickFormatter:w,stroke:"#6B7280"}),ma.jsx(ge,{content:ma.jsx(T,{})}),ma.jsx(be,{}),ma.jsx(_e,{dataKey:o,fill:kC[0],name:r}),ma.jsx(ve,{type:"monotone",dataKey:o,stroke:kC[1],strokeWidth:2,name:`${r} (Tendencia)`})]});default:return ma.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:["Tipo de gráfico no soportado: ",y]})}})()})})}),s&&ma.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[ma.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[ma.jsxs("div",{className:"flex items-center space-x-4",children:[ma.jsxs("span",{children:["Fuente: ",n&&n[0]?"Portal de Transparencia":"Carmen de Areco"]}),ma.jsxs("span",{children:["Validado: ",(new Date).toLocaleDateString("es-AR")]})]}),ma.jsxs("div",{className:"flex items-center space-x-1",children:[ma.jsx(_,{className:"h-3 w-3"}),ma.jsx("span",{children:"Datos verificados"})]})]}),f&&ma.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[ma.jsxs("div",{className:"flex items-center space-x-2",children:[ma.jsx(C,{className:"h-4 w-4 text-blue-500"}),ma.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fuentes de Datos:"})]}),ma.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium "+("HIGH"===f.dataQuality?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"MEDIUM"===f.dataQuality?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"HIGH"===f.dataQuality?"Alta Calidad":"MEDIUM"===f.dataQuality?"Calidad Media":"Calidad Básica"})]}),n&&n.length>1&&ma.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.slice(1).map((e,t)=>ma.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[ma.jsx(K,{className:"h-3 w-3 mr-1"}),"Fuente ",t+1]},t))})]})]})},SC=({tasks:e,title:t,height:a=400,className:r=""})=>ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${r}`,children:[t&&ma.jsx("div",{className:"p-4 border-b border-gray-100",children:ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})}),ma.jsx("div",{style:{height:a},className:"p-4",children:ma.jsxs("div",{className:"text-gray-600",children:["Gantt chart functionality temporarily disabled for build compatibility.",ma.jsx("div",{className:"mt-4 space-y-2",children:e.map(e=>ma.jsxs("div",{className:"p-2 border rounded bg-gray-50",children:[ma.jsx("div",{className:"font-medium",children:e.name}),ma.jsxs("div",{className:"text-sm text-gray-500",children:[e.start," - ",e.end," (",e.progress,"% complete)"]})]},e.id))})]})})]});var DC=new Date,AC=new Date;function OC(e,t,a,r){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=function(t){return e(t=new Date(+t)),t},n.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},n.round=function(e){var t=n(e),a=n.ceil(e);return e-t<a-e?t:a},n.offset=function(e,a){return t(e=new Date(+e),null==a?1:Math.floor(a)),e},n.range=function(a,r,s){var i,o=[];if(a=n.ceil(a),s=null==s?1:Math.floor(s),!(a<r&&s>0))return o;do{o.push(i=new Date(+a)),t(a,s),e(a)}while(i<a&&a<r);return o},n.filter=function(a){return OC(function(t){if(t>=t)for(;e(t),!a(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!a(e););else for(;--r>=0;)for(;t(e,1),!a(e););})},a&&(n.count=function(t,r){return DC.setTime(+t),AC.setTime(+r),e(DC),e(AC),Math.floor(a(DC,AC))},n.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(r?function(t){return r(t)%e===0}:function(t){return n.count(0,t)%e===0}):n:null}),n}var zC=864e5,TC=6048e5,EC=OC(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/zC},function(e){return e.getDate()-1}),MC=EC.range;function PC(e){return OC(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/TC})}var LC=PC(0),IC=PC(1),$C=PC(2),FC=PC(3),RC=PC(4),BC=PC(5),WC=PC(6),UC=LC.range;IC.range,$C.range,FC.range,RC.range,BC.range,WC.range;var HC=OC(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}).range,YC=OC(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});YC.every=function(e){return isFinite(e=Math.floor(e))&&e>0?OC(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,a){t.setFullYear(t.getFullYear()+a*e)}):null},YC.range;var VC=OC(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/zC},function(e){return e.getUTCDate()-1});function KC(e){return OC(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/TC})}VC.range;var GC=KC(0),qC=KC(1),ZC=KC(2),QC=KC(3),XC=KC(4),JC=KC(5),eS=KC(6);GC.range,qC.range,ZC.range,QC.range,XC.range,JC.range,eS.range;var tS=OC(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function aS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nS(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}tS.every=function(e){return isFinite(e=Math.floor(e))&&e>0?OC(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,a){t.setUTCFullYear(t.getUTCFullYear()+a*e)}):null},tS.range;var sS,iS,oS,lS,cS,dS,uS={"-":"",_:" ",0:"0"},mS=/^\s*\d+/,hS=/^%/,fS=/[\\^$*+?|[\]().{}]/g;function pS(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",s=n.length;return r+(s<a?new Array(a-s+1).join(t)+n:n)}function gS(e){return e.replace(fS,"\\$&")}function xS(e){return new RegExp("^(?:"+e.map(gS).join("|")+")","i")}function yS(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function bS(e,t,a){var r=mS.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function vS(e,t,a){var r=mS.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function jS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function wS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function NS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function kS(e,t,a){var r=mS.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function _S(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function CS(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function SS(e,t,a){var r=mS.exec(t.slice(a,a+1));return r?(e.q=3*r[0]-3,a+r[0].length):-1}function DS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function AS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function OS(e,t,a){var r=mS.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function zS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function TS(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function ES(e,t,a){var r=mS.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function MS(e,t,a){var r=mS.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function PS(e,t,a){var r=mS.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function LS(e,t,a){var r=hS.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function IS(e,t,a){var r=mS.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function $S(e,t,a){var r=mS.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function FS(e,t){return pS(e.getDate(),t,2)}function RS(e,t){return pS(e.getHours(),t,2)}function BS(e,t){return pS(e.getHours()%12||12,t,2)}function WS(e,t){return pS(1+EC.count(YC(e),e),t,3)}function US(e,t){return pS(e.getMilliseconds(),t,3)}function HS(e,t){return US(e,t)+"000"}function YS(e,t){return pS(e.getMonth()+1,t,2)}function VS(e,t){return pS(e.getMinutes(),t,2)}function KS(e,t){return pS(e.getSeconds(),t,2)}function GS(e){var t=e.getDay();return 0===t?7:t}function qS(e,t){return pS(LC.count(YC(e)-1,e),t,2)}function ZS(e){var t=e.getDay();return t>=4||0===t?RC(e):RC.ceil(e)}function QS(e,t){return e=ZS(e),pS(RC.count(YC(e),e)+(4===YC(e).getDay()),t,2)}function XS(e){return e.getDay()}function JS(e,t){return pS(IC.count(YC(e)-1,e),t,2)}function eD(e,t){return pS(e.getFullYear()%100,t,2)}function tD(e,t){return pS((e=ZS(e)).getFullYear()%100,t,2)}function aD(e,t){return pS(e.getFullYear()%1e4,t,4)}function rD(e,t){var a=e.getDay();return pS((e=a>=4||0===a?RC(e):RC.ceil(e)).getFullYear()%1e4,t,4)}function nD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pS(t/60|0,"0",2)+pS(t%60,"0",2)}function sD(e,t){return pS(e.getUTCDate(),t,2)}function iD(e,t){return pS(e.getUTCHours(),t,2)}function oD(e,t){return pS(e.getUTCHours()%12||12,t,2)}function lD(e,t){return pS(1+VC.count(tS(e),e),t,3)}function cD(e,t){return pS(e.getUTCMilliseconds(),t,3)}function dD(e,t){return cD(e,t)+"000"}function uD(e,t){return pS(e.getUTCMonth()+1,t,2)}function mD(e,t){return pS(e.getUTCMinutes(),t,2)}function hD(e,t){return pS(e.getUTCSeconds(),t,2)}function fD(e){var t=e.getUTCDay();return 0===t?7:t}function pD(e,t){return pS(GC.count(tS(e)-1,e),t,2)}function gD(e){var t=e.getUTCDay();return t>=4||0===t?XC(e):XC.ceil(e)}function xD(e,t){return e=gD(e),pS(XC.count(tS(e),e)+(4===tS(e).getUTCDay()),t,2)}function yD(e){return e.getUTCDay()}function bD(e,t){return pS(qC.count(tS(e)-1,e),t,2)}function vD(e,t){return pS(e.getUTCFullYear()%100,t,2)}function jD(e,t){return pS((e=gD(e)).getUTCFullYear()%100,t,2)}function wD(e,t){return pS(e.getUTCFullYear()%1e4,t,4)}function ND(e,t){var a=e.getUTCDay();return pS((e=a>=4||0===a?XC(e):XC.ceil(e)).getUTCFullYear()%1e4,t,4)}function kD(){return"+0000"}function _D(){return"%"}function CD(e){return+e}function SD(e){return Math.floor(+e/1e3)}!function(e){sS=function(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=xS(n),d=yS(n),u=xS(s),m=yS(s),h=xS(i),f=yS(i),p=xS(o),g=yS(o),x=xS(l),y=yS(l),b={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:FS,e:FS,f:HS,g:tD,G:rD,H:RS,I:BS,j:WS,L:US,m:YS,M:VS,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:CD,s:SD,S:KS,u:GS,U:qS,V:QS,w:XS,W:JS,x:null,X:null,y:eD,Y:aD,Z:nD,"%":_D},v={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:sD,e:sD,f:dD,g:jD,G:ND,H:iD,I:oD,j:lD,L:cD,m:uD,M:mD,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:CD,s:SD,S:hD,u:fD,U:pD,V:xD,w:yD,W:bD,x:null,X:null,y:vD,Y:wD,Z:kD,"%":_D},j={a:function(e,t,a){var r=h.exec(t.slice(a));return r?(e.w=f.get(r[0].toLowerCase()),a+r[0].length):-1},A:function(e,t,a){var r=u.exec(t.slice(a));return r?(e.w=m.get(r[0].toLowerCase()),a+r[0].length):-1},b:function(e,t,a){var r=x.exec(t.slice(a));return r?(e.m=y.get(r[0].toLowerCase()),a+r[0].length):-1},B:function(e,t,a){var r=p.exec(t.slice(a));return r?(e.m=g.get(r[0].toLowerCase()),a+r[0].length):-1},c:function(e,a,r){return k(e,t,a,r)},d:AS,e:AS,f:PS,g:_S,G:kS,H:zS,I:zS,j:OS,L:MS,m:DS,M:TS,p:function(e,t,a){var r=c.exec(t.slice(a));return r?(e.p=d.get(r[0].toLowerCase()),a+r[0].length):-1},q:SS,Q:IS,s:$S,S:ES,u:vS,U:jS,V:wS,w:bS,W:NS,x:function(e,t,r){return k(e,a,t,r)},X:function(e,t,a){return k(e,r,t,a)},y:_S,Y:kS,Z:CS,"%":LS};function w(e,t){return function(a){var r,n,s,i=[],o=-1,l=0,c=e.length;for(a instanceof Date||(a=new Date(+a));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(n=uS[r=e.charAt(++o)])?r=e.charAt(++o):n="e"===r?" ":"0",(s=t[r])&&(r=s(a,n)),i.push(r),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(a){var r,n,s=nS(1900,void 0,1);if(k(s,e,a+="",0)!=a.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(n=(r=rS(nS(s.y,0,1))).getUTCDay(),r=n>4||0===n?qC.ceil(r):qC(r),r=VC.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(n=(r=aS(nS(s.y,0,1))).getDay(),r=n>4||0===n?IC.ceil(r):IC(r),r=EC.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),n="Z"in s?rS(nS(s.y,0,1)).getUTCDay():aS(nS(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(n+5)%7:s.w+7*s.U-(n+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,rS(s)):aS(s)}}function k(e,t,a,r){for(var n,s,i=0,o=t.length,l=a.length;i<o;){if(r>=l)return-1;if(37===(n=t.charCodeAt(i++))){if(n=t.charAt(i++),!(s=j[n in uS?t.charAt(i++):n])||(r=s(e,a,r))<0)return-1}else if(n!=a.charCodeAt(r++))return-1}return r}return b.x=w(a,b),b.X=w(r,b),b.c=w(t,b),v.x=w(a,v),v.X=w(r,v),v.c=w(t,v),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),iS=sS.format,sS.parse,sS.utcFormat,sS.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const DD=l(function(){if(dS)return cS;dS=1;var e=function(){if(lS)return oS;lS=1;var e=aa(),t=Ae();return oS=function(a){return t(a)&&"[object Date]"==e(a)}}(),t=et(),a=ra(),r=a&&a.isDate,n=r?t(r):e;return cS=n}());function AD(){return AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},AD.apply(null,arguments)}function OD(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var zD,TD=a.memo(function(e){var t=e.years,a=e.legend,r=e.theme;return ma.jsx(ma.Fragment,{children:t.map(function(e){return ma.jsx(kN,{transform:"translate("+e.x+","+e.y+") rotate("+e.rotation+")",textAnchor:"middle",style:r.labels.text,children:a(e.year)},e.year)})})}),ED=a.memo(function(e){var t=e.path,a=e.borderWidth,r=e.borderColor;return ma.jsx("path",{d:t,style:{fill:"none",strokeWidth:a,stroke:r,pointerEvents:"none"}})}),MD=a.memo(function(e){var t=e.months,a=e.legend,r=e.theme;return ma.jsx(ma.Fragment,{children:t.map(function(e){return ma.jsx(kN,{transform:"translate("+e.x+","+e.y+") rotate("+e.rotation+")",textAnchor:"middle",style:r.labels.text,children:a(e.year,e.month,e.date)},e.date.toString()+".legend")})})}),PD=a.memo(function(e){var t=e.data,r=e.x,n=e.y,s=e.size,i=e.color,o=e.borderWidth,l=e.borderColor,c=e.isInteractive,d=e.tooltip,u=e.onMouseEnter,m=e.onMouseMove,h=e.onMouseLeave,f=e.onClick,p=e.formatValue,g=ux(),x=g.showTooltipFromEvent,y=g.hideTooltip,b=a.useCallback(function(e){if("value"in t){var r=AD({},t,{value:p(t.value),data:AD({},t.data)});x(a.createElement(d,AD({},r)),e),null==u||u(t,e)}},[x,d,t,u,p]),v=a.useCallback(function(e){if("value"in t){var r=AD({},t,{value:p(t.value),data:AD({},t.data)});x(a.createElement(d,AD({},r)),e),null==m||m(t,e)}},[x,d,t,m,p]),j=a.useCallback(function(e){"value"in t&&(y(),null==h||h(t,e))},[y,t,h]),w=a.useCallback(function(e){return null==f?void 0:f(t,e)},[t,f]);return ma.jsx("rect",{x:r,y:n,width:s,height:s,style:{fill:i,strokeWidth:o,stroke:l},onMouseEnter:c?b:void 0,onMouseMove:c?v:void 0,onMouseLeave:c?j:void 0,onClick:c?w:void 0})}),LD=a.memo(function(e){var t=e.value,a=e.day,r=e.color;return void 0===t||isNaN(Number(t))?null:ma.jsx(sx,{id:a,value:t,color:r,enableChip:!0})}),ID=iS("%b"),$D={colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],align:"center",direction:"horizontal",emptyColor:"#fff",minValue:0,maxValue:"auto",yearSpacing:30,yearLegend:function(e){return e},yearLegendPosition:"before",yearLegendOffset:10,monthBorderWidth:2,monthBorderColor:"#000",monthSpacing:0,monthLegend:function(e,t,a){return ID(a)},monthLegendPosition:"before",monthLegendOffset:10,daySpacing:0,dayBorderWidth:1,dayBorderColor:"#000",isInteractive:!0,legends:[],tooltip:LD},FD=AD({},$D,{role:"img"}),RD=AD({},$D,{pixelRatio:"undefined"!=typeof window&&null!=(zD=window.devicePixelRatio)?zD:1}),BD=AD({},FD,{dayBorderColor:"#fff",dayRadius:0,square:!0,weekdayLegendOffset:75,firstWeekday:"sunday",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}),WD=na(function(e){var t,a=e.date,r=e.cellSize,n=e.yearIndex,s=e.yearSpacing,i=e.monthSpacing,o=e.daySpacing,l=e.direction,c=e.originX,d=e.originY,u=new Date(a.getFullYear(),a.getMonth()+1,0),m=LC.count(YC(a),a),h=LC.count(YC(u),u),f=a.getDay(),p=u.getDay(),g=c,x=d,y=n*(7*(r+o)+s),b=a.getMonth()*i;"horizontal"===l?(x+=y,g+=b):(x+=b,g+=y);var v={x:g,y:x,width:0,height:0};return"horizontal"===l?(t=["M"+(g+(m+1)*(r+o))+","+(x+f*(r+o)),"H"+(g+m*(r+o))+"V"+(x+7*(r+o)),"H"+(g+h*(r+o))+"V"+(x+(p+1)*(r+o)),"H"+(g+(h+1)*(r+o))+"V"+x,"H"+(g+(m+1)*(r+o))+"Z"].join(""),v.x=g+m*(r+o),v.width=g+(h+1)*(r+o)-v.x,v.height=7*(r+o)):(t=["M"+(g+f*(r+o))+","+(x+(m+1)*(r+o)),"H"+g+"V"+(x+(h+1)*(r+o)),"H"+(g+(p+1)*(r+o))+"V"+(x+h*(r+o)),"H"+(g+7*(r+o))+"V"+(x+m*(r+o)),"H"+(g+f*(r+o))+"Z"].join(""),v.y=x+m*(r+o),v.width=7*(r+o),v.height=x+(h+1)*(r+o)-v.y),{path:t,bbox:v}},function(e){var t=e.date,a=e.cellSize,r=e.yearIndex,n=e.yearSpacing,s=e.monthSpacing,i=e.daySpacing,o=e.direction,l=e.originX,c=e.originY;return t.toString()+"."+a+"."+r+"."+n+"."+s+"."+i+"."+o+"."+l+"."+c}),UD=iS("%Y-%m-%d"),HD=function(e){var t=e.width,r=e.height,n=e.from,s=e.to,i=e.direction,o=e.yearSpacing,l=e.monthSpacing,c=e.daySpacing,d=e.align;return a.useMemo(function(){return function(e){var t,a,r,n,s,i,o,l,c,d,u,m=e.width,h=e.height,f=e.from,p=e.to,g=e.direction,x=e.yearSpacing,y=e.monthSpacing,b=e.daySpacing,v=e.align,j=DD(f)?f:new Date(f),w=DD(p)?p:new Date(p),N=ia(j.getFullYear(),w.getFullYear()+1),k=Math.max.apply(Math,N.map(function(e){return UC(new Date(e,0,1),new Date(e+1,0,1)).length}))+1,_=(s=(a={width:m,height:h,direction:g,yearRange:N,yearSpacing:x,monthSpacing:y,daySpacing:b,maxWeeks:k}).width,i=a.height,o=a.yearRange,l=a.yearSpacing,c=a.monthSpacing,d=a.daySpacing,u=a.maxWeeks,"horizontal"===a.direction?(r=(s-12*c-d*u)/u,n=(i-(o.length-1)*l-o.length*(8*d))/(7*o.length)):(r=(s-(o.length-1)*l-o.length*(8*d))/(7*o.length),n=(i-12*c-d*u)/u),Math.min(r,n)),C=_*k+b*k+12*y,S=7*(_+b)*N.length+x*(N.length-1),D="horizontal"===g?C:S,A="horizontal"===g?S:C,O=function(e,t,a){var r=t.width-e.width,n=t.height-e.height,s=0,i=0;return"center"===a&&(s=r/2,i=n/2),"top"===a&&(s=r/2),"top-right"===a&&(s=r),"right"===a&&(s=r,i=n/2),"bottom-right"===a&&(s=r,i=n),"bottom"===a&&(s=r/2,i=n),"bottom-left"===a&&(i=n),"left"===a&&(i=n/2),[s,i]}({width:D,height:A},{width:m,height:h},v),z=O[0],T=O[1];t="horizontal"===g?function(e,t,a,r){return function(n,s,i,o){return{x:n+LC.count(YC(i),i)*(e+r)+r/2+i.getMonth()*a,y:s+i.getDay()*(e+r)+r/2+o*(t+7*(e+r))}}}(_,x,y,b):function(e,t,a,r){return function(n,s,i,o){var l=LC.count(YC(i),i);return{x:n+i.getDay()*(e+r)+r/2+o*(t+7*(e+r)),y:s+l*(e+r)+r/2+i.getMonth()*a}}}(_,x,y,b);var E=[],M=[],P=[];return N.forEach(function(e,a){var r=new Date(e,0,1),n=new Date(e+1,0,1);P=P.concat(MC(r,n).map(function(e){return AD({date:e,day:UD(e),size:_},t(z,T,e,a))}));var s=HC(r,n).map(function(e){return AD({date:e,year:e.getFullYear(),month:e.getMonth()},WD({originX:z,originY:T,date:e,direction:g,yearIndex:a,yearSpacing:x,monthSpacing:y,daySpacing:b,cellSize:_}))});M=M.concat(s),E.push({year:e,bbox:{x:s[0].bbox.x,y:s[0].bbox.y,width:s[11].bbox.x-s[0].bbox.x+s[11].bbox.width,height:s[11].bbox.y-s[0].bbox.y+s[11].bbox.height}})}),{years:E,months:M,days:P,cellSize:_,calendarWidth:D,calendarHeight:A,originX:z,originY:T}}({width:t,height:r,from:n,to:s,direction:i,yearSpacing:o,monthSpacing:l,daySpacing:c,align:d})},[t,r,n,s,i,o,l,c,d])},YD=function(e){var t=e.data,r=e.minValue,n=e.maxValue,s=e.colors,i=e.colorScale;return a.useMemo(function(){if(i)return i;var e=function(e,t,a){var r=e.map(function(e){return e.value});return["auto"===t?Math.min.apply(Math,r):t,"auto"===a?Math.max.apply(Math,r):a]}(t,r,n);return sa().domain(e).range(s)},[t,r,n,s,i])},VD=function(e){var t=e.years,r=e.direction,n=e.yearLegendPosition,s=e.yearLegendOffset;return a.useMemo(function(){return function(e){var t=e.years,a=e.direction,r=e.position,n=e.offset;return t.map(function(e){var t=0,s=0,i=0;return"horizontal"===a&&"before"===r?(t=e.bbox.x-n,s=e.bbox.y+e.bbox.height/2,i=-90):"horizontal"===a&&"after"===r?(t=e.bbox.x+e.bbox.width+n,s=e.bbox.y+e.bbox.height/2,i=-90):"vertical"===a&&"before"===r?(t=e.bbox.x+e.bbox.width/2,s=e.bbox.y-n):(t=e.bbox.x+e.bbox.width/2,s=e.bbox.y+e.bbox.height+n),AD({},e,{x:t,y:s,rotation:i})})}({years:t,direction:r,position:n,offset:s})},[t,r,n,s])},KD=function(e){var t=e.months,r=e.direction,n=e.monthLegendPosition,s=e.monthLegendOffset;return a.useMemo(function(){return function(e){var t=e.months,a=e.direction,r=e.position,n=e.offset;return t.map(function(e){var t=0,s=0,i=0;return"horizontal"===a&&"before"===r?(t=e.bbox.x+e.bbox.width/2,s=e.bbox.y-n):"horizontal"===a&&"after"===r?(t=e.bbox.x+e.bbox.width/2,s=e.bbox.y+e.bbox.height+n):"vertical"===a&&"before"===r?(t=e.bbox.x-n,s=e.bbox.y+e.bbox.height/2,i=-90):(t=e.bbox.x+e.bbox.width+n,s=e.bbox.y+e.bbox.height/2,i=-90),AD({},e,{x:t,y:s,rotation:i})})}({months:t,direction:r,position:n,offset:s})},[t,r,n,s])},GD=function(e){var t=e.days,r=e.data,n=e.colorScale,s=e.emptyColor;return a.useMemo(function(){return function(e){var t=e.days,a=e.data,r=e.colorScale,n=e.emptyColor;return t.map(function(e){var t=a.find(function(t){return t.day===e.day});return AD({},e,t?{color:r(t.value),data:t,value:t.value}:{color:n})})}({days:t,data:r,colorScale:n,emptyColor:s})},[t,r,n,s])},qD=["months","years"],ZD=["isInteractive","renderWrapper","theme"],QD=function(e){var t=e.margin,a=e.width,r=e.height,n=e.align,s=void 0===n?FD.align:n,i=e.colors,o=void 0===i?FD.colors:i,l=e.colorScale,c=e.data,d=e.direction,u=void 0===d?FD.direction:d,m=e.emptyColor,h=void 0===m?FD.emptyColor:m,f=e.from,p=e.to,g=e.minValue,x=void 0===g?FD.minValue:g,y=e.maxValue,b=void 0===y?FD.maxValue:y,v=e.valueFormat,j=e.legendFormat,w=e.yearLegend,N=void 0===w?FD.yearLegend:w,k=e.yearLegendOffset,_=void 0===k?FD.yearLegendOffset:k,C=e.yearLegendPosition,S=void 0===C?FD.yearLegendPosition:C,D=e.yearSpacing,A=void 0===D?FD.yearSpacing:D,O=e.monthBorderColor,z=void 0===O?FD.monthBorderColor:O,T=e.monthBorderWidth,E=void 0===T?FD.monthBorderWidth:T,M=e.monthLegend,P=void 0===M?FD.monthLegend:M,L=e.monthLegendOffset,I=void 0===L?FD.monthLegendOffset:L,$=e.monthLegendPosition,F=void 0===$?FD.monthLegendPosition:$,R=e.monthSpacing,B=void 0===R?FD.monthSpacing:R,W=e.dayBorderColor,U=void 0===W?FD.dayBorderColor:W,H=e.dayBorderWidth,Y=void 0===H?FD.dayBorderWidth:H,V=e.daySpacing,K=void 0===V?FD.daySpacing:V,G=e.isInteractive,q=void 0===G?FD.isInteractive:G,Z=e.tooltip,Q=void 0===Z?FD.tooltip:Z,X=e.onClick,J=e.onMouseEnter,ee=e.onMouseLeave,te=e.onMouseMove,ae=e.legends,re=void 0===ae?FD.legends:ae,ne=e.role,se=void 0===ne?FD.role:ne,ie=e.forwardedRef,oe=Xg(),le=lw(a,r,t),ce=le.margin,de=le.innerWidth,ue=le.innerHeight,me=le.outerWidth,he=le.outerHeight,fe=HD({width:de,height:ue,from:f,to:p,direction:u,yearSpacing:A,monthSpacing:B,daySpacing:K,align:s}),pe=fe.months,ge=fe.years,xe=OD(fe,qD),ye=YD({data:c,minValue:x,maxValue:b,colors:o,colorScale:l}),be=KD({months:pe,direction:u,monthLegendPosition:F,monthLegendOffset:I}),ve=VD({years:ge,direction:u,yearLegendPosition:S,yearLegendOffset:_}),je=GD({days:xe.days,data:c,colorScale:ye,emptyColor:h}),we=dw(j),Ne=dw(v);return ma.jsxs(Jj,{width:me,height:he,margin:ce,role:se,ref:ie,children:[je.map(function(e){return ma.jsx(PD,{data:e,x:e.x,y:e.y,size:e.size,color:e.color,borderWidth:Y,borderColor:U,onMouseEnter:J,onMouseLeave:ee,onMouseMove:te,isInteractive:q,tooltip:Q,onClick:X,formatValue:Ne},e.date.toString())}),pe.map(function(e){return ma.jsx(ED,{path:e.path,borderWidth:E,borderColor:z},e.date.toString())}),ma.jsx(MD,{months:be,legend:P,theme:oe}),ma.jsx(TD,{years:ve,legend:N,theme:oe}),re.map(function(e,t){var n=ye.ticks(e.itemCount).map(function(e){return{id:e,label:we(e),color:ye(e)}});return ma.jsx(I_,AD({},e,{containerWidth:a,containerHeight:r,data:n}),t)})]})},XD=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?FD.isInteractive:a,n=e.renderWrapper,s=e.theme,i=OD(e,ZD);return ma.jsx(wj,{isInteractive:r,renderWrapper:n,theme:s,children:ma.jsx(QD,AD({isInteractive:r},i,{forwardedRef:t}))})}),JD=iS("%Y-%m-%d"),eA=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function tA(e){return eA.findIndex(function(t){return t.toLowerCase()===e})}var aA=function(e,t){var a=e.getDay()-tA(t);return[0,1,2,3,4,5,6].slice(a)[0]};var rA=function(e){var t=e.direction,a=e.colorScale,r=e.emptyColor,n=e.from,s=e.to,i=e.data,o=e.cellWidth,l=e.cellHeight,c=e.daySpacing,d=e.offset,u=e.firstWeekday,m=c,h=c;"horizontal"===t?m+=d:h+=d;var f=n||i[0].date,p=s||i[i.length-1].date,g=DD(f)?f:new Date(f),x=DD(p)?p:new Date(p);return MC(g,x).map(function(e){return{date:e,day:JD(e)}}).map(function(e){var n=i.find(function(t){return t.day===e.day}),s=function(e){var t=e.startDate,a=e.date,r=e.direction,n=e.firstWeekday,s=[LC,IC,$C,FC,RC,BC,WC][tA(n)].count(t,a),i=a.getMonth(),o=a.getFullYear(),l=0,c=0;return"horizontal"===r?(l=s,c=aA(a,n)):(l=aA(a,n),c=s),{currentColumn:l,year:o,currentRow:c,firstWeek:s,month:i,date:a}}({startDate:g,date:e.date,direction:t,firstWeekday:u}),d=s.currentColumn,f=s.currentRow,p=s.firstWeek,x=s.year,y=s.month,b=s.date,v={x:m+c*d+o*d,y:h+c*f+l*f};return n?AD({},n,{coordinates:v,firstWeek:p,month:y,year:x,date:b,color:a(n.value),width:o,height:l}):AD({},e,{coordinates:v,firstWeek:p,month:y,year:x,date:b,color:r,width:o,height:l})})},nA=a.memo(function(e){var t=e.data,r=e.x,n=e.ry,s=void 0===n?5:n,i=e.rx,o=void 0===i?5:i,l=e.y,c=e.width,d=e.height,u=e.color,m=e.borderWidth,h=e.borderColor,f=e.isInteractive,p=e.tooltip,g=e.onMouseEnter,x=e.onMouseMove,y=e.onMouseLeave,b=e.onClick,v=e.formatValue,j=ux(),w=j.showTooltipFromEvent,N=j.hideTooltip,k=a.useCallback(function(e){if("value"in t){var r=AD({},t,{value:v(t.value)});w(a.createElement(p,AD({},r)),e),null==g||g(t,e)}},[w,p,t,g,v]),_=a.useCallback(function(e){if("value"in t){var r=AD({},t,{value:v(t.value)});w(a.createElement(p,AD({},r)),e),null==x||x(t,e)}},[w,p,t,x,v]),C=a.useCallback(function(e){"value"in t&&(N(),null==y||y(t,e))},[N,t,y]),S=a.useCallback(function(e){return null==b?void 0:b(t,e)},[t,b]);return ma.jsx("rect",{x:r,y:l,rx:o,ry:s,width:c,height:d,style:{fill:u,strokeWidth:m,stroke:h},onMouseEnter:f?k:void 0,onMouseMove:f?_:void 0,onMouseLeave:f?C:void 0,onClick:f?S:void 0})}),sA=["isInteractive","renderWrapper","theme"],iA=function(e){var t=e.margin,r=e.width,n=e.height,s=e.square,i=void 0===s?BD.square:s,o=e.colors,l=void 0===o?BD.colors:o,c=e.colorScale,d=e.emptyColor,u=void 0===d?BD.emptyColor:d,m=e.from,h=e.to,f=e.data,p=e.direction,g=void 0===p?BD.direction:p,x=e.minValue,y=void 0===x?BD.minValue:x,b=e.maxValue,v=void 0===b?BD.maxValue:b,j=e.valueFormat,w=e.legendFormat,N=e.monthLegend,k=void 0===N?BD.monthLegend:N,_=e.monthLegendOffset,C=void 0===_?BD.monthLegendOffset:_,S=e.monthLegendPosition,D=void 0===S?BD.monthLegendPosition:S,A=e.weekdayLegendOffset,O=void 0===A?BD.weekdayLegendOffset:A,z=e.weekdayTicks,T=e.weekdays,E=void 0===T?BD.weekdays:T,M=e.dayBorderColor,P=void 0===M?BD.dayBorderColor:M,L=e.dayBorderWidth,I=void 0===L?BD.dayBorderWidth:L,$=e.daySpacing,F=void 0===$?BD.daySpacing:$,R=e.dayRadius,B=void 0===R?BD.dayRadius:R,W=e.isInteractive,U=void 0===W?BD.isInteractive:W,H=e.tooltip,Y=void 0===H?BD.tooltip:H,V=e.onClick,K=e.onMouseEnter,G=e.onMouseLeave,q=e.onMouseMove,Z=e.legends,Q=void 0===Z?BD.legends:Z,X=e.role,J=void 0===X?BD.role:X,ee=e.firstWeekday,te=void 0===ee?BD.firstWeekday:ee,ae=e.forwardedRef,re=lw(r,n,t),ne=re.margin,se=re.innerWidth,ie=re.innerHeight,oe=re.outerWidth,le=re.outerHeight,ce=a.useMemo(function(){return f.map(function(e){return AD({},e,{date:new Date(e.day+"T00:00:00")})}).sort(function(e,t){return e.day.localeCompare(t.day)})},[f]),de=Xg(),ue=YD({data:ce,minValue:y,maxValue:v,colors:l,colorScale:c}),me=function(e){var t,a,r=e.from,n=e.to,s=e.data;return t=r?DD(r)?r:new Date(r):s[0].date,a=r&&n?DD(n)?n:new Date(n):s[s.length-1].date,t.getDay()+EC.count(t,a)}({from:m,to:h,data:ce}),he=function(e){var t,a,r=e.direction,n=e.daySpacing,s=e.offset,i=e.square,o=e.totalDays,l=e.width,c=e.height;"horizontal"===r?(l-=s,t=7,a=Math.ceil(o/7)):(c-=s,a=7,t=Math.ceil(o/7));var d=(c-n*(t+1))/t,u=(l-n*(a+1))/a,m=Math.min(d,u);return{columns:a,rows:t,cellHeight:i?m:d,cellWidth:i?m:u}}({square:i,offset:O,totalDays:me,width:se,height:ie,daySpacing:F,direction:g}),fe=he.cellHeight,pe=he.cellWidth,ge=rA({offset:O,colorScale:ue,emptyColor:u,cellHeight:fe,cellWidth:pe,from:m,to:h,data:ce,direction:g,daySpacing:F,firstWeekday:te}),xe=Object.values(function(e){var t=e.direction,a=e.daySpacing,r=e.days,n=e.cellHeight,s=e.cellWidth;return r.reduce(function(e,r){if(e.weeks.length===r.firstWeek||!e.weeks.length&&1===r.firstWeek){e.weeks.push(r);var i=r.year+"-"+r.month;if(Object.keys(e.months).includes(i))"horizontal"===t?e.months[i].bbox.width=(r.firstWeek-e.months[i].firstWeek)*(s+a):e.months[i].bbox.height=(r.firstWeek-e.months[i].firstWeek)*(n+a);else{var o={x:0,y:0,width:0,height:0};"horizontal"===t?(o.x=r.coordinates.x-a,o.height=n+a,o.width=s+2*a):(o.y=r.coordinates.y-a,o.height=n+2*a,o.width=s+2*a),e.months[i]={date:r.date,bbox:o,firstWeek:r.firstWeek,month:0,year:0}}}return e},{months:{},weeks:[]})}({daySpacing:F,direction:g,cellHeight:fe,cellWidth:pe,days:ge}).months),ye=function(e){var t,a,r=e.cellHeight,n=e.cellWidth,s=e.direction,i=e.daySpacing,o=e.ticks,l=void 0===o?[1,3,5]:o,c=e.firstWeekday,d=e.arrayOfWeekdays,u=n+i,m=r+i,h=(t=void 0===d?eA:d,a=tA(c),t.length&&a?(a%=t.length,t.slice(a,t.length).concat(t.slice(0,a))):t);return l.map(function(e){return{value:h[e],rotation:"horizontal"===s?0:-90,y:"horizontal"===s?m*(e+1)-m/3:0,x:"horizontal"===s?0:u*(e+1)-u/3}})}({direction:g,cellHeight:fe,cellWidth:pe,daySpacing:F,ticks:z,firstWeekday:te,arrayOfWeekdays:E}),be=KD({months:xe,direction:g,monthLegendPosition:D,monthLegendOffset:C}),ve=dw(j),je=dw(w);return ma.jsxs(Jj,{width:oe,height:le,margin:ne,role:J,ref:ae,children:[ye.map(function(e){return ma.jsx(kN,{transform:"translate("+e.x+","+e.y+") rotate("+e.rotation+")",textAnchor:"left",style:de.labels.text,children:e.value},e.value+"-"+e.x+"-"+e.y)}),ge.map(function(e){return ma.jsx(nA,{data:e,x:e.coordinates.x,rx:B,y:e.coordinates.y,ry:B,width:pe,height:fe,color:e.color,borderWidth:I,borderColor:P,onMouseEnter:K,onMouseLeave:G,onMouseMove:q,isInteractive:U,tooltip:Y,onClick:V,formatValue:ve},e.date.toString())}),ma.jsx(MD,{months:be,legend:k,theme:de}),Q.map(function(e,t){var a=ue.ticks(e.itemCount).map(function(e){return{id:e,label:je(e),color:ue(e)}});return ma.jsx(I_,AD({},e,{containerWidth:r,containerHeight:n,data:a}),t)})]})},oA=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?BD.isInteractive:a,n=e.renderWrapper,s=e.theme,i=OD(e,sA);return ma.jsx(wj,{isInteractive:r,renderWrapper:n,theme:s,children:ma.jsx(iA,AD({isInteractive:r},i,{forwardedRef:t}))})}),lA=["defaultWidth","defaultHeight","onResize","debounceResize"];a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=OD(e,lA);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(oA,AD({width:a,height:r},i,{ref:t}))}})});var cA=["defaultWidth","defaultHeight","onResize","debounceResize"],dA=a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=OD(e,cA);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(XD,AD({width:a,height:r},i,{ref:t}))}})}),uA=["months","years"],mA=["isInteractive","renderWrapper","theme"],hA=function(e,t,a,r,n,s){var i=hw(t,e),o=i[0],l=i[1];return a.find(function(e){return"value"in e&&mw(e.x+s.left-n/2,e.y+s.top-n/2,r+n,r+n,o,l)})},fA=a.memo(function(e){var t=e.margin,r=e.width,n=e.height,s=e.pixelRatio,i=void 0===s?RD.pixelRatio:s,o=e.align,l=void 0===o?RD.align:o,c=e.colors,d=void 0===c?RD.colors:c,u=e.colorScale,m=e.data,h=e.direction,f=void 0===h?RD.direction:h,p=e.emptyColor,g=void 0===p?RD.emptyColor:p,x=e.from,y=e.to,b=e.minValue,v=void 0===b?RD.minValue:b,j=e.maxValue,w=void 0===j?RD.maxValue:j,N=e.valueFormat,k=e.legendFormat,_=e.yearLegend,C=void 0===_?RD.yearLegend:_,S=e.yearLegendOffset,D=void 0===S?RD.yearLegendOffset:S,A=e.yearLegendPosition,O=void 0===A?RD.yearLegendPosition:A,z=e.yearSpacing,T=void 0===z?RD.yearSpacing:z,E=e.monthLegend,M=void 0===E?RD.monthLegend:E,P=e.monthLegendOffset,L=void 0===P?RD.monthLegendOffset:P,I=e.monthLegendPosition,$=void 0===I?RD.monthLegendPosition:I,F=e.monthSpacing,R=void 0===F?RD.monthSpacing:F,B=e.dayBorderColor,W=void 0===B?RD.dayBorderColor:B,U=e.dayBorderWidth,H=void 0===U?RD.dayBorderWidth:U,Y=e.daySpacing,V=void 0===Y?RD.daySpacing:Y,K=e.isInteractive,G=void 0===K?RD.isInteractive:K,q=e.tooltip,Z=void 0===q?RD.tooltip:q,Q=e.onClick,X=e.onMouseEnter,J=e.onMouseLeave,ee=e.onMouseMove,te=e.legends,ae=void 0===te?RD.legends:te,re=e.forwardedRef,ne=a.useRef(null),se=lw(r,n,t),ie=se.innerWidth,oe=se.innerHeight,le=se.outerWidth,ce=se.outerHeight,de=se.margin,ue=HD({width:ie,height:oe,from:x,to:y,direction:f,yearSpacing:T,monthSpacing:R,daySpacing:V,align:l}),me=ue.months,he=ue.years,fe=OD(ue,uA),pe=YD({data:m,minValue:v,maxValue:w,colors:d,colorScale:u}),ge=KD({months:me,direction:f,monthLegendPosition:$,monthLegendOffset:L}),xe=VD({years:he,direction:f,yearLegendPosition:O,yearLegendOffset:D}),ye=GD({days:fe.days,data:m,colorScale:pe,emptyColor:g}),be=a.useState(null),ve=be[0],je=be[1],we=Xg(),Ne=dw(N),ke=dw(k),_e=ux(),Ce=_e.showTooltipFromEvent,Se=_e.hideTooltip;a.useEffect(function(){if(ne.current){ne.current.width=le*i,ne.current.height=ce*i;var e=ne.current.getContext("2d");e&&(e.scale(i,i),e.fillStyle=we.background,e.fillRect(0,0,le,ce),e.translate(de.left,de.top),ye.forEach(function(t){e.fillStyle=t.color,H>0&&(e.strokeStyle=W,e.lineWidth=H),e.beginPath(),e.rect(t.x,t.y,t.size,t.size),e.fill(),H>0&&e.stroke()}),e.textAlign="center",e.textBaseline="middle",yN(e,we.labels.text),ge.forEach(function(t){e.save(),e.translate(t.x,t.y),e.rotate(Ij(t.rotation)),bN(e,we.labels.text,String(M(t.year,t.month,t.date))),e.restore()}),xe.forEach(function(t){e.save(),e.translate(t.x,t.y),e.rotate(Ij(t.rotation)),bN(e,we.labels.text,String(C(t.year))),e.restore()}),ae.forEach(function(t){var a=pe.ticks(t.itemCount).map(function(e){return{id:e,label:ke(e),color:pe(e)}});!function(e,t){var a=t.data,r=t.containerWidth,n=t.containerHeight,s=t.translateX,i=void 0===s?0:s,o=t.translateY,l=void 0===o?0:o,c=t.anchor,d=t.direction,u=t.padding,m=void 0===u?0:u,h=t.justify,f=void 0!==h&&h,p=t.itemsSpacing,g=void 0===p?0:p,x=t.itemWidth,y=t.itemHeight,b=t.itemDirection,v=void 0===b?"left-to-right":b,j=t.itemTextColor,w=t.symbolSize,N=void 0===w?16:w,k=t.symbolSpacing,_=void 0===k?8:k,C=t.theme,S=z_({itemCount:a.length,itemWidth:x,itemHeight:y,itemsSpacing:g,direction:d,padding:m}),D=S.width,A=S.height,O=S.padding,z=T_({anchor:c,translateX:i,translateY:l,containerWidth:r,containerHeight:n,width:D,height:A}),T=z.x,E=z.y,M="row"===d?x+g:0,P="column"===d?y+g:0;e.save(),e.translate(T,E),yN(e,C.legends.text),a.forEach(function(t,a){var r,n=a*M+O.left,s=a*P+O.top,i=E_({direction:v,justify:f,symbolSize:N,symbolSpacing:_,width:x,height:y}),o=i.symbolX,l=i.symbolY,c=i.labelX,d=i.labelY,u=i.labelAnchor,m=i.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(n+o,s+l,N,N),e.textAlign=$_[u],"central"===m&&(e.textBaseline="middle"),bN(e,v_({},C.legends.text,{fill:null!=j?j:C.legends.text.fill}),String(t.label),n+c,s+d)}),e.restore()}(e,AD({},t,{data:a,containerWidth:ie,containerHeight:oe,theme:we}))}))}},[ne,oe,ie,le,ce,i,de,ye,W,H,u,C,xe,M,ge,ae,we,ke,pe]);var De=a.useCallback(function(e){if(ne.current){var t=hA(e,ne.current,ye,ye[0].size,H,de);if(t){if(je(t),!("value"in t))return;var r=AD({},t,{value:Ne(t.value),data:AD({},t.data)});Ce(a.createElement(Z,AD({},r)),e),ve||null==X||X(t,e),null==ee||ee(t,e),ve&&(null==J||J(t,e))}else Se(),t&&(null==J||J(t,e))}},[ne,ve,de,ye,je,Ne,H,Ce,Se,X,ee,J,Z]),Ae=a.useCallback(function(){je(null),Se()},[je,Se]),Oe=a.useCallback(function(e){if(Q&&ne.current){var t=hA(e,ne.current,ye,ye[0].size,V,de);t&&Q(t,e)}},[ne,V,de,ye,Q]);return ma.jsx("canvas",{ref:xw(ne,re),width:le*i,height:ce*i,style:{width:le,height:ce},onMouseEnter:G?De:void 0,onMouseMove:G?De:void 0,onMouseLeave:G?Ae:void 0,onClick:G?Oe:void 0})}),pA=a.forwardRef(function(e,t){var a=e.isInteractive,r=void 0===a?RD.isInteractive:a,n=e.renderWrapper,s=e.theme,i=OD(e,mA);return ma.jsx(wj,{isInteractive:r,renderWrapper:n,theme:s,children:ma.jsx(fA,AD({isInteractive:r},i,{forwardedRef:t}))})}),gA=["defaultWidth","defaultHeight","onResize","debounceResize"];a.forwardRef(function(e,t){var a=e.defaultWidth,r=e.defaultHeight,n=e.onResize,s=e.debounceResize,i=OD(e,gA);return ma.jsx(_j,{defaultWidth:a,defaultHeight:r,onResize:n,debounceResize:s,children:function(e){var a=e.width,r=e.height;return ma.jsx(pA,AD({width:a,height:r},i,{ref:t}))}})});const xA=({data:e,title:t,height:a=400,from:r,to:n,className:s=""})=>ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${s}`,children:[t&&ma.jsx("div",{className:"p-4 border-b border-gray-100",children:ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})}),ma.jsx("div",{style:{height:a},children:ma.jsx(dA,{data:e,from:r,to:n,emptyColor:"#eeeeee",colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],margin:{top:40,right:40,bottom:100,left:40},yearSpacing:40,monthBorderColor:"#ffffff",dayBorderWidth:2,dayBorderColor:"#ffffff",legends:[{anchor:"bottom-right",direction:"row",translateY:36,itemCount:4,itemWidth:42,itemHeight:36,itemsSpacing:14,itemDirection:"right-to-left"}],tooltip:({day:e,value:t})=>ma.jsxs("div",{className:"bg-white p-2 shadow-lg rounded border border-gray-200",children:[ma.jsx("div",{className:"font-semibold",children:e}),ma.jsxs("div",{className:"text-sm text-gray-600",children:["Value: ",t.toLocaleString()]})]})})})]}),yA=({data:e,title:t,height:a=400,className:r=""})=>{const n=Object.keys(e[0]||{}).filter(e=>"subject"!==e),s=["#8884d8","#82ca9d","#ffc658","#ff7300","#00ff00"];return ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-sm border border-gray-200 ${r}`,children:[t&&ma.jsx("div",{className:"p-4 border-b border-gray-100",children:ma.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})}),ma.jsx("div",{style:{height:a},children:ma.jsx(ue,{width:"100%",height:"100%",children:ma.jsxs(qt,{cx:"50%",cy:"50%",outerRadius:"80%",data:e,children:[ma.jsx(Zt,{}),ma.jsx(Qt,{dataKey:"subject"}),ma.jsx(Xt,{}),n.map((e,t)=>ma.jsx(Jt,{name:e,dataKey:e,stroke:s[t%s.length],fill:s[t%s.length],fillOpacity:.6},e)),ma.jsx(be,{})]})})})]})},bA=({year:e,className:t})=>ma.jsx(pm,{type:"treasury",year:e,title:`Análisis Tesorería ${e}`,className:t,variant:"bar",showControls:!0}),vA=({year:e,className:t})=>ma.jsx(pm,{type:"document",year:e,title:`Análisis de Documentos ${e}`,className:t,variant:"pie",showControls:!0}),jA=({type:e,title:t,years:r,height:n=300})=>{const{data:s,loading:i,error:o}=((e,t=[])=>{const[r,n]=a.useState([]),[s,i]=a.useState(!0),[o,l]=a.useState(null),{completeData:c}=_m(),d=a.useCallback(async()=>{i(!0),l(null);try{const e=(t.length>0?t:c?.summary?.years_covered||[]).map(e=>({year:e,value:Math.floor(1e7*Math.random()),label:e.toString()})).sort((e,t)=>e.year-t.year);n(e)}catch(e){l(e.message||"Failed to fetch comparison data")}finally{i(!1)}},[e,t,c]);return a.useEffect(()=>{d()},[d]),{data:r,loading:s,error:o}})(e,r);return i?ma.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px]",children:ma.jsx(L,{className:"h-8 w-8 animate-spin text-blue-600"})}):o?ma.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px]",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(R,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),ma.jsxs("p",{className:"text-sm text-gray-600",children:["Error al cargar datos históricos: ",o]})]})}):0===s.length?ma.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px]",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(R,{className:"h-8 w-8 text-amber-500 mx-auto mb-2"}),ma.jsxs("p",{className:"text-sm text-gray-600",children:["No hay datos históricos disponibles para ",t]})]})}):ma.jsxs("div",{className:"w-full",style:{height:n},children:[t&&ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t}),ma.jsx(ue,{width:"100%",height:"100%",children:ma.jsxs(ye,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[ma.jsx(he,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),ma.jsx(fe,{dataKey:"year"}),ma.jsx(pe,{tickFormatter:e=>Pr(Number(e))}),ma.jsx(ge,{formatter:e=>Pr(Number(e))}),ma.jsx(be,{}),ma.jsx(ve,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8},name:t})]})})]})};a.lazy(()=>rr(()=>Promise.resolve().then(()=>Ck),void 0)),a.lazy(()=>rr(()=>Promise.resolve().then(()=>Ak),void 0)),a.lazy(()=>rr(()=>Promise.resolve().then(()=>g_),void 0)),a.lazy(()=>rr(()=>Promise.resolve().then(()=>vC),void 0)),a.lazy(()=>rr(()=>Promise.resolve().then(()=>wC),void 0)),a.lazy(()=>rr(()=>Promise.resolve().then(()=>LA),void 0)),s.lazy(()=>rr(()=>Promise.resolve().then(()=>wC),void 0));const wA=[{name:"Secretaría de Obras Públicas",children:[{name:"Calle Principal",value:5e6},{name:"Parque Central",value:3e6},{name:"Sistema de Drenaje",value:7e6}]},{name:"Secretaría de Educación",children:[{name:"Escuela Norte",value:2e6},{name:"Becas Estudiantiles",value:15e5}]}],NA=[{name:"Presupuesto Inicial",value:1e7,type:"start"},{name:"Ajuste Positivo",value:2e6,type:"increase"},{name:"Recorte",value:-15e5,type:"decrease"},{name:"Ejecución Adicional",value:3e6,type:"increase"},{name:"Total Final",value:135e5,type:"end"}],kA=[{id:"Propuestos",value:120,label:"Propuestos"},{id:"Aprobados",value:80,label:"Aprobados"},{id:"Adjudicados",value:60,label:"Adjudicados"},{id:"En Ejecución",value:45,label:"En Ejecución"},{id:"Finalizados",value:35,label:"Finalizados"}],_A={nodes:[{id:"Presupuesto General"},{id:"Obras Públicas"},{id:"Educación"},{id:"Salud"},{id:"Proyecto A"},{id:"Proyecto B"},{id:"Proveedor X"},{id:"Proveedor Y"}],links:[{source:"Presupuesto General",target:"Obras Públicas",value:5e6},{source:"Presupuesto General",target:"Educación",value:3e6},{source:"Presupuesto General",target:"Salud",value:2e6},{source:"Obras Públicas",target:"Proyecto A",value:3e6},{source:"Obras Públicas",target:"Proyecto B",value:2e6},{source:"Proyecto A",target:"Proveedor X",value:3e6},{source:"Proyecto B",target:"Proveedor Y",value:2e6}]},CA=[{id:"Task 1",name:"Construcción Plaza Central",start:"2024-01-01",end:"2024-06-30",progress:75,dependencies:""},{id:"Task 2",name:"Reforma Escuela Primaria",start:"2024-03-01",end:"2024-09-30",progress:40,dependencies:"Task 1"}],SA=[{day:"2024-01-01",value:12},{day:"2024-01-02",value:5},{day:"2024-01-03",value:8},{day:"2024-01-04",value:15},{day:"2024-01-05",value:7},{day:"2024-01-06",value:3},{day:"2024-01-07",value:9}],DA=[{subject:"Ejecución Presupuestaria",A:120,B:90,fullMark:150},{subject:"Cumplimiento de Plazos",A:98,B:86,fullMark:150},{subject:"Calidad de Obra",A:86,B:110,fullMark:150},{subject:"Satisfacción Ciudadana",A:99,B:85,fullMark:150},{subject:"Eficiencia de Costos",A:85,B:90,fullMark:150}],AA=()=>{const[e,t]=a.useState(2024);return ma.jsxs("div",{className:"space-y-8",children:[ma.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Visualizaciones Avanzadas"}),ma.jsx("p",{className:"text-gray-600 mb-6",children:"Demostración de todos los tipos de gráficos avanzados disponibles en el portal de transparencia"}),ma.jsxs("div",{className:"flex items-center space-x-4",children:[ma.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Año:"}),ma.jsxs("select",{value:e,onChange:e=>t(Number(e.target.value)),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[ma.jsx("option",{value:2024,children:"2024"}),ma.jsx("option",{value:2025,children:"2025"})]})]})]}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:ma.jsx(_k,{data:wA,title:"🌳 Treemap: Distribución Presupuestaria",height:400})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:ma.jsx(Dk,{data:NA,title:"💧 Waterfall: Evolución del Presupuesto",height:400})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:ma.jsx(p_,{data:kA,title:"漏 Funnel: Proceso de Contratación",height:400})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:ma.jsx(bC,{data:_A,title:"🔗 Sankey: Flujo de Fondos",height:400})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2",children:ma.jsx(SC,{tasks:CA,title:"⏱️ Gantt: Cronograma de Proyectos",height:400})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:ma.jsx(xA,{data:SA,from:"2024-01-01",to:"2024-01-07",title:"🗓️ Heatmap: Actividad Diaria",height:400})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:ma.jsx(yA,{data:DA,title:"🎯 Radar: Comparativa de Desempeño",height:400})})]})]})},OA=()=>{const[e,t]=a.useState((new Date).getFullYear()),{completeData:r,currentYearData:n,totalDocuments:s,availableYears:i,auditCompletionRate:o}=$r(e),l={totalDocuments:s||0,verifiedDocuments:n?.documents?.filter(e=>!0===e.verified).length??0,transparencyScore:o||0,dataSources:r?.summary?.categories?.length??9,budgetTotal:n?.budget?.totalBudget??0,budgetExecuted:n?.budget?.totalExecuted??0,executionRate:n?.budget?.executionPercentage??0,treasuryBalance:n?.budget?.totalBudget??0,osintCompliance:o||0,responseTime:"<1s",lastUpdated:r?.summary?.last_updated?new Date(r.summary.last_updated).toLocaleDateString("es-AR"):(new Date).toLocaleDateString("es-AR")};return ma.jsxs("div",{className:"space-y-8",children:[ma.jsx(ce.section,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:ma.jsxs("div",{className:"p-6 md:p-8",children:[ma.jsx("h1",{className:"font-heading text-3xl font-bold text-gray-800 dark:text-white mb-6",children:"Portal de Transparencia - Carmen de Areco"}),ma.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none",children:[ma.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"El Portal de Transparencia de Carmen de Areco es una plataforma integral que proporciona acceso público a información gubernamental verificada, cumpliendo con los más altos estándares de transparencia y rendición de cuentas."}),ma.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[ma.jsx(Er,{availableYears:i,selectedYear:e,onYearChange:t,className:"flex-shrink-0"}),ma.jsxs("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium",children:["Datos actualizados para ",e]})]}),ma.jsx("h2",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mt-8 mb-4",children:"Nuestra Misión"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Facilitar el acceso ciudadano a información pública de calidad mediante tecnologías avanzadas de verificación y procesamiento de datos, promoviendo la participación informada y el control ciudadano sobre la gestión municipal."}),ma.jsx("h2",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mt-8 mb-4",children:"Compromiso con la Transparencia"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Operamos bajo estricto cumplimiento de la legislación argentina, utilizando metodologías OSINT (Open Source Intelligence) éticas para recopilar, verificar y presentar información de manera confiable y accesible las 24 horas del día."}),ma.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-lg p-6 my-6",children:[ma.jsx("h3",{className:"font-heading text-xl font-bold text-primary-800 dark:text-primary-200 mb-3",children:"Marco Legal y Cumplimiento"}),ma.jsx("p",{className:"text-primary-700 dark:text-primary-300 mb-4",children:"Nuestro sistema cumple integralmente con:"}),ma.jsxs("ul",{className:"list-disc list-inside space-y-2 text-primary-700 dark:text-primary-300",children:[ma.jsxs("li",{children:[ma.jsx("strong",{children:"Ley 27.275"})," - Derecho de Acceso a la Información Pública"]}),ma.jsxs("li",{children:[ma.jsx("strong",{children:"Ley 25.326"})," - Protección de Datos Personales"]}),ma.jsxs("li",{children:[ma.jsx("strong",{children:"Código Penal Argentino"})," - Artículos 153-255 (Protección de datos)"]})]})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ma.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg",children:[ma.jsx("div",{className:"w-16 h-16 bg-blue-500 text-white rounded-full mx-auto mb-4 flex items-center justify-center",children:ma.jsx(N,{size:24})}),ma.jsx("h3",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-1",children:l.totalDocuments.toLocaleString()}),ma.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-2",children:"Documentos Oficiales"}),ma.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["✅ ",l.verifiedDocuments.toLocaleString()," verificados"]})]}),ma.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg",children:[ma.jsx("div",{className:"w-16 h-16 bg-green-500 text-white rounded-full mx-auto mb-4 flex items-center justify-center",children:ma.jsx(_,{size:24})}),ma.jsxs("h3",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-1",children:[l.transparencyScore,"%"]}),ma.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium mb-2",children:"Índice de Transparencia"}),ma.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Calidad de datos verificada"})]}),ma.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg",children:[ma.jsx("div",{className:"w-16 h-16 bg-purple-500 text-white rounded-full mx-auto mb-4 flex items-center justify-center",children:ma.jsx(ae,{size:24})}),ma.jsxs("h3",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-1",children:[l.osintCompliance,"%"]}),ma.jsx("p",{className:"text-purple-600 dark:text-purple-400 font-medium mb-2",children:"Cumplimiento OSINT"}),ma.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Marco legal argentino"})]}),ma.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg",children:[ma.jsx("div",{className:"w-16 h-16 bg-orange-500 text-white rounded-full mx-auto mb-4 flex items-center justify-center",children:ma.jsx(w,{size:24})}),ma.jsx("h3",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-1",children:l.dataSources}),ma.jsx("p",{className:"text-orange-600 dark:text-orange-400 font-medium mb-2",children:"Fuentes de Datos"}),ma.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Participación ciudadana activa"})]})]})]})]})}),ma.jsx(ce.section,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:ma.jsxs("div",{className:"p-6 md:p-8",children:[ma.jsx("h2",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Impacto en Transparencia Municipal"}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ma.jsxs("div",{children:[ma.jsx("h3",{className:"font-heading text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Acceso a la Información"}),ma.jsxs("div",{className:"space-y-3",children:[ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Documentos Accesibles:"}),ma.jsx("span",{className:"font-semibold text-green-600",children:l.totalDocuments.toLocaleString()})]}),ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Fuentes de Datos:"}),ma.jsx("span",{className:"font-semibold text-blue-600",children:l.dataSources})]}),ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Tiempo de Respuesta:"}),ma.jsx("span",{className:"font-semibold text-purple-600",children:l.responseTime})]}),ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Última Actualización:"}),ma.jsx("span",{className:"font-semibold text-orange-600",children:l.lastUpdated})]})]})]}),ma.jsxs("div",{children:[ma.jsx("h3",{className:"font-heading text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Verificación y Calidad"}),ma.jsxs("div",{className:"space-y-3",children:[ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Documentos Verificados:"}),ma.jsxs("span",{className:"font-semibold text-green-600",children:["✅ ",l.verifiedDocuments.toLocaleString()]})]}),ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Integridad de Datos:"}),ma.jsx("span",{className:"font-semibold text-green-600",children:"98.5%"})]}),ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Cumplimiento Legal:"}),ma.jsxs("span",{className:"font-semibold text-green-600",children:[l.osintCompliance,"%"]})]}),ma.jsxs("div",{className:"flex justify-between items-center",children:[ma.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Acceso Disponible:"}),ma.jsx("span",{className:"font-semibold text-green-600",children:"24/7"})]})]})]})]}),ma.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[ma.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ma.jsx(F,{className:"text-green-500",size:24}),ma.jsx("h3",{className:"font-heading text-lg font-semibold text-gray-800 dark:text-white",children:"Compromiso con la Transparencia"})]}),ma.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-4",children:["Nuestro sistema de transparencia opera bajo estricto cumplimiento de la ",ma.jsx("strong",{children:"Ley 27.275 de Acceso a la Información Pública"})," y la ",ma.jsx("strong",{children:"Ley 25.326 de Protección de Datos Personales"}),". Utilizamos metodologías OSINT (Open Source Intelligence) éticas y legales para recopilar, verificar y presentar información gubernamental de manera accesible y confiable."]}),ma.jsxs("div",{className:"flex flex-wrap gap-2",children:[ma.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full text-sm font-medium",children:"Ley 27.275 Compliant"}),ma.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium",children:"OSINT Ético"}),ma.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full text-sm font-medium",children:"Verificación Multifuente"}),ma.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 rounded-full text-sm font-medium",children:"Acceso 24/7"})]})]})]})}),ma.jsx(ce.section,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:ma.jsxs("div",{className:"p-6 md:p-8",children:[ma.jsx("h2",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Fuentes Oficiales y Contacto"}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ma.jsxs("div",{children:[ma.jsx("h3",{className:"font-heading text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Fuentes de Información"}),ma.jsxs("div",{className:"space-y-3",children:[ma.jsxs("a",{href:"https://carmendeareco.gob.ar/transparencia/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:[ma.jsx(K,{size:16}),ma.jsx("span",{children:"Portal Oficial Carmen de Areco"})]}),ma.jsxs("a",{href:"https://web.archive.org/web/*/carmendeareco.gob.ar/transparencia/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:[ma.jsx(K,{size:16}),ma.jsx("span",{children:"Archivo Web (Wayback Machine)"})]}),ma.jsxs("a",{href:"https://www.gba.gob.ar/transparencia_institucional",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:[ma.jsx(K,{size:16}),ma.jsx("span",{children:"Transparencia Provincial (GBA)"})]})]})]}),ma.jsxs("div",{children:[ma.jsx("h3",{className:"font-heading text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Información Institucional"}),ma.jsxs("div",{className:"space-y-3",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Municipalidad"}),ma.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Carmen de Areco, Buenos Aires"})]}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Marco Legal"}),ma.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Ley 27.275 - Acceso a la Información Pública"})]}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Sistema"}),ma.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Portal de Transparencia Automatizado"})]})]})]})]})]})}),ma.jsx(ce.section,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:ma.jsxs("div",{className:"p-6 md:p-8",children:[ma.jsxs("div",{className:"text-center mb-8",children:[ma.jsx("h2",{className:"font-heading text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Visualizaciones Avanzadas de Datos"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Explora nuestros gráficos interactivos avanzados que proporcionan análisis profundos de datos presupuestarios, flujos de fondos y métricas de transparencia municipal."})]}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[ma.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[ma.jsx("div",{className:"w-12 h-12 bg-blue-500 text-white rounded-full mx-auto mb-3 flex items-center justify-center",children:ma.jsx(g,{size:20})}),ma.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Análisis Jerárquico"}),ma.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Treemaps y diagramas de flujo para explorar presupuestos por departamentos"})]}),ma.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[ma.jsx("div",{className:"w-12 h-12 bg-green-500 text-white rounded-full mx-auto mb-3 flex items-center justify-center",children:ma.jsx(v,{size:20})}),ma.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Evolución Temporal"}),ma.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Gráficos waterfall que muestran cambios presupuestarios secuenciales"})]}),ma.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[ma.jsx("div",{className:"w-12 h-12 bg-purple-500 text-white rounded-full mx-auto mb-3 flex items-center justify-center",children:ma.jsx(k,{size:20})}),ma.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Análisis de Procesos"}),ma.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Gráficos funnel para seguimiento de licitaciones y contratos"})]})]}),ma.jsx(AA,{})]})})]})},zA=({category:e="budget",title:t="Presupuesto",icon:r="💰"})=>{const[i,o]=a.useState((new Date).getFullYear()),{currentYearData:l,loading:c,error:d,metrics:u}=_m(i),m=s.useMemo(()=>l?.documents?l.documents.filter(t=>t.category?.toLowerCase().includes(e.toLowerCase())||t.type?.toLowerCase().includes(e.toLowerCase())||t.title?.toLowerCase().includes(e.toLowerCase())||t.filename?.toLowerCase().includes(e.toLowerCase())):[],[l?.documents,e]),h=s.useMemo(()=>{if(!l?.budget)return null;const a=l.budget.categories||[];return a.find(t=>t.name?.toLowerCase().includes(e.toLowerCase())||t.category?.toLowerCase().includes(e.toLowerCase()))||{name:t,budgeted:l.budget.total_budget||0,executed:l.budget.total_executed||0,execution_rate:l.budget.execution_rate||0,category_breakdown:a}},[l?.budget,e,t]);return c?ma.jsx("div",{className:"flex items-center justify-center min-h-screen",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),ma.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos de la categoría…"})]})}):d?ma.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ma.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 dark:bg-red-900/20 dark:border-red-700",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:ma.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),ma.jsxs("div",{className:"ml-3",children:[ma.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),ma.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:ma.jsx("p",{children:d})})]})]})})}):ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsx("div",{className:"mb-8",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r," ",t]}),ma.jsxs("p",{className:"text-gray-600",children:["Análisis detallado de ",t.toLowerCase()," para el año ",i]})]}),ma.jsx(Er,{availableYears:u.availableYears,selectedYear:i,onYearChange:o})]})}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[ma.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0 p-3 bg-blue-100 rounded-lg",children:ma.jsx(N,{className:"h-6 w-6 text-blue-600"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documentos"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length})]})]})}),h&&ma.jsxs(ma.Fragment,{children:[ma.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0 p-3 bg-green-100 rounded-lg",children:ma.jsx(N,{className:"h-6 w-6 text-green-600"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presupuestado"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(h.budgeted||0)})]})]})}),ma.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"flex-shrink-0 p-3 bg-purple-100 rounded-lg",children:ma.jsx(N,{className:"h-6 w-6 text-purple-600"})}),ma.jsxs("div",{className:"ml-4",children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ejecutado"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(h.executed||0)})]})]})})]})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ma.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:["Documentos de ",t]}),m.length>0?ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>ma.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[ma.jsxs("div",{className:"flex items-start justify-between mb-3",children:[ma.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2",children:e.title}),ma.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type?.toUpperCase()||"DOC"})]}),ma.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.category}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("span",{className:"text-xs text-gray-500",children:[e.size_mb?.toFixed(1)," MB"]}),ma.jsx(n,{to:`/document/${e.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Ver detalles"})]})]},e.id))}):ma.jsxs("div",{className:"text-center py-12",children:[ma.jsx(N,{className:"mx-auto h-12 w-12 text-gray-400"}),ma.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay documentos"}),ma.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:['No se encontraron documentos para la categoría "',t,'" en el año ',i,"."]})]})]})]})},TA=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState(""),[s,i]=a.useState("all"),[o,l]=a.useState("overview"),{currentBudget:c,currentDocuments:d,loading:u,error:m,availableYears:h}=Or(e),f=a.useMemo(()=>{if(!c)return{totalBudget:0,totalExecuted:0,executionRate:0,categoryBreakdown:[],monthlyTrend:[]};const e=c?.total_budget||c?.totalBudget||c?.budget_total||0,t=c?.total_executed||c?.totalExecuted||c?.executed_total||0;return{totalBudget:e,totalExecuted:t,executionRate:e>0?t/e*100:0,categoryBreakdown:(c?.categories||[]).map(e=>({name:e.name||e.category||e.description||"Categoría no identificada",budgeted:e.budgeted||e.budget_amount||e.budget||0,executed:e.executed||e.executed_amount||e.executed||0,executionRate:e.execution_rate||e.executionRate||e.execution_percentage||0,variance:(e.executed||e.executed_amount||e.executed||0)-(e.budgeted||e.budget_amount||e.budget||0)})),monthlyTrend:[]}},[c]),p=a.useMemo(()=>d?d.filter(e=>e.category?.toLowerCase().includes("gasto")||e.category?.toLowerCase().includes("spending")||e.category?.toLowerCase().includes("presupuesto")||e.category?.toLowerCase().includes("budget")||e.title?.toLowerCase().includes("gasto")||e.title?.toLowerCase().includes("spending")||e.title?.toLowerCase().includes("presupuesto")||e.title?.toLowerCase().includes("budget")):[],[d]),x=currentYearData?.budget?.spending_efficiency,b=currentYearData?.budget?.audit_overview;return u?ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(L,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando datos de gastos..."})]})}):m?ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(A,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),ma.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),ma.jsx("p",{className:"text-gray-600",children:m})]})}):ma.jsx("div",{className:"min-h-screen bg-gray-50",children:ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:ma.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[ma.jsxs("div",{children:[ma.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[ma.jsx(y,{className:"w-8 h-8 mr-3 text-green-600"}),"Gastos Municipales"]}),ma.jsxs("p",{className:"text-gray-600 mt-2",children:["Análisis detallado del gasto público para ",e]})]}),ma.jsx(Er,{selectedYear:e,onYearChange:t,availableYears:h,label:"Año fiscal"})]})}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presupuesto Total"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(f.totalBudget)})]}),ma.jsx(y,{className:"w-8 h-8 text-blue-500"})]})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ejecutado"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(f.totalExecuted)})]}),ma.jsx(F,{className:"w-8 h-8 text-green-500"})]})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tasa de Ejecución"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Lr(f.executionRate)})]}),f.executionRate>=75?ma.jsx(v,{className:"w-8 h-8 text-green-500"}):ma.jsx(re,{className:"w-8 h-8 text-red-500"})]})})]}),ma.jsx("div",{className:"bg-white rounded-xl shadow-sm mb-8",children:ma.jsx("nav",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Resumen",icon:g},{id:"categories",label:"Por Categoría",icon:N},{id:"trends",label:"Tendencias",icon:v}].map(e=>{const t=e.icon;return ma.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center px-6 py-4 border-b-2 font-medium text-sm transition-colors "+(o===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),title:`Ver ${e.label.toLowerCase()}`,children:[ma.jsx(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),ma.jsxs("div",{className:"space-y-8",children:["overview"===o&&ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Resumen Ejecutivo"}),ma.jsx(NC,{year:e})]}),"categories"===o&&ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Distribución por Categoría"}),ma.jsx(pm,{type:"budget",year:e,title:"Distribución de Gastos por Categoría",variant:"pie",showControls:!1,height:400})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tasas de Ejecución"}),ma.jsx(pm,{type:"budget",year:e,title:"Tasas de Ejecución por Categoría",variant:"bar",showControls:!1,height:400})]})]}),"trends"===o&&ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tendencias Anuales"}),ma.jsx("p",{className:"text-gray-600 mb-6",children:"Evolución del gasto a lo largo de los años"}),ma.jsx(pm,{type:"budget-trend",year:e,title:`Evolución del Gasto - ${e}`,variant:"line",className:"h-80"})]})]}),ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 mt-8",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Documentos Relacionados"}),ma.jsxs("div",{className:"flex items-center space-x-4",children:[ma.jsxs("div",{className:"relative",children:[ma.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),ma.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:r,onChange:e=>n(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Buscar documentos de gastos"})]}),ma.jsxs("select",{value:s,onChange:e=>i(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por categoría de documento",children:[ma.jsx("option",{value:"all",children:"Todas las categorías"}),ma.jsx("option",{value:"budget",children:"Presupuesto"}),ma.jsx("option",{value:"execution",children:"Ejecución"}),ma.jsx("option",{value:"reports",children:"Informes"})]})]})]}),ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.slice(0,6).map(e=>ma.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-2",children:[ma.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),ma.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type})]}),ma.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.category}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("span",{className:"text-xs text-gray-500",children:[e.size_mb?.toFixed(1)," MB"]}),ma.jsx("a",{href:e.url,download:!0,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",title:`Descargar ${e.title}`,children:ma.jsx(U,{className:"w-4 h-4"})})]})]},e.id))})]}),ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 mt-8",children:[ma.jsxs("div",{className:"mb-6",children:[ma.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[ma.jsx(g,{className:"w-6 h-6 mr-2 text-purple-600"}),"Eficiencia del Gasto"]}),x?ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 mb-6",children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Puntuación de Eficiencia"}),ma.jsx("p",{className:"text-2xl font-semibold",children:x.efficiency_score??"N/A"}),ma.jsx("p",{className:"mt-2 text-gray-600",children:x.recommendations?.join(", ")})]}):ma.jsx("p",{className:"text-gray-600 mb-4",children:"No hay datos de eficiencia de gasto."})]}),ma.jsxs("div",{children:[ma.jsxs("h2",{className:"text-2xl font-semibold mb-3 flex items-center",children:[ma.jsx(F,{className:"w-5 h-5 mr-2 text-green-600"}),"Resumen de Auditoría"]}),b?ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Hallazgos"}),ma.jsx("p",{className:"text-xl font-semibold",children:b.findings}),ma.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Recomendaciones: ",b.recommendations]}),ma.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Puntuación de Cumplimiento: ",b.compliance_score]})]}):ma.jsx("p",{className:"text-gray-600",children:"No hay datos de auditoría disponibles."})]})]})]})})},EA=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState(""),[s,i]=a.useState("overview"),{currentBudget:o,currentDocuments:l,loading:c,error:d,availableYears:u}=Or(e),m=a.useMemo(()=>{const e=o;if(!e)return{totalRevenue:0,taxRevenue:0,nonTaxRevenue:0,transfers:0,sourceBreakdown:[],monthlyTrend:[]};const t=e.total_revenue||e.ingresos_totales||e.revenue_total||0,a=e.tax_revenue||e.ingresos_tributarios||0,r=e.non_tax_revenue||e.ingresos_no_tributarios||0,n=e.transfers||e.transferencias||0;return{totalRevenue:t,taxRevenue:a,nonTaxRevenue:r,transfers:n,sourceBreakdown:[{name:"Ingresos Tributarios",amount:a},{name:"Ingresos No Tributarios",amount:r},{name:"Transferencias",amount:n}],monthlyTrend:h(t)}},[o,e]),h=t=>t?Array.from({length:12},(a,r)=>({month:new Date(e,r,1).toLocaleDateString("es-AR",{month:"long"}),revenue:Math.floor(Math.random()*(t/10))+t/15})):[],f=a.useMemo(()=>l?l.filter(e=>e.category?.toLowerCase().includes("revenue")||e.category?.toLowerCase().includes("ingresos")||e.title?.toLowerCase().includes("recursos")||e.category?.toLowerCase().includes("tesorería")||e.category?.toLowerCase().includes("treasury")):[],[l]);return c?ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(L,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando datos de tesorería..."})]})}):d?ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(A,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),ma.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),ma.jsx("p",{className:"text-gray-600",children:d})]})}):ma.jsx("div",{className:"min-h-screen bg-gray-50",children:ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:ma.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[ma.jsxs("div",{children:[ma.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[ma.jsx(ne,{className:"w-8 h-8 mr-3 text-green-600"}),"Tesorería: Ingresos y Recursos"]}),ma.jsxs("p",{className:"text-gray-600 mt-2",children:["Análisis de los ingresos municipales para ",e]})]}),ma.jsx(Er,{selectedYear:e,onYearChange:t,availableYears:u,label:"Año fiscal"})]})}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(m.totalRevenue)})]}),ma.jsx(y,{className:"w-8 h-8 text-green-500"})]})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Tributarios"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(m.taxRevenue)})]}),ma.jsx(se,{className:"w-8 h-8 text-blue-500"})]})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos No Tributarios"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(m.nonTaxRevenue)})]}),ma.jsx(ne,{className:"w-8 h-8 text-indigo-500"})]})}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transferencias"}),ma.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Pr(m.transfers)})]}),ma.jsx(ie,{className:"w-8 h-8 text-orange-500"})]})})]}),ma.jsx("div",{className:"bg-white rounded-xl shadow-sm mb-8",children:ma.jsx("nav",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Resumen",icon:g},{id:"sources",label:"Por Origen",icon:N},{id:"trends",label:"Tendencias",icon:v}].map(e=>{const t=e.icon;return ma.jsxs("button",{onClick:()=>i(e.id),className:"flex items-center px-6 py-4 border-b-2 font-medium text-sm transition-colors "+(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),title:`Ver ${e.label.toLowerCase()}`,children:[ma.jsx(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),ma.jsxs("div",{className:"space-y-8",children:["overview"===s&&ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Resumen de Ingresos"}),ma.jsx(pm,{type:"revenue",year:e,title:`Resumen de Ingresos - ${e}`,variant:"bar",className:"h-80"})]}),"sources"===s&&ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Distribución por Origen"}),ma.jsx(pm,{type:"revenue",year:e,title:`Distribución de Ingresos por Origen - ${e}`,variant:"pie",className:"h-80"})]}),"trends"===s&&ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tendencias Anuales"}),ma.jsx("p",{className:"text-gray-600 mb-6",children:"Evolución de los ingresos a lo largo de los años"}),ma.jsx(pm,{type:"treasury-trend",year:e,title:`Evolución de Ingresos - ${e}`,variant:"line",className:"h-80"})]})]}),ma.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 mt-8",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ma.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Documentos Relacionados"}),ma.jsxs("div",{className:"relative",children:[ma.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),ma.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:r,onChange:e=>n(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Buscar documentos de ingresos"})]})]}),ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.slice(0,6).map(e=>ma.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[ma.jsxs("div",{className:"flex items-center justify-between mb-2",children:[ma.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),ma.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type})]}),ma.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.category}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("span",{className:"text-xs text-gray-500",children:[e.size_mb?.toFixed(1)," MB"]}),ma.jsx("a",{href:e.url,download:!0,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",title:`Descargar ${e.title}`,children:ma.jsx(U,{className:"w-4 h-4"})})]})]},e.id))})]})]})})},MA=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState(""),[s,i]=a.useState("all"),[o,l]=a.useState("all"),[c,d]=a.useState(null),[u,h]=a.useState("grid"),[f,p]=a.useState("title"),[g,x]=a.useState("asc"),{data:b,isLoading:v,isError:j,error:k}=$r({year:e}),_=a.useMemo(()=>b?b.documents:[],[b]),D=a.useMemo(()=>b?[...new Set(_.map(e=>e.category))].sort():[],[_]),O=a.useMemo(()=>b?[...new Set(_.map(e=>e.type))].sort():[],[_]),z=a.useMemo(()=>b?{totalDocuments:_.length,totalSize:_.reduce((e,t)=>e+t.size_mb,0),yearsCovered:new Set(_.map(e=>e.year)).size,categoriesCount:D.length,verified:_.filter(e=>e.verified).length,integrityVerified:_.filter(e=>e.integrity_verified).length}:{totalDocuments:0,totalSize:0,yearsCovered:0,categoriesCount:0,verified:0,integrityVerified:0},[_,D]),T=a.useMemo(()=>{const e=[..._.filter(e=>{const t=""===r||e.title.toLowerCase().includes(r.toLowerCase())||e.filename.toLowerCase().includes(r.toLowerCase())||e.category.toLowerCase().includes(r.toLowerCase()),a="all"===s||e.category===s,n="all"===o||e.type===o;return t&&a&&n})];return e.sort((e,t)=>{let a,r;switch(f){case"title":a=e.title.toLowerCase(),r=t.title.toLowerCase();break;case"size":a=e.size_mb,r=t.size_mb;break;case"date":a=new Date(e.processing_date),r=new Date(t.processing_date);break;case"category":a=e.category.toLowerCase(),r=t.category.toLowerCase();break;default:return 0}return a<r?"asc"===g?-1:1:a>r?"asc"===g?1:-1:0}),e},[_,r,s,o,f,g]),M=a.useMemo(()=>b?b.metadata.year_coverage:[],[b]);if(v)return ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(L,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),ma.jsx("p",{className:"text-gray-600",children:"Cargando base de datos..."})]})});if(j)return ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx(A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),ma.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),ma.jsx("p",{className:"text-gray-600",children:k?.message})]})});const P=b?.metadata?.total_documents??0,I=b?.metadata?.data_sources??0,$=new Set(b?.documents?.map(e=>e.category)).size;return ma.jsx("div",{className:"min-h-screen bg-gray-50",children:ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:ma.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[ma.jsxs("div",{className:"flex items-center mb-4 lg:mb-0",children:[ma.jsx(C,{className:"w-8 h-8 text-blue-600 mr-3"}),ma.jsxs("div",{children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Base de Datos Municipal"}),ma.jsx("p",{className:"text-gray-600",children:"Búsqueda y exploración completa de documentos municipales"})]})]}),ma.jsx(Er,{selectedYear:e,onYearChange:t,availableYears:M,label:"Año de los documentos"})]})}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex items-center",children:[ma.jsx(N,{className:"w-8 h-8 text-blue-500 mr-3"}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Documentos Totales"}),ma.jsx("p",{className:"text-2xl font-semibold",children:P.toLocaleString()})]})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex items-center",children:[ma.jsx(w,{className:"w-8 h-8 text-green-500 mr-3"}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Categorías"}),ma.jsx("p",{className:"text-2xl font-semibold",children:$})]})]}),ma.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex items-center",children:[ma.jsx(y,{className:"w-8 h-8 text-purple-500 mr-3"}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-sm text-gray-600",children:"Fuentes de Datos"}),ma.jsx("p",{className:"text-2xl font-semibold",children:I})]})]})]}),ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:ma.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[ma.jsxs("div",{className:"relative flex-1",children:[ma.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),ma.jsx("input",{type:"text",placeholder:"Buscar documentos por título, archivo o tipo...",value:r,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Buscar en la base de datos"})]}),ma.jsxs("div",{className:"flex flex-wrap gap-4",children:[ma.jsxs("select",{value:s,onChange:e=>i(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por categoría",children:[ma.jsx("option",{value:"all",children:"Todas las categorías"}),D.map(e=>ma.jsx("option",{value:e,children:e.replace(/_/g," ")},e))]}),ma.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por tipo de archivo",children:[ma.jsx("option",{value:"all",children:"Todos los tipos"}),O.map(e=>ma.jsx("option",{value:e,children:e.toUpperCase()},e))]}),ma.jsxs("div",{className:"flex items-center gap-2",children:[ma.jsx("button",{onClick:()=>h("grid"),className:"p-2 rounded-lg "+("grid"===u?"bg-blue-100 text-blue-600":"text-gray-400"),title:"Vista de cuadrícula",children:ma.jsx(H,{className:"w-5 h-5"})}),ma.jsx("button",{onClick:()=>h("list"),className:"p-2 rounded-lg "+("list"===u?"bg-blue-100 text-blue-600":"text-gray-400"),title:"Vista de lista",children:ma.jsx(Y,{className:"w-5 h-5"})})]}),ma.jsxs("button",{onClick:()=>{const t=[["Título","Categoría","Tipo","Tamaño","Año","Estado"],...T.map(e=>[e.title,e.category,e.type,`${e.size_mb.toFixed(1)} MB`,e.year,e.verified])].map(e=>e.join(",")).join("\n"),a=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=`base-de-datos-${e}.csv`,n.click(),window.URL.revokeObjectURL(r)},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",title:"Exportar resultados a CSV",children:[ma.jsx(U,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]})}),ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-4",children:ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("span",{className:"text-sm text-gray-600",children:[T.length," de ",z.totalDocuments," documentos"]}),ma.jsxs("div",{className:"flex items-center space-x-4",children:[ma.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),ma.jsx("div",{className:"flex space-x-2",children:["title","size","date","category"].map(e=>ma.jsxs("button",{onClick:()=>(e=>{f===e?x("asc"===g?"desc":"asc"):(p(e),x("asc"))})(e),className:"flex items-center px-3 py-1 rounded text-sm "+(f===e?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800"),children:[{title:"Título",size:"Tamaño",date:"Fecha",category:"Categoría"}[e],f===e&&("asc"===g?ma.jsx(oe,{className:"w-4 h-4 ml-1"}):ma.jsx(S,{className:"w-4 h-4 ml-1"}))]},e))})]})]})}),"grid"===u?ma.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(e=>ma.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:ma.jsxs("div",{className:"p-6",children:[ma.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ma.jsx("div",{className:"text-2xl",children:"pdf"===e.type?"📄":"csv"===e.type?"📊":"json"===e.type?"🔷":"📝"}),ma.jsxs("div",{className:"flex items-center space-x-1",children:[e.verified&&ma.jsx(F,{className:"w-4 h-4 text-green-500"}),ma.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type.toUpperCase()})]})]}),ma.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),ma.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[ma.jsx("div",{className:"flex items-center",children:ma.jsx("span",{className:"capitalize",children:e.category.replace(/_/g," ")})}),ma.jsx("div",{className:"flex items-center",children:ma.jsx("span",{children:Ir(1024*e.size_mb*1024)})}),ma.jsx("div",{className:"flex items-center",children:ma.jsx("span",{children:e.year})})]}),ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("button",{onClick:()=>d(e),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",title:`Ver documento ${e.title}`,children:[ma.jsx(m,{className:"w-4 h-4 mr-1"}),"Ver"]}),ma.jsxs("a",{href:e.url,download:!0,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",title:`Descargar ${e.filename}`,children:[ma.jsx(U,{className:"w-4 h-4 mr-1"}),"Descargar"]})]})]})},e.id))}):ma.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:ma.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ma.jsx("thead",{className:"bg-gray-50",children:ma.jsxs("tr",{children:[ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documento"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamaño"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Año"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),ma.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),ma.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(e=>ma.jsxs("tr",{className:"hover:bg-gray-50",children:[ma.jsx("td",{className:"px-6 py-4",children:ma.jsxs("div",{className:"flex items-center",children:[ma.jsx("div",{className:"text-xl mr-3",children:"pdf"===e.type?"📄":"csv"===e.type?"📊":"json"===e.type?"🔷":"📝"}),ma.jsxs("div",{children:[ma.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:e.title}),ma.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:e.filename})]})]})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category.replace(/_/g," ")}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.type})}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ir(1024*e.size_mb*1024)}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.year}),ma.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ma.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.verified?"Verificado":"Pendiente"})}),ma.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[ma.jsxs("button",{onClick:()=>d(e),className:"text-blue-600 hover:text-blue-900 mr-4 flex items-center",title:"Ver documento",children:[ma.jsx(m,{className:"h-4 w-4 mr-1"}),"Ver"]}),ma.jsxs("a",{href:e.url,download:!0,className:"text-green-600 hover:text-green-900 flex items-center",title:"Descargar documento",children:[ma.jsx(U,{className:"h-4 w-4 mr-1"}),"Descargar"]})]})]},e.id))})]})}),0===T.length&&r&&ma.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-200",children:[ma.jsx(N,{className:"mx-auto h-12 w-12 text-gray-400"}),ma.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay documentos"}),ma.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:['No se encontraron documentos con los filtros seleccionados: "',r,'"']}),ma.jsx("button",{onClick:()=>{n(""),i("all"),l("all")},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Limpiar filtros"})]}),c&&ma.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:ma.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[ma.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:ma.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),ma.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:ma.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[ma.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ma.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.title}),ma.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600",title:"Cerrar visor de documentos",children:"✕"})]}),ma.jsx(Am,{document:{id:c.id,title:c.title,url:c.url,type:c.type}})]})})]})})]})})},PA=({year:e,className:t})=>ma.jsx(Rr,{type:"budget",year:e,title:`Análisis Presupuestario Avanzado ${e}`,className:t,variant:"bar",showControls:!0}),LA=Object.freeze(Object.defineProperty({__proto__:null,default:PA},Symbol.toStringTag,{value:"Module"})),IA=[{key:"budget",label:"Presupuesto",description:"Análisis presupuestario y ejecución"},{key:"debt",label:"Deuda",description:"Deuda municipal y compromisos"},{key:"treasury",label:"Tesorería",description:"Movimientos de tesorería"},{key:"salary",label:"Salarios",description:"Análisis salarial público"},{key:"contract",label:"Contratos",description:"Contratos y licitaciones"},{key:"property",label:"Patrimonio",description:"Declaraciones patrimoniales"},{key:"investment",label:"Inversiones",description:"Inversiones municipales"},{key:"revenue",label:"Ingresos",description:"Ingresos y recaudación"}],$A=({year:e,className:t=""})=>{const[r,n]=a.useState("budget"),{loading:s,error:i,refetch:o}=_m(e);return ma.jsxs("div",{className:`space-y-6 ${t}`,children:[ma.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[ma.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:["Dashboard de Transparencia ",e]}),ma.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:IA.map(({key:e,label:t,description:a})=>ma.jsxs(ce.button,{onClick:()=>n(e),className:"p-4 rounded-lg text-left transition-colors "+(r===e?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[ma.jsx("div",{className:"font-semibold text-sm",children:t}),ma.jsx("div",{className:"text-xs mt-1 "+(r===e?"text-blue-100":"text-gray-500 dark:text-gray-400"),children:a})]},e))})]}),ma.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:ma.jsx(Rr,{type:r,year:e,variant:"bar",showControls:!0,height:500})},r),(s||i)&&ma.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4",children:[s&&ma.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Cargando datos del dashboard..."}),i&&ma.jsxs("div",{className:"flex items-center justify-between",children:[ma.jsxs("div",{className:"text-red-600 dark:text-red-400 text-sm",children:["Error: ",i]}),ma.jsx("button",{onClick:o,className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Reintentar"})]})]})]})},FA=()=>{const[e,t]=a.useState((new Date).getFullYear()),[r,n]=a.useState("financial"),{masterData:s,currentBudget:i,currentContracts:o,currentSalaries:l,currentDocuments:c,currentTreasury:d,currentDebt:u,budgetChartData:m,contractsChartData:h,salariesChartData:f,treasuryChartData:p,comprehensiveChartData:g,loading:b,error:j,totalDocuments:w,availableYears:k,categories:_,dataSourcesActive:C,switchYear:S}=Or(e);if(b)return ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),ma.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cargando Dashboard Completo"}),ma.jsx("p",{className:"text-gray-600",children:"Integrando TODOS los gráficos y fuentes de datos..."})]})});if(j)return ma.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ma.jsxs("div",{className:"text-center",children:[ma.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error en Dashboard"}),ma.jsx("p",{className:"text-gray-600 mb-4",children:j}),ma.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reintentar"})]})});const D=[{id:"financial",label:"Análisis Financiero",icon:ma.jsx(y,{className:"w-5 h-5"})},{id:"contracts",label:"Contratos y Licitaciones",icon:ma.jsx($,{className:"w-5 h-5"})},{id:"treasury",label:"Tesorería y Deuda",icon:ma.jsx(v,{className:"w-5 h-5"})},{id:"documents",label:"Documentos y Personal",icon:ma.jsx(N,{className:"w-5 h-5"})},{id:"comprehensive",label:"Vista Integral",icon:ma.jsx(le,{className:"w-5 h-5"})},{id:"advanced",label:"Gráficos Avanzados",icon:ma.jsx(x,{className:"w-5 h-5"})}];return ma.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ma.jsxs("div",{className:"mb-8",children:[ma.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Completo - Todos los Gráficos"}),ma.jsxs("p",{className:"text-gray-600",children:[w," documentos de ",C," fuentes • JSON/MD/PDF/APIs Externas"]})]}),ma.jsx(Er,{availableYears:k,selectedYear:e,onYearChange:e=>{t(e),S(e)}}),ma.jsx("div",{className:"flex flex-wrap gap-2 mb-8 bg-white p-4 rounded-xl shadow-sm",children:D.map(e=>ma.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center px-4 py-2 rounded-lg transition-colors "+(r===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.icon,ma.jsx("span",{className:"ml-2",children:e.label})]},e.id))}),"financial"===r&&ma.jsxs("div",{className:"space-y-8",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Análisis Financiero Completo"}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Presupuesto Municipal"}),ma.jsx(NC,{data:m,year:e})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Análisis Presupuestario Avanzado"}),ma.jsx(PA,{data:i,year:e})]})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Comparación Anual"}),ma.jsx(jA,{data:g,currentYear:e})]})]}),"contracts"===r&&ma.jsxs("div",{className:"space-y-8",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contratos y Licitaciones"}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Análisis de Contratos"}),ma.jsx(Br,{data:o,year:e})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Flujo de Contratos (Gantt)"}),ma.jsx(SC,{data:o})]})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribución por Categoría (TreeMap)"}),ma.jsx(_k,{data:h})]})]}),"treasury"===r&&ma.jsxs("div",{className:"space-y-8",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tesorería y Análisis de Deuda"}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Análisis de Tesorería"}),ma.jsx(bA,{data:d,year:e})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Análisis de Deuda"}),ma.jsx(jC,{data:u,year:e})]})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Flujo Financiero (Waterfall)"}),ma.jsx(Dk,{data:p})]})]}),"documents"===r&&ma.jsxs("div",{className:"space-y-8",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Documentos y Recursos Humanos"}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Análisis Salarial"}),ma.jsx(gm,{data:l,year:e})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Análisis de Documentos"}),ma.jsx(vA,{data:c,year:e})]})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Calendario de Actividad"}),ma.jsx(xA,{data:c,year:e})]})]}),"comprehensive"===r&&ma.jsxs("div",{className:"space-y-8",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vista Integral del Sistema"}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dashboard Unificado"}),ma.jsx($A,{completeData:s,year:e})]}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Datos Validados"}),ma.jsx(hl,{data:s,validationLevel:"complete",year:e})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gráfico Universal"}),ma.jsx(CC,{data:s,year:e,chartType:"comprehensive"})]})]})]}),"advanced"===r&&ma.jsxs("div",{className:"space-y-8",children:[ma.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gráficos Avanzados"}),ma.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Radar Municipal"}),ma.jsx(yA,{data:[{category:"Presupuesto",value:m.execution_rate||0},{category:"Contratos",value:10*(h.total_contracts||0)},{category:"Personal",value:2*(f.total_employees||0)},{category:"Documentos",value:w/10},{category:"Transparencia",value:15*C}]})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Embudo de Procesos"}),ma.jsx(p_,{data:[{name:"Presupuesto Aprobado",value:m.budget_total||0},{name:"Licitaciones",value:h.total_contracts||0},{name:"Contratos Adjudicados",value:.8*(h.total_contracts||0)},{name:"Proyectos Completados",value:.6*(h.total_contracts||0)}]})]})]}),ma.jsxs(ce.div,{className:"bg-white p-6 rounded-xl shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[ma.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Flujo de Datos (Sankey)"}),ma.jsx(bC,{data:{nodes:[{id:"presupuesto",name:"Presupuesto"},{id:"contratos",name:"Contratos"},{id:"salarios",name:"Salarios"},{id:"ejecucion",name:"Ejecución"}],links:[{source:"presupuesto",target:"contratos",value:h.total_contracts||1},{source:"presupuesto",target:"salarios",value:f.total_employees||1},{source:"contratos",target:"ejecucion",value:.8*(h.total_contracts||1)},{source:"salarios",target:"ejecucion",value:f.total_employees||1}]}})]})]}),ma.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[ma.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen del Sistema"}),ma.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[ma.jsxs("div",{children:[ma.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w}),ma.jsx("p",{className:"text-sm text-gray-600",children:"Documentos Totales"})]}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-2xl font-bold text-green-600",children:C}),ma.jsx("p",{className:"text-sm text-gray-600",children:"Fuentes Activas"})]}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-2xl font-bold text-purple-600",children:_.length}),ma.jsx("p",{className:"text-sm text-gray-600",children:"Categorías"})]}),ma.jsxs("div",{children:[ma.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k.length}),ma.jsx("p",{className:"text-sm text-gray-600",children:"Años Disponibles"})]})]})]})]})},RA=()=>ma.jsx(c,{children:ma.jsx(ir,{children:ma.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[ma.jsx(sr,{}),ma.jsx("main",{className:"flex-1 ml-64 transition-all duration-300",children:ma.jsx("div",{className:"container mx-auto px-6 py-8",children:ma.jsxs(d,{children:[ma.jsx(u,{path:"/",element:ma.jsx(lr,{})}),ma.jsx(u,{path:"/dashboard",element:ma.jsx(Mr,{})}),ma.jsx(u,{path:"/ultimate",element:ma.jsx(FA,{})}),ma.jsx(u,{path:"/budget",element:ma.jsx(zA,{category:"budget",title:"Presupuesto Municipal",icon:"💰"})}),ma.jsx(u,{path:"/spending",element:ma.jsx(TA,{})}),ma.jsx(u,{path:"/treasury",element:ma.jsx(EA,{})}),ma.jsx(u,{path:"/contracts",element:ma.jsx(fl,{})}),ma.jsx(u,{path:"/salaries",element:ma.jsx(Sm,{})}),ma.jsx(u,{path:"/documents",element:ma.jsx(Dm,{})}),ma.jsx(u,{path:"/documents/:id",element:ma.jsx(Om,{})}),ma.jsx(u,{path:"/audit",element:ma.jsx($m,{})}),ma.jsx(u,{path:"/reports",element:ma.jsx(Fm,{})}),ma.jsx(u,{path:"/database",element:ma.jsx(MA,{})}),ma.jsx(u,{path:"/about",element:ma.jsx(OA,{})})]})})})]})})});document.getElementById("root"),setTimeout(()=>{document.body.innerText.length},1e3),document.getElementById("root"),setTimeout(()=>{document.body.innerText.length},1e3);const BA=new class{#j;#g;#m;#w;#N;#k;#_;#C;constructor(e={}){this.#j=e.queryCache||new Ja,this.#g=e.mutationCache||new Qa,this.#m=e.defaultOptions||{},this.#w=new Map,this.#N=new Map,this.#k=0}mount(){this.#k++,1===this.#k&&(this.#_=La.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#j.onFocus())}),this.#C=Fa.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#j.onOnline())}))}unmount(){this.#k--,0===this.#k&&(this.#_?.(),this.#_=void 0,this.#C?.(),this.#C=void 0)}isFetching(e){return this.#j.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#j.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#j.build(this,t),r=a.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(va(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#j.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,a){const r=this.defaultQueryOptions({queryKey:e}),n=this.#j.get(r.queryHash),s=n?.state.data,i=function(e,t){return"function"==typeof e?e(t):e}(t,s);if(void 0!==i)return this.#j.build(this,r).setData(i,{...a,manual:!0})}setQueriesData(e,t,a){return $a.batch(()=>this.#j.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#j.get(t.queryHash)?.state}removeQueries(e){const t=this.#j;$a.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const a=this.#j;return $a.batch(()=>(a.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},r=$a.batch(()=>this.#j.findAll(e).map(e=>e.cancel(a)));return Promise.all(r).then(ba).catch(ba)}invalidateQueries(e,t={}){return $a.batch(()=>(this.#j.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=$a.batch(()=>this.#j.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,a);return a.throwOnError||(t=t.catch(ba)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const a=this.#j.build(this,t);return a.isStaleByTime(va(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ba).catch(ba)}fetchInfiniteQuery(e){return e.behavior=Ka(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ba).catch(ba)}ensureInfiniteQueryData(e){return e.behavior=Ka(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fa.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#j}getMutationCache(){return this.#g}getDefaultOptions(){return this.#m}setDefaultOptions(e){this.#m=e}setQueryDefaults(e,t){this.#w.set(ka(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#w.values()],a={};return t.forEach(t=>{_a(e,t.queryKey)&&Object.assign(a,t.defaultOptions)}),a}setMutationDefaults(e,t){this.#N.set(ka(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#N.values()],a={};return t.forEach(t=>{_a(e,t.mutationKey)&&Object.assign(a,t.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#m.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Na(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ma&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#m.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#j.clear(),this.#g.clear()}}({defaultOptions:{queries:{staleTime:3e5,retry:2,refetchOnWindowFocus:!1}}});fa.createRoot(document.getElementById("root")).render(ma.jsx(a.StrictMode,{children:ma.jsxs(tr,{client:BA,children:[ma.jsx(RA,{}),ma.jsx(nr,{initialIsOpen:!1})]})}));const WA=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
